#!/usr/bin/env node
import ef from"node:events";import tf from"node:child_process";import rf from"node:path";import nf from"node:fs";import sf from"node:process";import le,{join as he,sep as of,normalize as af,delimiter as uf,resolve as qe,basename as co,dirname as cf,extname as lf,relative as dh}from"path";import ge,{existsSync as ar}from"fs";import hf from"constants";import ke from"stream";import Zt from"util";import ct from"assert";import lt,{tmpdir as ff}from"os";import*as ph from"child_process";import{execSync as mh}from"child_process";import ze from"events";import df from"url";import pf from"http";import mf from"https";import _h from"string_decoder";import _f from"buffer";import gh from"zlib";import gf from"process";import yh from"crypto";var $e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ae(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function yf(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var s=i.default;if(typeof s=="function"){var o=function h(){return this instanceof h?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};o.prototype=s.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(i).forEach(function(h){var n=Object.getOwnPropertyDescriptor(i,h);Object.defineProperty(o,h,n.get?n:{enumerable:!0,get:function(){return i[h]}})}),o}var Se={},ht={},ft={},lo;function Jt(){if(lo)return ft;lo=1;class i extends Error{constructor(h,n,t){super(t),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.code=n,this.exitCode=h,this.nestedError=void 0}}class s extends i{constructor(h){super(1,"commander.invalidArgument",h),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name}}return ft.CommanderError=i,ft.InvalidArgumentError=s,ft}var ho;function js(){if(ho)return ht;ho=1;const{InvalidArgumentError:i}=Jt();class s{constructor(n,t){switch(this.description=t||"",this.variadic=!1,this.parseArg=void 0,this.defaultValue=void 0,this.defaultValueDescription=void 0,this.argChoices=void 0,n[0]){case"<":this.required=!0,this._name=n.slice(1,-1);break;case"[":this.required=!1,this._name=n.slice(1,-1);break;default:this.required=!0,this._name=n;break}this._name.length>3&&this._name.slice(-3)==="..."&&(this.variadic=!0,this._name=this._name.slice(0,-3))}name(){return this._name}_concatValue(n,t){return t===this.defaultValue||!Array.isArray(t)?[n]:t.concat(n)}default(n,t){return this.defaultValue=n,this.defaultValueDescription=t,this}argParser(n){return this.parseArg=n,this}choices(n){return this.argChoices=n.slice(),this.parseArg=(t,e)=>{if(!this.argChoices.includes(t))throw new i(`Allowed choices are ${this.argChoices.join(", ")}.`);return this.variadic?this._concatValue(t,e):t},this}argRequired(){return this.required=!0,this}argOptional(){return this.required=!1,this}}function o(h){const n=h.name()+(h.variadic===!0?"...":"");return h.required?"<"+n+">":"["+n+"]"}return ht.Argument=s,ht.humanReadableArgName=o,ht}var dt={},pt={},fo;function vh(){if(fo)return pt;fo=1;const{humanReadableArgName:i}=js();class s{constructor(){this.helpWidth=void 0,this.minWidthToWrap=40,this.sortSubcommands=!1,this.sortOptions=!1,this.showGlobalOptions=!1}prepareContext(n){this.helpWidth=this.helpWidth??n.helpWidth??80}visibleCommands(n){const t=n.commands.filter(r=>!r._hidden),e=n._getHelpCommand();return e&&!e._hidden&&t.push(e),this.sortSubcommands&&t.sort((r,u)=>r.name().localeCompare(u.name())),t}compareOptions(n,t){const e=r=>r.short?r.short.replace(/^-/,""):r.long.replace(/^--/,"");return e(n).localeCompare(e(t))}visibleOptions(n){const t=n.options.filter(r=>!r.hidden),e=n._getHelpOption();if(e&&!e.hidden){const r=e.short&&n._findOption(e.short),u=e.long&&n._findOption(e.long);!r&&!u?t.push(e):e.long&&!u?t.push(n.createOption(e.long,e.description)):e.short&&!r&&t.push(n.createOption(e.short,e.description))}return this.sortOptions&&t.sort(this.compareOptions),t}visibleGlobalOptions(n){if(!this.showGlobalOptions)return[];const t=[];for(let e=n.parent;e;e=e.parent){const r=e.options.filter(u=>!u.hidden);t.push(...r)}return this.sortOptions&&t.sort(this.compareOptions),t}visibleArguments(n){return n._argsDescription&&n.registeredArguments.forEach(t=>{t.description=t.description||n._argsDescription[t.name()]||""}),n.registeredArguments.find(t=>t.description)?n.registeredArguments:[]}subcommandTerm(n){const t=n.registeredArguments.map(e=>i(e)).join(" ");return n._name+(n._aliases[0]?"|"+n._aliases[0]:"")+(n.options.length?" [options]":"")+(t?" "+t:"")}optionTerm(n){return n.flags}argumentTerm(n){return n.name()}longestSubcommandTermLength(n,t){return t.visibleCommands(n).reduce((e,r)=>Math.max(e,this.displayWidth(t.styleSubcommandTerm(t.subcommandTerm(r)))),0)}longestOptionTermLength(n,t){return t.visibleOptions(n).reduce((e,r)=>Math.max(e,this.displayWidth(t.styleOptionTerm(t.optionTerm(r)))),0)}longestGlobalOptionTermLength(n,t){return t.visibleGlobalOptions(n).reduce((e,r)=>Math.max(e,this.displayWidth(t.styleOptionTerm(t.optionTerm(r)))),0)}longestArgumentTermLength(n,t){return t.visibleArguments(n).reduce((e,r)=>Math.max(e,this.displayWidth(t.styleArgumentTerm(t.argumentTerm(r)))),0)}commandUsage(n){let t=n._name;n._aliases[0]&&(t=t+"|"+n._aliases[0]);let e="";for(let r=n.parent;r;r=r.parent)e=r.name()+" "+e;return e+t+" "+n.usage()}commandDescription(n){return n.description()}subcommandDescription(n){return n.summary()||n.description()}optionDescription(n){const t=[];return n.argChoices&&t.push(`choices: ${n.argChoices.map(e=>JSON.stringify(e)).join(", ")}`),n.defaultValue!==void 0&&(n.required||n.optional||n.isBoolean()&&typeof n.defaultValue=="boolean")&&t.push(`default: ${n.defaultValueDescription||JSON.stringify(n.defaultValue)}`),n.presetArg!==void 0&&n.optional&&t.push(`preset: ${JSON.stringify(n.presetArg)}`),n.envVar!==void 0&&t.push(`env: ${n.envVar}`),t.length>0?`${n.description} (${t.join(", ")})`:n.description}argumentDescription(n){const t=[];if(n.argChoices&&t.push(`choices: ${n.argChoices.map(e=>JSON.stringify(e)).join(", ")}`),n.defaultValue!==void 0&&t.push(`default: ${n.defaultValueDescription||JSON.stringify(n.defaultValue)}`),t.length>0){const e=`(${t.join(", ")})`;return n.description?`${n.description} ${e}`:e}return n.description}formatHelp(n,t){const e=t.padWidth(n,t),r=t.helpWidth??80;function u(w,S){return t.formatItem(w,e,S,t)}let c=[`${t.styleTitle("Usage:")} ${t.styleUsage(t.commandUsage(n))}`,""];const d=t.commandDescription(n);d.length>0&&(c=c.concat([t.boxWrap(t.styleCommandDescription(d),r),""]));const v=t.visibleArguments(n).map(w=>u(t.styleArgumentTerm(t.argumentTerm(w)),t.styleArgumentDescription(t.argumentDescription(w))));v.length>0&&(c=c.concat([t.styleTitle("Arguments:"),...v,""]));const m=t.visibleOptions(n).map(w=>u(t.styleOptionTerm(t.optionTerm(w)),t.styleOptionDescription(t.optionDescription(w))));if(m.length>0&&(c=c.concat([t.styleTitle("Options:"),...m,""])),t.showGlobalOptions){const w=t.visibleGlobalOptions(n).map(S=>u(t.styleOptionTerm(t.optionTerm(S)),t.styleOptionDescription(t.optionDescription(S))));w.length>0&&(c=c.concat([t.styleTitle("Global Options:"),...w,""]))}const R=t.visibleCommands(n).map(w=>u(t.styleSubcommandTerm(t.subcommandTerm(w)),t.styleSubcommandDescription(t.subcommandDescription(w))));return R.length>0&&(c=c.concat([t.styleTitle("Commands:"),...R,""])),c.join(`
`)}displayWidth(n){return o(n).length}styleTitle(n){return n}styleUsage(n){return n.split(" ").map(t=>t==="[options]"?this.styleOptionText(t):t==="[command]"?this.styleSubcommandText(t):t[0]==="["||t[0]==="<"?this.styleArgumentText(t):this.styleCommandText(t)).join(" ")}styleCommandDescription(n){return this.styleDescriptionText(n)}styleOptionDescription(n){return this.styleDescriptionText(n)}styleSubcommandDescription(n){return this.styleDescriptionText(n)}styleArgumentDescription(n){return this.styleDescriptionText(n)}styleDescriptionText(n){return n}styleOptionTerm(n){return this.styleOptionText(n)}styleSubcommandTerm(n){return n.split(" ").map(t=>t==="[options]"?this.styleOptionText(t):t[0]==="["||t[0]==="<"?this.styleArgumentText(t):this.styleSubcommandText(t)).join(" ")}styleArgumentTerm(n){return this.styleArgumentText(n)}styleOptionText(n){return n}styleArgumentText(n){return n}styleSubcommandText(n){return n}styleCommandText(n){return n}padWidth(n,t){return Math.max(t.longestOptionTermLength(n,t),t.longestGlobalOptionTermLength(n,t),t.longestSubcommandTermLength(n,t),t.longestArgumentTermLength(n,t))}preformatted(n){return/\n[^\S\r\n]/.test(n)}formatItem(n,t,e,r){const c=" ".repeat(2);if(!e)return c+n;const d=n.padEnd(t+n.length-r.displayWidth(n)),v=2,R=(this.helpWidth??80)-t-v-2;let w;return R<this.minWidthToWrap||r.preformatted(e)?w=e:w=r.boxWrap(e,R).replace(/\n/g,`
`+" ".repeat(t+v)),c+d+" ".repeat(v)+w.replace(/\n/g,`
${c}`)}boxWrap(n,t){if(t<this.minWidthToWrap)return n;const e=n.split(/\r\n|\n/),r=/[\s]*[^\s]+/g,u=[];return e.forEach(c=>{const d=c.match(r);if(d===null){u.push("");return}let v=[d.shift()],m=this.displayWidth(v[0]);d.forEach(R=>{const w=this.displayWidth(R);if(m+w<=t){v.push(R),m+=w;return}u.push(v.join(""));const S=R.trimStart();v=[S],m=this.displayWidth(S)}),u.push(v.join(""))}),u.join(`
`)}}function o(h){const n=/\x1b\[\d*(;\d*)*m/g;return h.replace(n,"")}return pt.Help=s,pt.stripColor=o,pt}var mt={},po;function Eh(){if(po)return mt;po=1;const{InvalidArgumentError:i}=Jt();class s{constructor(e,r){this.flags=e,this.description=r||"",this.required=e.includes("<"),this.optional=e.includes("["),this.variadic=/\w\.\.\.[>\]]$/.test(e),this.mandatory=!1;const u=n(e);this.short=u.shortFlag,this.long=u.longFlag,this.negate=!1,this.long&&(this.negate=this.long.startsWith("--no-")),this.defaultValue=void 0,this.defaultValueDescription=void 0,this.presetArg=void 0,this.envVar=void 0,this.parseArg=void 0,this.hidden=!1,this.argChoices=void 0,this.conflictsWith=[],this.implied=void 0}default(e,r){return this.defaultValue=e,this.defaultValueDescription=r,this}preset(e){return this.presetArg=e,this}conflicts(e){return this.conflictsWith=this.conflictsWith.concat(e),this}implies(e){let r=e;return typeof e=="string"&&(r={[e]:!0}),this.implied=Object.assign(this.implied||{},r),this}env(e){return this.envVar=e,this}argParser(e){return this.parseArg=e,this}makeOptionMandatory(e=!0){return this.mandatory=!!e,this}hideHelp(e=!0){return this.hidden=!!e,this}_concatValue(e,r){return r===this.defaultValue||!Array.isArray(r)?[e]:r.concat(e)}choices(e){return this.argChoices=e.slice(),this.parseArg=(r,u)=>{if(!this.argChoices.includes(r))throw new i(`Allowed choices are ${this.argChoices.join(", ")}.`);return this.variadic?this._concatValue(r,u):r},this}name(){return this.long?this.long.replace(/^--/,""):this.short.replace(/^-/,"")}attributeName(){return this.negate?h(this.name().replace(/^no-/,"")):h(this.name())}is(e){return this.short===e||this.long===e}isBoolean(){return!this.required&&!this.optional&&!this.negate}}class o{constructor(e){this.positiveOptions=new Map,this.negativeOptions=new Map,this.dualOptions=new Set,e.forEach(r=>{r.negate?this.negativeOptions.set(r.attributeName(),r):this.positiveOptions.set(r.attributeName(),r)}),this.negativeOptions.forEach((r,u)=>{this.positiveOptions.has(u)&&this.dualOptions.add(u)})}valueFromOption(e,r){const u=r.attributeName();if(!this.dualOptions.has(u))return!0;const c=this.negativeOptions.get(u).presetArg,d=c!==void 0?c:!1;return r.negate===(d===e)}}function h(t){return t.split("-").reduce((e,r)=>e+r[0].toUpperCase()+r.slice(1))}function n(t){let e,r;const u=/^-[^-]$/,c=/^--[^-]/,d=t.split(/[ |,]+/).concat("guard");if(u.test(d[0])&&(e=d.shift()),c.test(d[0])&&(r=d.shift()),!e&&u.test(d[0])&&(e=d.shift()),!e&&c.test(d[0])&&(e=r,r=d.shift()),d[0].startsWith("-")){const v=d[0],m=`option creation failed due to '${v}' in option flags '${t}'`;throw/^-[^-][^-]/.test(v)?new Error(`${m}
- a short flag is a single dash and a single character
  - either use a single dash and a single character (for a short flag)
  - or use a double dash for a long option (and can have two, like '--ws, --workspace')`):u.test(v)?new Error(`${m}
- too many short flags`):c.test(v)?new Error(`${m}
- too many long flags`):new Error(`${m}
- unrecognised flag format`)}if(e===void 0&&r===void 0)throw new Error(`option creation failed due to no flags found in '${t}'.`);return{shortFlag:e,longFlag:r}}return mt.Option=s,mt.DualOptions=o,mt}var ur={},mo;function vf(){if(mo)return ur;mo=1;const i=3;function s(h,n){if(Math.abs(h.length-n.length)>i)return Math.max(h.length,n.length);const t=[];for(let e=0;e<=h.length;e++)t[e]=[e];for(let e=0;e<=n.length;e++)t[0][e]=e;for(let e=1;e<=n.length;e++)for(let r=1;r<=h.length;r++){let u=1;h[r-1]===n[e-1]?u=0:u=1,t[r][e]=Math.min(t[r-1][e]+1,t[r][e-1]+1,t[r-1][e-1]+u),r>1&&e>1&&h[r-1]===n[e-2]&&h[r-2]===n[e-1]&&(t[r][e]=Math.min(t[r][e],t[r-2][e-2]+1))}return t[h.length][n.length]}function o(h,n){if(!n||n.length===0)return"";n=Array.from(new Set(n));const t=h.startsWith("--");t&&(h=h.slice(2),n=n.map(c=>c.slice(2)));let e=[],r=i;const u=.4;return n.forEach(c=>{if(c.length<=1)return;const d=s(h,c),v=Math.max(h.length,c.length);(v-d)/v>u&&(d<r?(r=d,e=[c]):d===r&&e.push(c))}),e.sort((c,d)=>c.localeCompare(d)),t&&(e=e.map(c=>`--${c}`)),e.length>1?`
(Did you mean one of ${e.join(", ")}?)`:e.length===1?`
(Did you mean ${e[0]}?)`:""}return ur.suggestSimilar=o,ur}var _o;function Ef(){if(_o)return dt;_o=1;const i=ef.EventEmitter,s=tf,o=rf,h=nf,n=sf,{Argument:t,humanReadableArgName:e}=js(),{CommanderError:r}=Jt(),{Help:u,stripColor:c}=vh(),{Option:d,DualOptions:v}=Eh(),{suggestSimilar:m}=vf();class R extends i{constructor(a){super(),this.commands=[],this.options=[],this.parent=null,this._allowUnknownOption=!1,this._allowExcessArguments=!1,this.registeredArguments=[],this._args=this.registeredArguments,this.args=[],this.rawArgs=[],this.processedArgs=[],this._scriptPath=null,this._name=a||"",this._optionValues={},this._optionValueSources={},this._storeOptionsAsProperties=!1,this._actionHandler=null,this._executableHandler=!1,this._executableFile=null,this._executableDir=null,this._defaultCommandName=null,this._exitCallback=null,this._aliases=[],this._combineFlagAndOptionalValue=!0,this._description="",this._summary="",this._argsDescription=void 0,this._enablePositionalOptions=!1,this._passThroughOptions=!1,this._lifeCycleHooks={},this._showHelpAfterError=!1,this._showSuggestionAfterError=!0,this._savedState=null,this._outputConfiguration={writeOut:f=>n.stdout.write(f),writeErr:f=>n.stderr.write(f),outputError:(f,l)=>l(f),getOutHelpWidth:()=>n.stdout.isTTY?n.stdout.columns:void 0,getErrHelpWidth:()=>n.stderr.isTTY?n.stderr.columns:void 0,getOutHasColors:()=>S()??(n.stdout.isTTY&&n.stdout.hasColors?.()),getErrHasColors:()=>S()??(n.stderr.isTTY&&n.stderr.hasColors?.()),stripColor:f=>c(f)},this._hidden=!1,this._helpOption=void 0,this._addImplicitHelpCommand=void 0,this._helpCommand=void 0,this._helpConfiguration={}}copyInheritedSettings(a){return this._outputConfiguration=a._outputConfiguration,this._helpOption=a._helpOption,this._helpCommand=a._helpCommand,this._helpConfiguration=a._helpConfiguration,this._exitCallback=a._exitCallback,this._storeOptionsAsProperties=a._storeOptionsAsProperties,this._combineFlagAndOptionalValue=a._combineFlagAndOptionalValue,this._allowExcessArguments=a._allowExcessArguments,this._enablePositionalOptions=a._enablePositionalOptions,this._showHelpAfterError=a._showHelpAfterError,this._showSuggestionAfterError=a._showSuggestionAfterError,this}_getCommandAndAncestors(){const a=[];for(let f=this;f;f=f.parent)a.push(f);return a}command(a,f,l){let _=f,p=l;typeof _=="object"&&_!==null&&(p=_,_=null),p=p||{};const[,E,y]=a.match(/([^ ]+) *(.*)/),b=this.createCommand(E);return _&&(b.description(_),b._executableHandler=!0),p.isDefault&&(this._defaultCommandName=b._name),b._hidden=!!(p.noHelp||p.hidden),b._executableFile=p.executableFile||null,y&&b.arguments(y),this._registerCommand(b),b.parent=this,b.copyInheritedSettings(this),_?this:b}createCommand(a){return new R(a)}createHelp(){return Object.assign(new u,this.configureHelp())}configureHelp(a){return a===void 0?this._helpConfiguration:(this._helpConfiguration=a,this)}configureOutput(a){return a===void 0?this._outputConfiguration:(Object.assign(this._outputConfiguration,a),this)}showHelpAfterError(a=!0){return typeof a!="string"&&(a=!!a),this._showHelpAfterError=a,this}showSuggestionAfterError(a=!0){return this._showSuggestionAfterError=!!a,this}addCommand(a,f){if(!a._name)throw new Error(`Command passed to .addCommand() must have a name
- specify the name in Command constructor or using .name()`);return f=f||{},f.isDefault&&(this._defaultCommandName=a._name),(f.noHelp||f.hidden)&&(a._hidden=!0),this._registerCommand(a),a.parent=this,a._checkForBrokenPassThrough(),this}createArgument(a,f){return new t(a,f)}argument(a,f,l,_){const p=this.createArgument(a,f);return typeof l=="function"?p.default(_).argParser(l):p.default(l),this.addArgument(p),this}arguments(a){return a.trim().split(/ +/).forEach(f=>{this.argument(f)}),this}addArgument(a){const f=this.registeredArguments.slice(-1)[0];if(f&&f.variadic)throw new Error(`only the last argument can be variadic '${f.name()}'`);if(a.required&&a.defaultValue!==void 0&&a.parseArg===void 0)throw new Error(`a default value for a required argument is never used: '${a.name()}'`);return this.registeredArguments.push(a),this}helpCommand(a,f){if(typeof a=="boolean")return this._addImplicitHelpCommand=a,this;a=a??"help [command]";const[,l,_]=a.match(/([^ ]+) *(.*)/),p=f??"display help for command",E=this.createCommand(l);return E.helpOption(!1),_&&E.arguments(_),p&&E.description(p),this._addImplicitHelpCommand=!0,this._helpCommand=E,this}addHelpCommand(a,f){return typeof a!="object"?(this.helpCommand(a,f),this):(this._addImplicitHelpCommand=!0,this._helpCommand=a,this)}_getHelpCommand(){return this._addImplicitHelpCommand??(this.commands.length&&!this._actionHandler&&!this._findCommand("help"))?(this._helpCommand===void 0&&this.helpCommand(void 0,void 0),this._helpCommand):null}hook(a,f){const l=["preSubcommand","preAction","postAction"];if(!l.includes(a))throw new Error(`Unexpected value for event passed to hook : '${a}'.
Expecting one of '${l.join("', '")}'`);return this._lifeCycleHooks[a]?this._lifeCycleHooks[a].push(f):this._lifeCycleHooks[a]=[f],this}exitOverride(a){return a?this._exitCallback=a:this._exitCallback=f=>{if(f.code!=="commander.executeSubCommandAsync")throw f},this}_exit(a,f,l){this._exitCallback&&this._exitCallback(new r(a,f,l)),n.exit(a)}action(a){const f=l=>{const _=this.registeredArguments.length,p=l.slice(0,_);return this._storeOptionsAsProperties?p[_]=this:p[_]=this.opts(),p.push(this),a.apply(this,p)};return this._actionHandler=f,this}createOption(a,f){return new d(a,f)}_callParseArg(a,f,l,_){try{return a.parseArg(f,l)}catch(p){if(p.code==="commander.invalidArgument"){const E=`${_} ${p.message}`;this.error(E,{exitCode:p.exitCode,code:p.code})}throw p}}_registerOption(a){const f=a.short&&this._findOption(a.short)||a.long&&this._findOption(a.long);if(f){const l=a.long&&this._findOption(a.long)?a.long:a.short;throw new Error(`Cannot add option '${a.flags}'${this._name&&` to command '${this._name}'`} due to conflicting flag '${l}'
-  already used by option '${f.flags}'`)}this.options.push(a)}_registerCommand(a){const f=_=>[_.name()].concat(_.aliases()),l=f(a).find(_=>this._findCommand(_));if(l){const _=f(this._findCommand(l)).join("|"),p=f(a).join("|");throw new Error(`cannot add command '${p}' as already have command '${_}'`)}this.commands.push(a)}addOption(a){this._registerOption(a);const f=a.name(),l=a.attributeName();if(a.negate){const p=a.long.replace(/^--no-/,"--");this._findOption(p)||this.setOptionValueWithSource(l,a.defaultValue===void 0?!0:a.defaultValue,"default")}else a.defaultValue!==void 0&&this.setOptionValueWithSource(l,a.defaultValue,"default");const _=(p,E,y)=>{p==null&&a.presetArg!==void 0&&(p=a.presetArg);const b=this.getOptionValue(l);p!==null&&a.parseArg?p=this._callParseArg(a,p,b,E):p!==null&&a.variadic&&(p=a._concatValue(p,b)),p==null&&(a.negate?p=!1:a.isBoolean()||a.optional?p=!0:p=""),this.setOptionValueWithSource(l,p,y)};return this.on("option:"+f,p=>{const E=`error: option '${a.flags}' argument '${p}' is invalid.`;_(p,E,"cli")}),a.envVar&&this.on("optionEnv:"+f,p=>{const E=`error: option '${a.flags}' value '${p}' from env '${a.envVar}' is invalid.`;_(p,E,"env")}),this}_optionEx(a,f,l,_,p){if(typeof f=="object"&&f instanceof d)throw new Error("To add an Option object use addOption() instead of option() or requiredOption()");const E=this.createOption(f,l);if(E.makeOptionMandatory(!!a.mandatory),typeof _=="function")E.default(p).argParser(_);else if(_ instanceof RegExp){const y=_;_=(b,A)=>{const P=y.exec(b);return P?P[0]:A},E.default(p).argParser(_)}else E.default(_);return this.addOption(E)}option(a,f,l,_){return this._optionEx({},a,f,l,_)}requiredOption(a,f,l,_){return this._optionEx({mandatory:!0},a,f,l,_)}combineFlagAndOptionalValue(a=!0){return this._combineFlagAndOptionalValue=!!a,this}allowUnknownOption(a=!0){return this._allowUnknownOption=!!a,this}allowExcessArguments(a=!0){return this._allowExcessArguments=!!a,this}enablePositionalOptions(a=!0){return this._enablePositionalOptions=!!a,this}passThroughOptions(a=!0){return this._passThroughOptions=!!a,this._checkForBrokenPassThrough(),this}_checkForBrokenPassThrough(){if(this.parent&&this._passThroughOptions&&!this.parent._enablePositionalOptions)throw new Error(`passThroughOptions cannot be used for '${this._name}' without turning on enablePositionalOptions for parent command(s)`)}storeOptionsAsProperties(a=!0){if(this.options.length)throw new Error("call .storeOptionsAsProperties() before adding options");if(Object.keys(this._optionValues).length)throw new Error("call .storeOptionsAsProperties() before setting option values");return this._storeOptionsAsProperties=!!a,this}getOptionValue(a){return this._storeOptionsAsProperties?this[a]:this._optionValues[a]}setOptionValue(a,f){return this.setOptionValueWithSource(a,f,void 0)}setOptionValueWithSource(a,f,l){return this._storeOptionsAsProperties?this[a]=f:this._optionValues[a]=f,this._optionValueSources[a]=l,this}getOptionValueSource(a){return this._optionValueSources[a]}getOptionValueSourceWithGlobals(a){let f;return this._getCommandAndAncestors().forEach(l=>{l.getOptionValueSource(a)!==void 0&&(f=l.getOptionValueSource(a))}),f}_prepareUserArgs(a,f){if(a!==void 0&&!Array.isArray(a))throw new Error("first parameter to parse must be array or undefined");if(f=f||{},a===void 0&&f.from===void 0){n.versions?.electron&&(f.from="electron");const _=n.execArgv??[];(_.includes("-e")||_.includes("--eval")||_.includes("-p")||_.includes("--print"))&&(f.from="eval")}a===void 0&&(a=n.argv),this.rawArgs=a.slice();let l;switch(f.from){case void 0:case"node":this._scriptPath=a[1],l=a.slice(2);break;case"electron":n.defaultApp?(this._scriptPath=a[1],l=a.slice(2)):l=a.slice(1);break;case"user":l=a.slice(0);break;case"eval":l=a.slice(1);break;default:throw new Error(`unexpected parse option { from: '${f.from}' }`)}return!this._name&&this._scriptPath&&this.nameFromFilename(this._scriptPath),this._name=this._name||"program",l}parse(a,f){this._prepareForParse();const l=this._prepareUserArgs(a,f);return this._parseCommand([],l),this}async parseAsync(a,f){this._prepareForParse();const l=this._prepareUserArgs(a,f);return await this._parseCommand([],l),this}_prepareForParse(){this._savedState===null?this.saveStateBeforeParse():this.restoreStateBeforeParse()}saveStateBeforeParse(){this._savedState={_name:this._name,_optionValues:{...this._optionValues},_optionValueSources:{...this._optionValueSources}}}restoreStateBeforeParse(){if(this._storeOptionsAsProperties)throw new Error(`Can not call parse again when storeOptionsAsProperties is true.
- either make a new Command for each call to parse, or stop storing options as properties`);this._name=this._savedState._name,this._scriptPath=null,this.rawArgs=[],this._optionValues={...this._savedState._optionValues},this._optionValueSources={...this._savedState._optionValueSources},this.args=[],this.processedArgs=[]}_checkForMissingExecutable(a,f,l){if(h.existsSync(a))return;const _=f?`searched for local subcommand relative to directory '${f}'`:"no directory for search for local subcommand, use .executableDir() to supply a custom directory",p=`'${a}' does not exist
 - if '${l}' is not meant to be an executable command, remove description parameter from '.command()' and use '.description()' instead
 - if the default executable name is not suitable, use the executableFile option to supply a custom name or path
 - ${_}`;throw new Error(p)}_executeSubCommand(a,f){f=f.slice();let l=!1;const _=[".js",".ts",".tsx",".mjs",".cjs"];function p(P,D){const q=o.resolve(P,D);if(h.existsSync(q))return q;if(_.includes(o.extname(D)))return;const $=_.find(L=>h.existsSync(`${q}${L}`));if($)return`${q}${$}`}this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();let E=a._executableFile||`${this._name}-${a._name}`,y=this._executableDir||"";if(this._scriptPath){let P;try{P=h.realpathSync(this._scriptPath)}catch{P=this._scriptPath}y=o.resolve(o.dirname(P),y)}if(y){let P=p(y,E);if(!P&&!a._executableFile&&this._scriptPath){const D=o.basename(this._scriptPath,o.extname(this._scriptPath));D!==this._name&&(P=p(y,`${D}-${a._name}`))}E=P||E}l=_.includes(o.extname(E));let b;n.platform!=="win32"?l?(f.unshift(E),f=w(n.execArgv).concat(f),b=s.spawn(n.argv[0],f,{stdio:"inherit"})):b=s.spawn(E,f,{stdio:"inherit"}):(this._checkForMissingExecutable(E,y,a._name),f.unshift(E),f=w(n.execArgv).concat(f),b=s.spawn(n.execPath,f,{stdio:"inherit"})),b.killed||["SIGUSR1","SIGUSR2","SIGTERM","SIGINT","SIGHUP"].forEach(D=>{n.on(D,()=>{b.killed===!1&&b.exitCode===null&&b.kill(D)})});const A=this._exitCallback;b.on("close",P=>{P=P??1,A?A(new r(P,"commander.executeSubCommandAsync","(close)")):n.exit(P)}),b.on("error",P=>{if(P.code==="ENOENT")this._checkForMissingExecutable(E,y,a._name);else if(P.code==="EACCES")throw new Error(`'${E}' not executable`);if(!A)n.exit(1);else{const D=new r(1,"commander.executeSubCommandAsync","(error)");D.nestedError=P,A(D)}}),this.runningCommand=b}_dispatchSubcommand(a,f,l){const _=this._findCommand(a);_||this.help({error:!0}),_._prepareForParse();let p;return p=this._chainOrCallSubCommandHook(p,_,"preSubcommand"),p=this._chainOrCall(p,()=>{if(_._executableHandler)this._executeSubCommand(_,f.concat(l));else return _._parseCommand(f,l)}),p}_dispatchHelpCommand(a){a||this.help();const f=this._findCommand(a);return f&&!f._executableHandler&&f.help(),this._dispatchSubcommand(a,[],[this._getHelpOption()?.long??this._getHelpOption()?.short??"--help"])}_checkNumberOfArguments(){this.registeredArguments.forEach((a,f)=>{a.required&&this.args[f]==null&&this.missingArgument(a.name())}),!(this.registeredArguments.length>0&&this.registeredArguments[this.registeredArguments.length-1].variadic)&&this.args.length>this.registeredArguments.length&&this._excessArguments(this.args)}_processArguments(){const a=(l,_,p)=>{let E=_;if(_!==null&&l.parseArg){const y=`error: command-argument value '${_}' is invalid for argument '${l.name()}'.`;E=this._callParseArg(l,_,p,y)}return E};this._checkNumberOfArguments();const f=[];this.registeredArguments.forEach((l,_)=>{let p=l.defaultValue;l.variadic?_<this.args.length?(p=this.args.slice(_),l.parseArg&&(p=p.reduce((E,y)=>a(l,y,E),l.defaultValue))):p===void 0&&(p=[]):_<this.args.length&&(p=this.args[_],l.parseArg&&(p=a(l,p,l.defaultValue))),f[_]=p}),this.processedArgs=f}_chainOrCall(a,f){return a&&a.then&&typeof a.then=="function"?a.then(()=>f()):f()}_chainOrCallHooks(a,f){let l=a;const _=[];return this._getCommandAndAncestors().reverse().filter(p=>p._lifeCycleHooks[f]!==void 0).forEach(p=>{p._lifeCycleHooks[f].forEach(E=>{_.push({hookedCommand:p,callback:E})})}),f==="postAction"&&_.reverse(),_.forEach(p=>{l=this._chainOrCall(l,()=>p.callback(p.hookedCommand,this))}),l}_chainOrCallSubCommandHook(a,f,l){let _=a;return this._lifeCycleHooks[l]!==void 0&&this._lifeCycleHooks[l].forEach(p=>{_=this._chainOrCall(_,()=>p(this,f))}),_}_parseCommand(a,f){const l=this.parseOptions(f);if(this._parseOptionsEnv(),this._parseOptionsImplied(),a=a.concat(l.operands),f=l.unknown,this.args=a.concat(f),a&&this._findCommand(a[0]))return this._dispatchSubcommand(a[0],a.slice(1),f);if(this._getHelpCommand()&&a[0]===this._getHelpCommand().name())return this._dispatchHelpCommand(a[1]);if(this._defaultCommandName)return this._outputHelpIfRequested(f),this._dispatchSubcommand(this._defaultCommandName,a,f);this.commands.length&&this.args.length===0&&!this._actionHandler&&!this._defaultCommandName&&this.help({error:!0}),this._outputHelpIfRequested(l.unknown),this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();const _=()=>{l.unknown.length>0&&this.unknownOption(l.unknown[0])},p=`command:${this.name()}`;if(this._actionHandler){_(),this._processArguments();let E;return E=this._chainOrCallHooks(E,"preAction"),E=this._chainOrCall(E,()=>this._actionHandler(this.processedArgs)),this.parent&&(E=this._chainOrCall(E,()=>{this.parent.emit(p,a,f)})),E=this._chainOrCallHooks(E,"postAction"),E}if(this.parent&&this.parent.listenerCount(p))_(),this._processArguments(),this.parent.emit(p,a,f);else if(a.length){if(this._findCommand("*"))return this._dispatchSubcommand("*",a,f);this.listenerCount("command:*")?this.emit("command:*",a,f):this.commands.length?this.unknownCommand():(_(),this._processArguments())}else this.commands.length?(_(),this.help({error:!0})):(_(),this._processArguments())}_findCommand(a){if(a)return this.commands.find(f=>f._name===a||f._aliases.includes(a))}_findOption(a){return this.options.find(f=>f.is(a))}_checkForMissingMandatoryOptions(){this._getCommandAndAncestors().forEach(a=>{a.options.forEach(f=>{f.mandatory&&a.getOptionValue(f.attributeName())===void 0&&a.missingMandatoryOptionValue(f)})})}_checkForConflictingLocalOptions(){const a=this.options.filter(l=>{const _=l.attributeName();return this.getOptionValue(_)===void 0?!1:this.getOptionValueSource(_)!=="default"});a.filter(l=>l.conflictsWith.length>0).forEach(l=>{const _=a.find(p=>l.conflictsWith.includes(p.attributeName()));_&&this._conflictingOption(l,_)})}_checkForConflictingOptions(){this._getCommandAndAncestors().forEach(a=>{a._checkForConflictingLocalOptions()})}parseOptions(a){const f=[],l=[];let _=f;const p=a.slice();function E(b){return b.length>1&&b[0]==="-"}let y=null;for(;p.length;){const b=p.shift();if(b==="--"){_===l&&_.push(b),_.push(...p);break}if(y&&!E(b)){this.emit(`option:${y.name()}`,b);continue}if(y=null,E(b)){const A=this._findOption(b);if(A){if(A.required){const P=p.shift();P===void 0&&this.optionMissingArgument(A),this.emit(`option:${A.name()}`,P)}else if(A.optional){let P=null;p.length>0&&!E(p[0])&&(P=p.shift()),this.emit(`option:${A.name()}`,P)}else this.emit(`option:${A.name()}`);y=A.variadic?A:null;continue}}if(b.length>2&&b[0]==="-"&&b[1]!=="-"){const A=this._findOption(`-${b[1]}`);if(A){A.required||A.optional&&this._combineFlagAndOptionalValue?this.emit(`option:${A.name()}`,b.slice(2)):(this.emit(`option:${A.name()}`),p.unshift(`-${b.slice(2)}`));continue}}if(/^--[^=]+=/.test(b)){const A=b.indexOf("="),P=this._findOption(b.slice(0,A));if(P&&(P.required||P.optional)){this.emit(`option:${P.name()}`,b.slice(A+1));continue}}if(E(b)&&(_=l),(this._enablePositionalOptions||this._passThroughOptions)&&f.length===0&&l.length===0){if(this._findCommand(b)){f.push(b),p.length>0&&l.push(...p);break}else if(this._getHelpCommand()&&b===this._getHelpCommand().name()){f.push(b),p.length>0&&f.push(...p);break}else if(this._defaultCommandName){l.push(b),p.length>0&&l.push(...p);break}}if(this._passThroughOptions){_.push(b),p.length>0&&_.push(...p);break}_.push(b)}return{operands:f,unknown:l}}opts(){if(this._storeOptionsAsProperties){const a={},f=this.options.length;for(let l=0;l<f;l++){const _=this.options[l].attributeName();a[_]=_===this._versionOptionName?this._version:this[_]}return a}return this._optionValues}optsWithGlobals(){return this._getCommandAndAncestors().reduce((a,f)=>Object.assign(a,f.opts()),{})}error(a,f){this._outputConfiguration.outputError(`${a}
`,this._outputConfiguration.writeErr),typeof this._showHelpAfterError=="string"?this._outputConfiguration.writeErr(`${this._showHelpAfterError}
`):this._showHelpAfterError&&(this._outputConfiguration.writeErr(`
`),this.outputHelp({error:!0}));const l=f||{},_=l.exitCode||1,p=l.code||"commander.error";this._exit(_,p,a)}_parseOptionsEnv(){this.options.forEach(a=>{if(a.envVar&&a.envVar in n.env){const f=a.attributeName();(this.getOptionValue(f)===void 0||["default","config","env"].includes(this.getOptionValueSource(f)))&&(a.required||a.optional?this.emit(`optionEnv:${a.name()}`,n.env[a.envVar]):this.emit(`optionEnv:${a.name()}`))}})}_parseOptionsImplied(){const a=new v(this.options),f=l=>this.getOptionValue(l)!==void 0&&!["default","implied"].includes(this.getOptionValueSource(l));this.options.filter(l=>l.implied!==void 0&&f(l.attributeName())&&a.valueFromOption(this.getOptionValue(l.attributeName()),l)).forEach(l=>{Object.keys(l.implied).filter(_=>!f(_)).forEach(_=>{this.setOptionValueWithSource(_,l.implied[_],"implied")})})}missingArgument(a){const f=`error: missing required argument '${a}'`;this.error(f,{code:"commander.missingArgument"})}optionMissingArgument(a){const f=`error: option '${a.flags}' argument missing`;this.error(f,{code:"commander.optionMissingArgument"})}missingMandatoryOptionValue(a){const f=`error: required option '${a.flags}' not specified`;this.error(f,{code:"commander.missingMandatoryOptionValue"})}_conflictingOption(a,f){const l=E=>{const y=E.attributeName(),b=this.getOptionValue(y),A=this.options.find(D=>D.negate&&y===D.attributeName()),P=this.options.find(D=>!D.negate&&y===D.attributeName());return A&&(A.presetArg===void 0&&b===!1||A.presetArg!==void 0&&b===A.presetArg)?A:P||E},_=E=>{const y=l(E),b=y.attributeName();return this.getOptionValueSource(b)==="env"?`environment variable '${y.envVar}'`:`option '${y.flags}'`},p=`error: ${_(a)} cannot be used with ${_(f)}`;this.error(p,{code:"commander.conflictingOption"})}unknownOption(a){if(this._allowUnknownOption)return;let f="";if(a.startsWith("--")&&this._showSuggestionAfterError){let _=[],p=this;do{const E=p.createHelp().visibleOptions(p).filter(y=>y.long).map(y=>y.long);_=_.concat(E),p=p.parent}while(p&&!p._enablePositionalOptions);f=m(a,_)}const l=`error: unknown option '${a}'${f}`;this.error(l,{code:"commander.unknownOption"})}_excessArguments(a){if(this._allowExcessArguments)return;const f=this.registeredArguments.length,l=f===1?"":"s",p=`error: too many arguments${this.parent?` for '${this.name()}'`:""}. Expected ${f} argument${l} but got ${a.length}.`;this.error(p,{code:"commander.excessArguments"})}unknownCommand(){const a=this.args[0];let f="";if(this._showSuggestionAfterError){const _=[];this.createHelp().visibleCommands(this).forEach(p=>{_.push(p.name()),p.alias()&&_.push(p.alias())}),f=m(a,_)}const l=`error: unknown command '${a}'${f}`;this.error(l,{code:"commander.unknownCommand"})}version(a,f,l){if(a===void 0)return this._version;this._version=a,f=f||"-V, --version",l=l||"output the version number";const _=this.createOption(f,l);return this._versionOptionName=_.attributeName(),this._registerOption(_),this.on("option:"+_.name(),()=>{this._outputConfiguration.writeOut(`${a}
`),this._exit(0,"commander.version",a)}),this}description(a,f){return a===void 0&&f===void 0?this._description:(this._description=a,f&&(this._argsDescription=f),this)}summary(a){return a===void 0?this._summary:(this._summary=a,this)}alias(a){if(a===void 0)return this._aliases[0];let f=this;if(this.commands.length!==0&&this.commands[this.commands.length-1]._executableHandler&&(f=this.commands[this.commands.length-1]),a===f._name)throw new Error("Command alias can't be the same as its name");const l=this.parent?._findCommand(a);if(l){const _=[l.name()].concat(l.aliases()).join("|");throw new Error(`cannot add alias '${a}' to command '${this.name()}' as already have command '${_}'`)}return f._aliases.push(a),this}aliases(a){return a===void 0?this._aliases:(a.forEach(f=>this.alias(f)),this)}usage(a){if(a===void 0){if(this._usage)return this._usage;const f=this.registeredArguments.map(l=>e(l));return[].concat(this.options.length||this._helpOption!==null?"[options]":[],this.commands.length?"[command]":[],this.registeredArguments.length?f:[]).join(" ")}return this._usage=a,this}name(a){return a===void 0?this._name:(this._name=a,this)}nameFromFilename(a){return this._name=o.basename(a,o.extname(a)),this}executableDir(a){return a===void 0?this._executableDir:(this._executableDir=a,this)}helpInformation(a){const f=this.createHelp(),l=this._getOutputContext(a);f.prepareContext({error:l.error,helpWidth:l.helpWidth,outputHasColors:l.hasColors});const _=f.formatHelp(this,f);return l.hasColors?_:this._outputConfiguration.stripColor(_)}_getOutputContext(a){a=a||{};const f=!!a.error;let l,_,p;return f?(l=y=>this._outputConfiguration.writeErr(y),_=this._outputConfiguration.getErrHasColors(),p=this._outputConfiguration.getErrHelpWidth()):(l=y=>this._outputConfiguration.writeOut(y),_=this._outputConfiguration.getOutHasColors(),p=this._outputConfiguration.getOutHelpWidth()),{error:f,write:y=>(_||(y=this._outputConfiguration.stripColor(y)),l(y)),hasColors:_,helpWidth:p}}outputHelp(a){let f;typeof a=="function"&&(f=a,a=void 0);const l=this._getOutputContext(a),_={error:l.error,write:l.write,command:this};this._getCommandAndAncestors().reverse().forEach(E=>E.emit("beforeAllHelp",_)),this.emit("beforeHelp",_);let p=this.helpInformation({error:l.error});if(f&&(p=f(p),typeof p!="string"&&!Buffer.isBuffer(p)))throw new Error("outputHelp callback must return a string or a Buffer");l.write(p),this._getHelpOption()?.long&&this.emit(this._getHelpOption().long),this.emit("afterHelp",_),this._getCommandAndAncestors().forEach(E=>E.emit("afterAllHelp",_))}helpOption(a,f){return typeof a=="boolean"?(a?this._helpOption=this._helpOption??void 0:this._helpOption=null,this):(a=a??"-h, --help",f=f??"display help for command",this._helpOption=this.createOption(a,f),this)}_getHelpOption(){return this._helpOption===void 0&&this.helpOption(void 0,void 0),this._helpOption}addHelpOption(a){return this._helpOption=a,this}help(a){this.outputHelp(a);let f=Number(n.exitCode??0);f===0&&a&&typeof a!="function"&&a.error&&(f=1),this._exit(f,"commander.help","(outputHelp)")}addHelpText(a,f){const l=["beforeAll","before","after","afterAll"];if(!l.includes(a))throw new Error(`Unexpected value for position to addHelpText.
Expecting one of '${l.join("', '")}'`);const _=`${a}Help`;return this.on(_,p=>{let E;typeof f=="function"?E=f({error:p.error,command:p.command}):E=f,E&&p.write(`${E}
`)}),this}_outputHelpIfRequested(a){const f=this._getHelpOption();f&&a.find(_=>f.is(_))&&(this.outputHelp(),this._exit(0,"commander.helpDisplayed","(outputHelp)"))}}function w(g){return g.map(a=>{if(!a.startsWith("--inspect"))return a;let f,l="127.0.0.1",_="9229",p;return(p=a.match(/^(--inspect(-brk)?)$/))!==null?f=p[1]:(p=a.match(/^(--inspect(-brk|-port)?)=([^:]+)$/))!==null?(f=p[1],/^\d+$/.test(p[3])?_=p[3]:l=p[3]):(p=a.match(/^(--inspect(-brk|-port)?)=([^:]+):(\d+)$/))!==null&&(f=p[1],l=p[3],_=p[4]),f&&_!=="0"?`${f}=${l}:${parseInt(_)+1}`:a})}function S(){if(n.env.NO_COLOR||n.env.FORCE_COLOR==="0"||n.env.FORCE_COLOR==="false")return!1;if(n.env.FORCE_COLOR||n.env.CLICOLOR_FORCE!==void 0)return!0}return dt.Command=R,dt.useColor=S,dt}var go;function Sf(){if(go)return Se;go=1;const{Argument:i}=js(),{Command:s}=Ef(),{CommanderError:o,InvalidArgumentError:h}=Jt(),{Help:n}=vh(),{Option:t}=Eh();return Se.program=new s,Se.createCommand=e=>new s(e),Se.createOption=(e,r)=>new t(e,r),Se.createArgument=(e,r)=>new i(e,r),Se.Command=s,Se.Option=t,Se.Argument=i,Se.Help=n,Se.CommanderError=o,Se.InvalidArgumentError=h,Se.InvalidOptionArgumentError=h,Se}var Rf=Sf();const wf=Ae(Rf),{program:Wy,createCommand:zy,createArgument:Yy,createOption:Ky,CommanderError:Xy,InvalidArgumentError:Zy,InvalidOptionArgumentError:Jy,Command:Of,Argument:Qy,Option:ev,Help:tv}=wf;function Qt(i){const s=process.env[i];if(typeof s=="string"&&s.length>0&&s!=="undefined"&&s!=="null")return s}class bf{level=2;setLevel(s="info"){this.level=s==="trace"?4:s==="debug"?3:s==="info"?2:s==="warn"?1:s==="error"?0:-1}error(...s){this.level>=0&&console.error("\x1B[31m[ERROR cmake-ts]\x1B[0m",...s)}warn(...s){this.level>=1&&console.warn("\x1B[33m[WARN cmake-ts]\x1B[0m",...s)}info(...s){this.level>=2&&console.info("\x1B[32m[INFO cmake-ts]\x1B[0m",...s)}log(...s){return this.info(...s)}debug(...s){this.level>=3&&console.debug("\x1B[34m[DEBUG cmake-ts]\x1B[0m",...s)}trace(...s){this.level>=4&&console.trace("\x1B[34m[TRACE cmake-ts]\x1B[0m",...s)}}const se=new bf;function Af(i){const s=new Of("cmake-ts"),o=Qt("CMAKETSDEBUG"),h=o==="true"||o==="1",n={command:{type:"none"}};s.exitOverride(d=>{d.exitCode!==0&&d.code!=="commander.help"&&(se.error(d),n.command.type="error")}).description("A CMake-based build system for native NodeJS and Electron addons.").usage("[build or help] [options]").option("--logger <level>","Set the log level (trace, debug, info, warn, error, off)",h?"debug":"info").showHelpAfterError(!1).showSuggestionAfterError(!0);const t=s.command("build").description("Build the project").option("--config, --configs <configs...>","\n    Named config(s) to build, which could be from default configs or the ones defined in the config file (package.json)\n   \n     If no config is provided, it will build for the current runtime on the current system with the Release build type\n   \n    The default configs are combinations of `<Runtime>`, `<BuildType>`, `<Platform>`, and `<Architecture>`.\n   \n     - `<Runtime>`: the runtime to use\n   \n       e.g.: `node`, `electron`, `iojs`\n   \n     - `<BuildType>`: the cmake build type (optimization level)\n   \n       e.g.: `debug`, `release`, `relwithdebinfo`, or `minsizerel`\n   \n     - `<Platform>`: the target platform\n   \n       e.g.: `win32`, `linux`, `darwin`, `aix`, `android`, `freebsd`, `haiku`, `openbsd`, `sunos`, `cygwin`, `netbsd`\n   \n     - `<Architecture>`: the target architecture\n   \n       e.g.: `x64`, `arm64`, `ia32`, `arm`, `loong64`, `mips`, `mipsel`, `ppc`, `ppc64`, `riscv64`, `s390`, `s390x`\n   \n      Any combination of `<BuildType>`, `<Runtime>`, `<Platform>`, and `<Architecture>` is valid. Some examples:\n   \n       - `release`\n       - `debug`\n       - `relwithdebinfo`\n       - `node-release`\n       - `node-debug`\n       - `electron-release`\n       - `electron-debug`\n       - `win32-x64`\n       - `win32-x64-debug`\n       - `linux-x64-debug`\n       - `linux-x64-node-debug`\n       - `linux-x64-electron-release`\n       - `darwin-x64-node-release`\n       - `darwin-arm64-node-release`\n       - `darwin-arm64-electron-relwithdebinfo`\n\n    To explicitly indicate cross-compilation, prefix the config name with `cross-`:\n\n       - `cross-win32-ia32-node-release`\n       - `cross-linux-arm64-node-release`\n       - `cross-darwin-x64-electron-relwithdebinfo`\n   \n    You can also define your own configs in the config file (package.json).\n   \n     - `<ConfigName>`: the name of the config\n   \n       e.g.: `my-config`\n   \n     The configs can also be in format of `named-<property>`, which builds the configs that match the property.\n   \n       - `named-os`: build all the configs in the config file that have the same OS\n       - `named-os-dev`: build all the configs in the config file that have the same OS and `dev` is true\n       - `named-all`: build all the configs in the config file\n   \n   \n     The configs can be combined with `,` or multiple `--config` flags. They will be merged together.\n",[]).option("--project-name <name>","The name of the built node addon.").option("--addon-subdirectory <subdirectory>","The subdirectory of the package which is being built.").option("--package-directory <directory>","The directory of the package which is being built.").option("--target-directory <directory>","The directory where the binaries will end.").option("--staging-directory <directory>","The directory where intermediate files will end up.").action(()=>{n.command.type="build"}),e={all:!1,nativeonly:!1,osonly:!1,devOsOnly:!1,namedConfigs:void 0};s.command("all",{hidden:!0}).description("(deprecated) Build all configurations. Use `build --configs named-all` instead.").action(()=>{e.all=!0,n.command.type="build"}),s.command("nativeonly",{hidden:!0}).description("(deprecated) Building only for the current runtime. Use `build` instead.").action(()=>{e.nativeonly=!0,n.command.type="build"}),s.command("osonly",{hidden:!0}).description("(deprecated) Building only for the current OS. Use `build --configs named-os` instead.").action(()=>{e.osonly=!0,n.command.type="build"}),s.command("dev-os-only",{hidden:!0}).description("(deprecated) Build only dev OS configurations. Use `build --configs named-os-dev` instead.").action(()=>{e.devOsOnly=!0,n.command.type="build"}),s.command("named-configs <configs...>",{hidden:!0}).description("(deprecated) Build only named configurations. Use `build --configs <configs...>` instead").action(d=>{e.namedConfigs=d,n.command.type="build"}),s.parse(i);const r={...n,...e,...s.opts()};se.setLevel(r.logger);const u=()=>{se.debug("args",JSON.stringify(r,null,2))},c=t.opts();return r.command.type==="build"?(Tf(c,r),u(),{command:{type:"build",options:c},help:r.help,logger:r.logger}):(u(),r)}function Tf(i,s){s.namedConfigs!==void 0&&(i.configs=s.namedConfigs.flatMap(o=>o.split(",")),se.warn("The --named-configs option is deprecated. Use --configs instead.")),s.nativeonly&&(i.configs.push("release"),se.warn("The --nativeonly option is deprecated. Use --configs release instead.")),s.osonly&&(i.configs.push("named-os"),se.warn("The --osonly option is deprecated. Use --configs named-os instead.")),s.devOsOnly&&(i.configs.push("named-os-dev"),se.warn("The --dev-os-only option is deprecated. Use --configs named-os-dev instead.")),s.all&&(i.configs.push("named-all"),se.warn("The --all option is deprecated. Use --configs named-all instead."))}var cr={},_t={},yo;function Re(){return yo||(yo=1,_t.fromCallback=function(i){return Object.defineProperty(function(...s){if(typeof s[s.length-1]=="function")i.apply(this,s);else return new Promise((o,h)=>{s.push((n,t)=>n!=null?h(n):o(t)),i.apply(this,s)})},"name",{value:i.name})},_t.fromPromise=function(i){return Object.defineProperty(function(...s){const o=s[s.length-1];if(typeof o!="function")return i.apply(this,s);s.pop(),i.apply(this,s).then(h=>o(null,h),o)},"name",{value:i.name})}),_t}var lr,vo;function Pf(){if(vo)return lr;vo=1;var i=hf,s=process.cwd,o=null,h=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return o||(o=s.call(process)),o};try{process.cwd()}catch{}if(typeof process.chdir=="function"){var n=process.chdir;process.chdir=function(e){o=null,n.call(process,e)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,n)}lr=t;function t(e){i.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&r(e),e.lutimes||u(e),e.chown=v(e.chown),e.fchown=v(e.fchown),e.lchown=v(e.lchown),e.chmod=c(e.chmod),e.fchmod=c(e.fchmod),e.lchmod=c(e.lchmod),e.chownSync=m(e.chownSync),e.fchownSync=m(e.fchownSync),e.lchownSync=m(e.lchownSync),e.chmodSync=d(e.chmodSync),e.fchmodSync=d(e.fchmodSync),e.lchmodSync=d(e.lchmodSync),e.stat=R(e.stat),e.fstat=R(e.fstat),e.lstat=R(e.lstat),e.statSync=w(e.statSync),e.fstatSync=w(e.fstatSync),e.lstatSync=w(e.lstatSync),e.chmod&&!e.lchmod&&(e.lchmod=function(g,a,f){f&&process.nextTick(f)},e.lchmodSync=function(){}),e.chown&&!e.lchown&&(e.lchown=function(g,a,f,l){l&&process.nextTick(l)},e.lchownSync=function(){}),h==="win32"&&(e.rename=typeof e.rename!="function"?e.rename:function(g){function a(f,l,_){var p=Date.now(),E=0;g(f,l,function y(b){if(b&&(b.code==="EACCES"||b.code==="EPERM"||b.code==="EBUSY")&&Date.now()-p<6e4){setTimeout(function(){e.stat(l,function(A,P){A&&A.code==="ENOENT"?g(f,l,y):_(b)})},E),E<100&&(E+=10);return}_&&_(b)})}return Object.setPrototypeOf&&Object.setPrototypeOf(a,g),a}(e.rename)),e.read=typeof e.read!="function"?e.read:function(g){function a(f,l,_,p,E,y){var b;if(y&&typeof y=="function"){var A=0;b=function(P,D,q){if(P&&P.code==="EAGAIN"&&A<10)return A++,g.call(e,f,l,_,p,E,b);y.apply(this,arguments)}}return g.call(e,f,l,_,p,E,b)}return Object.setPrototypeOf&&Object.setPrototypeOf(a,g),a}(e.read),e.readSync=typeof e.readSync!="function"?e.readSync:function(g){return function(a,f,l,_,p){for(var E=0;;)try{return g.call(e,a,f,l,_,p)}catch(y){if(y.code==="EAGAIN"&&E<10){E++;continue}throw y}}}(e.readSync);function r(g){g.lchmod=function(a,f,l){g.open(a,i.O_WRONLY|i.O_SYMLINK,f,function(_,p){if(_){l&&l(_);return}g.fchmod(p,f,function(E){g.close(p,function(y){l&&l(E||y)})})})},g.lchmodSync=function(a,f){var l=g.openSync(a,i.O_WRONLY|i.O_SYMLINK,f),_=!0,p;try{p=g.fchmodSync(l,f),_=!1}finally{if(_)try{g.closeSync(l)}catch{}else g.closeSync(l)}return p}}function u(g){i.hasOwnProperty("O_SYMLINK")&&g.futimes?(g.lutimes=function(a,f,l,_){g.open(a,i.O_SYMLINK,function(p,E){if(p){_&&_(p);return}g.futimes(E,f,l,function(y){g.close(E,function(b){_&&_(y||b)})})})},g.lutimesSync=function(a,f,l){var _=g.openSync(a,i.O_SYMLINK),p,E=!0;try{p=g.futimesSync(_,f,l),E=!1}finally{if(E)try{g.closeSync(_)}catch{}else g.closeSync(_)}return p}):g.futimes&&(g.lutimes=function(a,f,l,_){_&&process.nextTick(_)},g.lutimesSync=function(){})}function c(g){return g&&function(a,f,l){return g.call(e,a,f,function(_){S(_)&&(_=null),l&&l.apply(this,arguments)})}}function d(g){return g&&function(a,f){try{return g.call(e,a,f)}catch(l){if(!S(l))throw l}}}function v(g){return g&&function(a,f,l,_){return g.call(e,a,f,l,function(p){S(p)&&(p=null),_&&_.apply(this,arguments)})}}function m(g){return g&&function(a,f,l){try{return g.call(e,a,f,l)}catch(_){if(!S(_))throw _}}}function R(g){return g&&function(a,f,l){typeof f=="function"&&(l=f,f=null);function _(p,E){E&&(E.uid<0&&(E.uid+=4294967296),E.gid<0&&(E.gid+=4294967296)),l&&l.apply(this,arguments)}return f?g.call(e,a,f,_):g.call(e,a,_)}}function w(g){return g&&function(a,f){var l=f?g.call(e,a,f):g.call(e,a);return l&&(l.uid<0&&(l.uid+=4294967296),l.gid<0&&(l.gid+=4294967296)),l}}function S(g){if(!g||g.code==="ENOSYS")return!0;var a=!process.getuid||process.getuid()!==0;return!!(a&&(g.code==="EINVAL"||g.code==="EPERM"))}}return lr}var hr,Eo;function Cf(){if(Eo)return hr;Eo=1;var i=ke.Stream;hr=s;function s(o){return{ReadStream:h,WriteStream:n};function h(t,e){if(!(this instanceof h))return new h(t,e);i.call(this);var r=this;this.path=t,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,e=e||{};for(var u=Object.keys(e),c=0,d=u.length;c<d;c++){var v=u[c];this[v]=e[v]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){r._read()});return}o.open(this.path,this.flags,this.mode,function(m,R){if(m){r.emit("error",m),r.readable=!1;return}r.fd=R,r.emit("open",R),r._read()})}function n(t,e){if(!(this instanceof n))return new n(t,e);i.call(this),this.path=t,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,e=e||{};for(var r=Object.keys(e),u=0,c=r.length;u<c;u++){var d=r[u];this[d]=e[d]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=o.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}return hr}var fr,So;function If(){if(So)return fr;So=1,fr=s;var i=Object.getPrototypeOf||function(o){return o.__proto__};function s(o){if(o===null||typeof o!="object")return o;if(o instanceof Object)var h={__proto__:i(o)};else var h=Object.create(null);return Object.getOwnPropertyNames(o).forEach(function(n){Object.defineProperty(h,n,Object.getOwnPropertyDescriptor(o,n))}),h}return fr}var gt,Ro;function Ee(){if(Ro)return gt;Ro=1;var i=ge,s=Pf(),o=Cf(),h=If(),n=Zt,t,e;typeof Symbol=="function"&&typeof Symbol.for=="function"?(t=Symbol.for("graceful-fs.queue"),e=Symbol.for("graceful-fs.previous")):(t="___graceful-fs.queue",e="___graceful-fs.previous");function r(){}function u(g,a){Object.defineProperty(g,t,{get:function(){return a}})}var c=r;if(n.debuglog?c=n.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(c=function(){var g=n.format.apply(n,arguments);g="GFS4: "+g.split(/\n/).join(`
GFS4: `),console.error(g)}),!i[t]){var d=$e[t]||[];u(i,d),i.close=function(g){function a(f,l){return g.call(i,f,function(_){_||w(),typeof l=="function"&&l.apply(this,arguments)})}return Object.defineProperty(a,e,{value:g}),a}(i.close),i.closeSync=function(g){function a(f){g.apply(i,arguments),w()}return Object.defineProperty(a,e,{value:g}),a}(i.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){c(i[t]),ct.equal(i[t].length,0)})}$e[t]||u($e,i[t]),gt=v(h(i)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!i.__patched&&(gt=v(i),i.__patched=!0);function v(g){s(g),g.gracefulify=v,g.createReadStream=O,g.createWriteStream=x;var a=g.readFile;g.readFile=f;function f(k,N,j){return typeof N=="function"&&(j=N,N=null),V(k,N,j);function V(F,B,Y,J){return a(F,B,function(re){re&&(re.code==="EMFILE"||re.code==="ENFILE")?m([V,[F,B,Y],re,J||Date.now(),Date.now()]):typeof Y=="function"&&Y.apply(this,arguments)})}}var l=g.writeFile;g.writeFile=_;function _(k,N,j,V){return typeof j=="function"&&(V=j,j=null),F(k,N,j,V);function F(B,Y,J,re,oe){return l(B,Y,J,function(Z){Z&&(Z.code==="EMFILE"||Z.code==="ENFILE")?m([F,[B,Y,J,re],Z,oe||Date.now(),Date.now()]):typeof re=="function"&&re.apply(this,arguments)})}}var p=g.appendFile;p&&(g.appendFile=E);function E(k,N,j,V){return typeof j=="function"&&(V=j,j=null),F(k,N,j,V);function F(B,Y,J,re,oe){return p(B,Y,J,function(Z){Z&&(Z.code==="EMFILE"||Z.code==="ENFILE")?m([F,[B,Y,J,re],Z,oe||Date.now(),Date.now()]):typeof re=="function"&&re.apply(this,arguments)})}}var y=g.copyFile;y&&(g.copyFile=b);function b(k,N,j,V){return typeof j=="function"&&(V=j,j=0),F(k,N,j,V);function F(B,Y,J,re,oe){return y(B,Y,J,function(Z){Z&&(Z.code==="EMFILE"||Z.code==="ENFILE")?m([F,[B,Y,J,re],Z,oe||Date.now(),Date.now()]):typeof re=="function"&&re.apply(this,arguments)})}}var A=g.readdir;g.readdir=D;var P=/^v[0-5]\./;function D(k,N,j){typeof N=="function"&&(j=N,N=null);var V=P.test(process.version)?function(Y,J,re,oe){return A(Y,F(Y,J,re,oe))}:function(Y,J,re,oe){return A(Y,J,F(Y,J,re,oe))};return V(k,N,j);function F(B,Y,J,re){return function(oe,Z){oe&&(oe.code==="EMFILE"||oe.code==="ENFILE")?m([V,[B,Y,J],oe,re||Date.now(),Date.now()]):(Z&&Z.sort&&Z.sort(),typeof J=="function"&&J.call(this,oe,Z))}}}if(process.version.substr(0,4)==="v0.8"){var q=o(g);M=q.ReadStream,W=q.WriteStream}var $=g.ReadStream;$&&(M.prototype=Object.create($.prototype),M.prototype.open=U);var L=g.WriteStream;L&&(W.prototype=Object.create(L.prototype),W.prototype.open=H),Object.defineProperty(g,"ReadStream",{get:function(){return M},set:function(k){M=k},enumerable:!0,configurable:!0}),Object.defineProperty(g,"WriteStream",{get:function(){return W},set:function(k){W=k},enumerable:!0,configurable:!0});var C=M;Object.defineProperty(g,"FileReadStream",{get:function(){return C},set:function(k){C=k},enumerable:!0,configurable:!0});var I=W;Object.defineProperty(g,"FileWriteStream",{get:function(){return I},set:function(k){I=k},enumerable:!0,configurable:!0});function M(k,N){return this instanceof M?($.apply(this,arguments),this):M.apply(Object.create(M.prototype),arguments)}function U(){var k=this;ee(k.path,k.flags,k.mode,function(N,j){N?(k.autoClose&&k.destroy(),k.emit("error",N)):(k.fd=j,k.emit("open",j),k.read())})}function W(k,N){return this instanceof W?(L.apply(this,arguments),this):W.apply(Object.create(W.prototype),arguments)}function H(){var k=this;ee(k.path,k.flags,k.mode,function(N,j){N?(k.destroy(),k.emit("error",N)):(k.fd=j,k.emit("open",j))})}function O(k,N){return new g.ReadStream(k,N)}function x(k,N){return new g.WriteStream(k,N)}var z=g.open;g.open=ee;function ee(k,N,j,V){return typeof j=="function"&&(V=j,j=null),F(k,N,j,V);function F(B,Y,J,re,oe){return z(B,Y,J,function(Z,T){Z&&(Z.code==="EMFILE"||Z.code==="ENFILE")?m([F,[B,Y,J,re],Z,oe||Date.now(),Date.now()]):typeof re=="function"&&re.apply(this,arguments)})}}return g}function m(g){c("ENQUEUE",g[0].name,g[1]),i[t].push(g),S()}var R;function w(){for(var g=Date.now(),a=0;a<i[t].length;++a)i[t][a].length>2&&(i[t][a][3]=g,i[t][a][4]=g);S()}function S(){if(clearTimeout(R),R=void 0,i[t].length!==0){var g=i[t].shift(),a=g[0],f=g[1],l=g[2],_=g[3],p=g[4];if(_===void 0)c("RETRY",a.name,f),a.apply(null,f);else if(Date.now()-_>=6e4){c("TIMEOUT",a.name,f);var E=f.pop();typeof E=="function"&&E.call(null,l)}else{var y=Date.now()-p,b=Math.max(p-_,1),A=Math.min(b*1.2,100);y>=A?(c("RETRY",a.name,f),a.apply(null,f.concat([_]))):i[t].push(g)}R===void 0&&(R=setTimeout(S,0))}}return gt}var wo;function Ye(){return wo||(wo=1,function(i){const s=Re().fromCallback,o=Ee(),h=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(n=>typeof o[n]=="function");Object.assign(i,o),h.forEach(n=>{i[n]=s(o[n])}),i.exists=function(n,t){return typeof t=="function"?o.exists(n,t):new Promise(e=>o.exists(n,e))},i.read=function(n,t,e,r,u,c){return typeof c=="function"?o.read(n,t,e,r,u,c):new Promise((d,v)=>{o.read(n,t,e,r,u,(m,R,w)=>{if(m)return v(m);d({bytesRead:R,buffer:w})})})},i.write=function(n,t,...e){return typeof e[e.length-1]=="function"?o.write(n,t,...e):new Promise((r,u)=>{o.write(n,t,...e,(c,d,v)=>{if(c)return u(c);r({bytesWritten:d,buffer:v})})})},typeof o.writev=="function"&&(i.writev=function(n,t,...e){return typeof e[e.length-1]=="function"?o.writev(n,t,...e):new Promise((r,u)=>{o.writev(n,t,...e,(c,d,v)=>{if(c)return u(c);r({bytesWritten:d,buffers:v})})})}),typeof o.realpath.native=="function"?i.realpath.native=s(o.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")}(cr)),cr}var yt={},dr={},Oo;function xf(){if(Oo)return dr;Oo=1;const i=le;return dr.checkPath=function(o){if(process.platform==="win32"&&/[<>:"|?*]/.test(o.replace(i.parse(o).root,""))){const n=new Error(`Path contains invalid characters: ${o}`);throw n.code="EINVAL",n}},dr}var bo;function $f(){if(bo)return yt;bo=1;const i=Ye(),{checkPath:s}=xf(),o=h=>{const n={mode:511};return typeof h=="number"?h:{...n,...h}.mode};return yt.makeDir=async(h,n)=>(s(h),i.mkdir(h,{mode:o(n),recursive:!0})),yt.makeDirSync=(h,n)=>(s(h),i.mkdirSync(h,{mode:o(n),recursive:!0})),yt}var pr,Ao;function be(){if(Ao)return pr;Ao=1;const i=Re().fromPromise,{makeDir:s,makeDirSync:o}=$f(),h=i(s);return pr={mkdirs:h,mkdirsSync:o,mkdirp:h,mkdirpSync:o,ensureDir:h,ensureDirSync:o},pr}var mr,To;function Me(){if(To)return mr;To=1;const i=Re().fromPromise,s=Ye();function o(h){return s.access(h).then(()=>!0).catch(()=>!1)}return mr={pathExists:i(o),pathExistsSync:s.existsSync},mr}var _r,Po;function Sh(){if(Po)return _r;Po=1;const i=Ee();function s(h,n,t,e){i.open(h,"r+",(r,u)=>{if(r)return e(r);i.futimes(u,n,t,c=>{i.close(u,d=>{e&&e(c||d)})})})}function o(h,n,t){const e=i.openSync(h,"r+");return i.futimesSync(e,n,t),i.closeSync(e)}return _r={utimesMillis:s,utimesMillisSync:o},_r}var gr,Co;function Ke(){if(Co)return gr;Co=1;const i=Ye(),s=le,o=Zt;function h(m,R,w){const S=w.dereference?g=>i.stat(g,{bigint:!0}):g=>i.lstat(g,{bigint:!0});return Promise.all([S(m),S(R).catch(g=>{if(g.code==="ENOENT")return null;throw g})]).then(([g,a])=>({srcStat:g,destStat:a}))}function n(m,R,w){let S;const g=w.dereference?f=>i.statSync(f,{bigint:!0}):f=>i.lstatSync(f,{bigint:!0}),a=g(m);try{S=g(R)}catch(f){if(f.code==="ENOENT")return{srcStat:a,destStat:null};throw f}return{srcStat:a,destStat:S}}function t(m,R,w,S,g){o.callbackify(h)(m,R,S,(a,f)=>{if(a)return g(a);const{srcStat:l,destStat:_}=f;if(_){if(c(l,_)){const p=s.basename(m),E=s.basename(R);return w==="move"&&p!==E&&p.toLowerCase()===E.toLowerCase()?g(null,{srcStat:l,destStat:_,isChangingCase:!0}):g(new Error("Source and destination must not be the same."))}if(l.isDirectory()&&!_.isDirectory())return g(new Error(`Cannot overwrite non-directory '${R}' with directory '${m}'.`));if(!l.isDirectory()&&_.isDirectory())return g(new Error(`Cannot overwrite directory '${R}' with non-directory '${m}'.`))}return l.isDirectory()&&d(m,R)?g(new Error(v(m,R,w))):g(null,{srcStat:l,destStat:_})})}function e(m,R,w,S){const{srcStat:g,destStat:a}=n(m,R,S);if(a){if(c(g,a)){const f=s.basename(m),l=s.basename(R);if(w==="move"&&f!==l&&f.toLowerCase()===l.toLowerCase())return{srcStat:g,destStat:a,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(g.isDirectory()&&!a.isDirectory())throw new Error(`Cannot overwrite non-directory '${R}' with directory '${m}'.`);if(!g.isDirectory()&&a.isDirectory())throw new Error(`Cannot overwrite directory '${R}' with non-directory '${m}'.`)}if(g.isDirectory()&&d(m,R))throw new Error(v(m,R,w));return{srcStat:g,destStat:a}}function r(m,R,w,S,g){const a=s.resolve(s.dirname(m)),f=s.resolve(s.dirname(w));if(f===a||f===s.parse(f).root)return g();i.stat(f,{bigint:!0},(l,_)=>l?l.code==="ENOENT"?g():g(l):c(R,_)?g(new Error(v(m,w,S))):r(m,R,f,S,g))}function u(m,R,w,S){const g=s.resolve(s.dirname(m)),a=s.resolve(s.dirname(w));if(a===g||a===s.parse(a).root)return;let f;try{f=i.statSync(a,{bigint:!0})}catch(l){if(l.code==="ENOENT")return;throw l}if(c(R,f))throw new Error(v(m,w,S));return u(m,R,a,S)}function c(m,R){return R.ino&&R.dev&&R.ino===m.ino&&R.dev===m.dev}function d(m,R){const w=s.resolve(m).split(s.sep).filter(g=>g),S=s.resolve(R).split(s.sep).filter(g=>g);return w.reduce((g,a,f)=>g&&S[f]===a,!0)}function v(m,R,w){return`Cannot ${w} '${m}' to a subdirectory of itself, '${R}'.`}return gr={checkPaths:t,checkPathsSync:e,checkParentPaths:r,checkParentPathsSync:u,isSrcSubdir:d,areIdentical:c},gr}var yr,Io;function Nf(){if(Io)return yr;Io=1;const i=Ee(),s=le,o=be().mkdirs,h=Me().pathExists,n=Sh().utimesMillis,t=Ke();function e(D,q,$,L){typeof $=="function"&&!L?(L=$,$={}):typeof $=="function"&&($={filter:$}),L=L||function(){},$=$||{},$.clobber="clobber"in $?!!$.clobber:!0,$.overwrite="overwrite"in $?!!$.overwrite:$.clobber,$.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0001"),t.checkPaths(D,q,"copy",$,(C,I)=>{if(C)return L(C);const{srcStat:M,destStat:U}=I;t.checkParentPaths(D,M,q,"copy",W=>W?L(W):$.filter?u(r,U,D,q,$,L):r(U,D,q,$,L))})}function r(D,q,$,L,C){const I=s.dirname($);h(I,(M,U)=>{if(M)return C(M);if(U)return d(D,q,$,L,C);o(I,W=>W?C(W):d(D,q,$,L,C))})}function u(D,q,$,L,C,I){Promise.resolve(C.filter($,L)).then(M=>M?D(q,$,L,C,I):I(),M=>I(M))}function c(D,q,$,L,C){return L.filter?u(d,D,q,$,L,C):d(D,q,$,L,C)}function d(D,q,$,L,C){(L.dereference?i.stat:i.lstat)(q,(M,U)=>M?C(M):U.isDirectory()?_(U,D,q,$,L,C):U.isFile()||U.isCharacterDevice()||U.isBlockDevice()?v(U,D,q,$,L,C):U.isSymbolicLink()?A(D,q,$,L,C):U.isSocket()?C(new Error(`Cannot copy a socket file: ${q}`)):U.isFIFO()?C(new Error(`Cannot copy a FIFO pipe: ${q}`)):C(new Error(`Unknown file: ${q}`)))}function v(D,q,$,L,C,I){return q?m(D,$,L,C,I):R(D,$,L,C,I)}function m(D,q,$,L,C){if(L.overwrite)i.unlink($,I=>I?C(I):R(D,q,$,L,C));else return L.errorOnExist?C(new Error(`'${$}' already exists`)):C()}function R(D,q,$,L,C){i.copyFile(q,$,I=>I?C(I):L.preserveTimestamps?w(D.mode,q,$,C):f($,D.mode,C))}function w(D,q,$,L){return S(D)?g($,D,C=>C?L(C):a(D,q,$,L)):a(D,q,$,L)}function S(D){return(D&128)===0}function g(D,q,$){return f(D,q|128,$)}function a(D,q,$,L){l(q,$,C=>C?L(C):f($,D,L))}function f(D,q,$){return i.chmod(D,q,$)}function l(D,q,$){i.stat(D,(L,C)=>L?$(L):n(q,C.atime,C.mtime,$))}function _(D,q,$,L,C,I){return q?E($,L,C,I):p(D.mode,$,L,C,I)}function p(D,q,$,L,C){i.mkdir($,I=>{if(I)return C(I);E(q,$,L,M=>M?C(M):f($,D,C))})}function E(D,q,$,L){i.readdir(D,(C,I)=>C?L(C):y(I,D,q,$,L))}function y(D,q,$,L,C){const I=D.pop();return I?b(D,I,q,$,L,C):C()}function b(D,q,$,L,C,I){const M=s.join($,q),U=s.join(L,q);t.checkPaths(M,U,"copy",C,(W,H)=>{if(W)return I(W);const{destStat:O}=H;c(O,M,U,C,x=>x?I(x):y(D,$,L,C,I))})}function A(D,q,$,L,C){i.readlink(q,(I,M)=>{if(I)return C(I);if(L.dereference&&(M=s.resolve(process.cwd(),M)),D)i.readlink($,(U,W)=>U?U.code==="EINVAL"||U.code==="UNKNOWN"?i.symlink(M,$,C):C(U):(L.dereference&&(W=s.resolve(process.cwd(),W)),t.isSrcSubdir(M,W)?C(new Error(`Cannot copy '${M}' to a subdirectory of itself, '${W}'.`)):D.isDirectory()&&t.isSrcSubdir(W,M)?C(new Error(`Cannot overwrite '${W}' with '${M}'.`)):P(M,$,C)));else return i.symlink(M,$,C)})}function P(D,q,$){i.unlink(q,L=>L?$(L):i.symlink(D,q,$))}return yr=e,yr}var vr,xo;function Df(){if(xo)return vr;xo=1;const i=Ee(),s=le,o=be().mkdirsSync,h=Sh().utimesMillisSync,n=Ke();function t(y,b,A){typeof A=="function"&&(A={filter:A}),A=A||{},A.clobber="clobber"in A?!!A.clobber:!0,A.overwrite="overwrite"in A?!!A.overwrite:A.clobber,A.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0002");const{srcStat:P,destStat:D}=n.checkPathsSync(y,b,"copy",A);return n.checkParentPathsSync(y,P,b,"copy"),e(D,y,b,A)}function e(y,b,A,P){if(P.filter&&!P.filter(b,A))return;const D=s.dirname(A);return i.existsSync(D)||o(D),u(y,b,A,P)}function r(y,b,A,P){if(!(P.filter&&!P.filter(b,A)))return u(y,b,A,P)}function u(y,b,A,P){const q=(P.dereference?i.statSync:i.lstatSync)(b);if(q.isDirectory())return a(q,y,b,A,P);if(q.isFile()||q.isCharacterDevice()||q.isBlockDevice())return c(q,y,b,A,P);if(q.isSymbolicLink())return p(y,b,A,P);throw q.isSocket()?new Error(`Cannot copy a socket file: ${b}`):q.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${b}`):new Error(`Unknown file: ${b}`)}function c(y,b,A,P,D){return b?d(y,A,P,D):v(y,A,P,D)}function d(y,b,A,P){if(P.overwrite)return i.unlinkSync(A),v(y,b,A,P);if(P.errorOnExist)throw new Error(`'${A}' already exists`)}function v(y,b,A,P){return i.copyFileSync(b,A),P.preserveTimestamps&&m(y.mode,b,A),S(A,y.mode)}function m(y,b,A){return R(y)&&w(A,y),g(b,A)}function R(y){return(y&128)===0}function w(y,b){return S(y,b|128)}function S(y,b){return i.chmodSync(y,b)}function g(y,b){const A=i.statSync(y);return h(b,A.atime,A.mtime)}function a(y,b,A,P,D){return b?l(A,P,D):f(y.mode,A,P,D)}function f(y,b,A,P){return i.mkdirSync(A),l(b,A,P),S(A,y)}function l(y,b,A){i.readdirSync(y).forEach(P=>_(P,y,b,A))}function _(y,b,A,P){const D=s.join(b,y),q=s.join(A,y),{destStat:$}=n.checkPathsSync(D,q,"copy",P);return r($,D,q,P)}function p(y,b,A,P){let D=i.readlinkSync(b);if(P.dereference&&(D=s.resolve(process.cwd(),D)),y){let q;try{q=i.readlinkSync(A)}catch($){if($.code==="EINVAL"||$.code==="UNKNOWN")return i.symlinkSync(D,A);throw $}if(P.dereference&&(q=s.resolve(process.cwd(),q)),n.isSrcSubdir(D,q))throw new Error(`Cannot copy '${D}' to a subdirectory of itself, '${q}'.`);if(i.statSync(A).isDirectory()&&n.isSrcSubdir(q,D))throw new Error(`Cannot overwrite '${q}' with '${D}'.`);return E(D,A)}else return i.symlinkSync(D,A)}function E(y,b){return i.unlinkSync(b),i.symlinkSync(y,b)}return vr=t,vr}var Er,$o;function Us(){if($o)return Er;$o=1;const i=Re().fromCallback;return Er={copy:i(Nf()),copySync:Df()},Er}var Sr,No;function Lf(){if(No)return Sr;No=1;const i=Ee(),s=le,o=ct,h=process.platform==="win32";function n(w){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(g=>{w[g]=w[g]||i[g],g=g+"Sync",w[g]=w[g]||i[g]}),w.maxBusyTries=w.maxBusyTries||3}function t(w,S,g){let a=0;typeof S=="function"&&(g=S,S={}),o(w,"rimraf: missing path"),o.strictEqual(typeof w,"string","rimraf: path should be a string"),o.strictEqual(typeof g,"function","rimraf: callback function required"),o(S,"rimraf: invalid options argument provided"),o.strictEqual(typeof S,"object","rimraf: options should be object"),n(S),e(w,S,function f(l){if(l){if((l.code==="EBUSY"||l.code==="ENOTEMPTY"||l.code==="EPERM")&&a<S.maxBusyTries){a++;const _=a*100;return setTimeout(()=>e(w,S,f),_)}l.code==="ENOENT"&&(l=null)}g(l)})}function e(w,S,g){o(w),o(S),o(typeof g=="function"),S.lstat(w,(a,f)=>{if(a&&a.code==="ENOENT")return g(null);if(a&&a.code==="EPERM"&&h)return r(w,S,a,g);if(f&&f.isDirectory())return c(w,S,a,g);S.unlink(w,l=>{if(l){if(l.code==="ENOENT")return g(null);if(l.code==="EPERM")return h?r(w,S,l,g):c(w,S,l,g);if(l.code==="EISDIR")return c(w,S,l,g)}return g(l)})})}function r(w,S,g,a){o(w),o(S),o(typeof a=="function"),S.chmod(w,438,f=>{f?a(f.code==="ENOENT"?null:g):S.stat(w,(l,_)=>{l?a(l.code==="ENOENT"?null:g):_.isDirectory()?c(w,S,g,a):S.unlink(w,a)})})}function u(w,S,g){let a;o(w),o(S);try{S.chmodSync(w,438)}catch(f){if(f.code==="ENOENT")return;throw g}try{a=S.statSync(w)}catch(f){if(f.code==="ENOENT")return;throw g}a.isDirectory()?m(w,S,g):S.unlinkSync(w)}function c(w,S,g,a){o(w),o(S),o(typeof a=="function"),S.rmdir(w,f=>{f&&(f.code==="ENOTEMPTY"||f.code==="EEXIST"||f.code==="EPERM")?d(w,S,a):f&&f.code==="ENOTDIR"?a(g):a(f)})}function d(w,S,g){o(w),o(S),o(typeof g=="function"),S.readdir(w,(a,f)=>{if(a)return g(a);let l=f.length,_;if(l===0)return S.rmdir(w,g);f.forEach(p=>{t(s.join(w,p),S,E=>{if(!_){if(E)return g(_=E);--l===0&&S.rmdir(w,g)}})})})}function v(w,S){let g;S=S||{},n(S),o(w,"rimraf: missing path"),o.strictEqual(typeof w,"string","rimraf: path should be a string"),o(S,"rimraf: missing options"),o.strictEqual(typeof S,"object","rimraf: options should be object");try{g=S.lstatSync(w)}catch(a){if(a.code==="ENOENT")return;a.code==="EPERM"&&h&&u(w,S,a)}try{g&&g.isDirectory()?m(w,S,null):S.unlinkSync(w)}catch(a){if(a.code==="ENOENT")return;if(a.code==="EPERM")return h?u(w,S,a):m(w,S,a);if(a.code!=="EISDIR")throw a;m(w,S,a)}}function m(w,S,g){o(w),o(S);try{S.rmdirSync(w)}catch(a){if(a.code==="ENOTDIR")throw g;if(a.code==="ENOTEMPTY"||a.code==="EEXIST"||a.code==="EPERM")R(w,S);else if(a.code!=="ENOENT")throw a}}function R(w,S){if(o(w),o(S),S.readdirSync(w).forEach(g=>v(s.join(w,g),S)),h){const g=Date.now();do try{return S.rmdirSync(w,S)}catch{}while(Date.now()-g<500)}else return S.rmdirSync(w,S)}return Sr=t,t.sync=v,Sr}var Rr,Do;function er(){if(Do)return Rr;Do=1;const i=Ee(),s=Re().fromCallback,o=Lf();function h(t,e){if(i.rm)return i.rm(t,{recursive:!0,force:!0},e);o(t,e)}function n(t){if(i.rmSync)return i.rmSync(t,{recursive:!0,force:!0});o.sync(t)}return Rr={remove:s(h),removeSync:n},Rr}var wr,Lo;function Ff(){if(Lo)return wr;Lo=1;const i=Re().fromPromise,s=Ye(),o=le,h=be(),n=er(),t=i(async function(u){let c;try{c=await s.readdir(u)}catch{return h.mkdirs(u)}return Promise.all(c.map(d=>n.remove(o.join(u,d))))});function e(r){let u;try{u=s.readdirSync(r)}catch{return h.mkdirsSync(r)}u.forEach(c=>{c=o.join(r,c),n.removeSync(c)})}return wr={emptyDirSync:e,emptydirSync:e,emptyDir:t,emptydir:t},wr}var Or,Fo;function qf(){if(Fo)return Or;Fo=1;const i=Re().fromCallback,s=le,o=Ee(),h=be();function n(e,r){function u(){o.writeFile(e,"",c=>{if(c)return r(c);r()})}o.stat(e,(c,d)=>{if(!c&&d.isFile())return r();const v=s.dirname(e);o.stat(v,(m,R)=>{if(m)return m.code==="ENOENT"?h.mkdirs(v,w=>{if(w)return r(w);u()}):r(m);R.isDirectory()?u():o.readdir(v,w=>{if(w)return r(w)})})})}function t(e){let r;try{r=o.statSync(e)}catch{}if(r&&r.isFile())return;const u=s.dirname(e);try{o.statSync(u).isDirectory()||o.readdirSync(u)}catch(c){if(c&&c.code==="ENOENT")h.mkdirsSync(u);else throw c}o.writeFileSync(e,"")}return Or={createFile:i(n),createFileSync:t},Or}var br,qo;function kf(){if(qo)return br;qo=1;const i=Re().fromCallback,s=le,o=Ee(),h=be(),n=Me().pathExists,{areIdentical:t}=Ke();function e(u,c,d){function v(m,R){o.link(m,R,w=>{if(w)return d(w);d(null)})}o.lstat(c,(m,R)=>{o.lstat(u,(w,S)=>{if(w)return w.message=w.message.replace("lstat","ensureLink"),d(w);if(R&&t(S,R))return d(null);const g=s.dirname(c);n(g,(a,f)=>{if(a)return d(a);if(f)return v(u,c);h.mkdirs(g,l=>{if(l)return d(l);v(u,c)})})})})}function r(u,c){let d;try{d=o.lstatSync(c)}catch{}try{const R=o.lstatSync(u);if(d&&t(R,d))return}catch(R){throw R.message=R.message.replace("lstat","ensureLink"),R}const v=s.dirname(c);return o.existsSync(v)||h.mkdirsSync(v),o.linkSync(u,c)}return br={createLink:i(e),createLinkSync:r},br}var Ar,ko;function Mf(){if(ko)return Ar;ko=1;const i=le,s=Ee(),o=Me().pathExists;function h(t,e,r){if(i.isAbsolute(t))return s.lstat(t,u=>u?(u.message=u.message.replace("lstat","ensureSymlink"),r(u)):r(null,{toCwd:t,toDst:t}));{const u=i.dirname(e),c=i.join(u,t);return o(c,(d,v)=>d?r(d):v?r(null,{toCwd:c,toDst:t}):s.lstat(t,m=>m?(m.message=m.message.replace("lstat","ensureSymlink"),r(m)):r(null,{toCwd:t,toDst:i.relative(u,t)})))}}function n(t,e){let r;if(i.isAbsolute(t)){if(r=s.existsSync(t),!r)throw new Error("absolute srcpath does not exist");return{toCwd:t,toDst:t}}else{const u=i.dirname(e),c=i.join(u,t);if(r=s.existsSync(c),r)return{toCwd:c,toDst:t};if(r=s.existsSync(t),!r)throw new Error("relative srcpath does not exist");return{toCwd:t,toDst:i.relative(u,t)}}}return Ar={symlinkPaths:h,symlinkPathsSync:n},Ar}var Tr,Mo;function Bf(){if(Mo)return Tr;Mo=1;const i=Ee();function s(h,n,t){if(t=typeof n=="function"?n:t,n=typeof n=="function"?!1:n,n)return t(null,n);i.lstat(h,(e,r)=>{if(e)return t(null,"file");n=r&&r.isDirectory()?"dir":"file",t(null,n)})}function o(h,n){let t;if(n)return n;try{t=i.lstatSync(h)}catch{return"file"}return t&&t.isDirectory()?"dir":"file"}return Tr={symlinkType:s,symlinkTypeSync:o},Tr}var Pr,Bo;function Hf(){if(Bo)return Pr;Bo=1;const i=Re().fromCallback,s=le,o=Ye(),h=be(),n=h.mkdirs,t=h.mkdirsSync,e=Mf(),r=e.symlinkPaths,u=e.symlinkPathsSync,c=Bf(),d=c.symlinkType,v=c.symlinkTypeSync,m=Me().pathExists,{areIdentical:R}=Ke();function w(a,f,l,_){_=typeof l=="function"?l:_,l=typeof l=="function"?!1:l,o.lstat(f,(p,E)=>{!p&&E.isSymbolicLink()?Promise.all([o.stat(a),o.stat(f)]).then(([y,b])=>{if(R(y,b))return _(null);S(a,f,l,_)}):S(a,f,l,_)})}function S(a,f,l,_){r(a,f,(p,E)=>{if(p)return _(p);a=E.toDst,d(E.toCwd,l,(y,b)=>{if(y)return _(y);const A=s.dirname(f);m(A,(P,D)=>{if(P)return _(P);if(D)return o.symlink(a,f,b,_);n(A,q=>{if(q)return _(q);o.symlink(a,f,b,_)})})})})}function g(a,f,l){let _;try{_=o.lstatSync(f)}catch{}if(_&&_.isSymbolicLink()){const b=o.statSync(a),A=o.statSync(f);if(R(b,A))return}const p=u(a,f);a=p.toDst,l=v(p.toCwd,l);const E=s.dirname(f);return o.existsSync(E)||t(E),o.symlinkSync(a,f,l)}return Pr={createSymlink:i(w),createSymlinkSync:g},Pr}var Cr,Ho;function jf(){if(Ho)return Cr;Ho=1;const{createFile:i,createFileSync:s}=qf(),{createLink:o,createLinkSync:h}=kf(),{createSymlink:n,createSymlinkSync:t}=Hf();return Cr={createFile:i,createFileSync:s,ensureFile:i,ensureFileSync:s,createLink:o,createLinkSync:h,ensureLink:o,ensureLinkSync:h,createSymlink:n,createSymlinkSync:t,ensureSymlink:n,ensureSymlinkSync:t},Cr}var Ir,jo;function Vs(){if(jo)return Ir;jo=1;function i(o,{EOL:h=`
`,finalEOL:n=!0,replacer:t=null,spaces:e}={}){const r=n?h:"";return JSON.stringify(o,t,e).replace(/\n/g,h)+r}function s(o){return Buffer.isBuffer(o)&&(o=o.toString("utf8")),o.replace(/^\uFEFF/,"")}return Ir={stringify:i,stripBom:s},Ir}var xr,Uo;function Uf(){if(Uo)return xr;Uo=1;let i;try{i=Ee()}catch{i=ge}const s=Re(),{stringify:o,stripBom:h}=Vs();async function n(v,m={}){typeof m=="string"&&(m={encoding:m});const R=m.fs||i,w="throws"in m?m.throws:!0;let S=await s.fromCallback(R.readFile)(v,m);S=h(S);let g;try{g=JSON.parse(S,m?m.reviver:null)}catch(a){if(w)throw a.message=`${v}: ${a.message}`,a;return null}return g}const t=s.fromPromise(n);function e(v,m={}){typeof m=="string"&&(m={encoding:m});const R=m.fs||i,w="throws"in m?m.throws:!0;try{let S=R.readFileSync(v,m);return S=h(S),JSON.parse(S,m.reviver)}catch(S){if(w)throw S.message=`${v}: ${S.message}`,S;return null}}async function r(v,m,R={}){const w=R.fs||i,S=o(m,R);await s.fromCallback(w.writeFile)(v,S,R)}const u=s.fromPromise(r);function c(v,m,R={}){const w=R.fs||i,S=o(m,R);return w.writeFileSync(v,S,R)}return xr={readFile:t,readFileSync:e,writeFile:u,writeFileSync:c},xr}var $r,Vo;function Vf(){if(Vo)return $r;Vo=1;const i=Uf();return $r={readJson:i.readFile,readJsonSync:i.readFileSync,writeJson:i.writeFile,writeJsonSync:i.writeFileSync},$r}var Nr,Go;function Gs(){if(Go)return Nr;Go=1;const i=Re().fromCallback,s=Ee(),o=le,h=be(),n=Me().pathExists;function t(r,u,c,d){typeof c=="function"&&(d=c,c="utf8");const v=o.dirname(r);n(v,(m,R)=>{if(m)return d(m);if(R)return s.writeFile(r,u,c,d);h.mkdirs(v,w=>{if(w)return d(w);s.writeFile(r,u,c,d)})})}function e(r,...u){const c=o.dirname(r);if(s.existsSync(c))return s.writeFileSync(r,...u);h.mkdirsSync(c),s.writeFileSync(r,...u)}return Nr={outputFile:i(t),outputFileSync:e},Nr}var Dr,Wo;function Gf(){if(Wo)return Dr;Wo=1;const{stringify:i}=Vs(),{outputFile:s}=Gs();async function o(h,n,t={}){const e=i(n,t);await s(h,e,t)}return Dr=o,Dr}var Lr,zo;function Wf(){if(zo)return Lr;zo=1;const{stringify:i}=Vs(),{outputFileSync:s}=Gs();function o(h,n,t){const e=i(n,t);s(h,e,t)}return Lr=o,Lr}var Fr,Yo;function zf(){if(Yo)return Fr;Yo=1;const i=Re().fromPromise,s=Vf();return s.outputJson=i(Gf()),s.outputJsonSync=Wf(),s.outputJSON=s.outputJson,s.outputJSONSync=s.outputJsonSync,s.writeJSON=s.writeJson,s.writeJSONSync=s.writeJsonSync,s.readJSON=s.readJson,s.readJSONSync=s.readJsonSync,Fr=s,Fr}var qr,Ko;function Yf(){if(Ko)return qr;Ko=1;const i=Ee(),s=le,o=Us().copy,h=er().remove,n=be().mkdirp,t=Me().pathExists,e=Ke();function r(m,R,w,S){typeof w=="function"&&(S=w,w={}),w=w||{};const g=w.overwrite||w.clobber||!1;e.checkPaths(m,R,"move",w,(a,f)=>{if(a)return S(a);const{srcStat:l,isChangingCase:_=!1}=f;e.checkParentPaths(m,l,R,"move",p=>{if(p)return S(p);if(u(R))return c(m,R,g,_,S);n(s.dirname(R),E=>E?S(E):c(m,R,g,_,S))})})}function u(m){const R=s.dirname(m);return s.parse(R).root===R}function c(m,R,w,S,g){if(S)return d(m,R,w,g);if(w)return h(R,a=>a?g(a):d(m,R,w,g));t(R,(a,f)=>a?g(a):f?g(new Error("dest already exists.")):d(m,R,w,g))}function d(m,R,w,S){i.rename(m,R,g=>g?g.code!=="EXDEV"?S(g):v(m,R,w,S):S())}function v(m,R,w,S){o(m,R,{overwrite:w,errorOnExist:!0},a=>a?S(a):h(m,S))}return qr=r,qr}var kr,Xo;function Kf(){if(Xo)return kr;Xo=1;const i=Ee(),s=le,o=Us().copySync,h=er().removeSync,n=be().mkdirpSync,t=Ke();function e(v,m,R){R=R||{};const w=R.overwrite||R.clobber||!1,{srcStat:S,isChangingCase:g=!1}=t.checkPathsSync(v,m,"move",R);return t.checkParentPathsSync(v,S,m,"move"),r(m)||n(s.dirname(m)),u(v,m,w,g)}function r(v){const m=s.dirname(v);return s.parse(m).root===m}function u(v,m,R,w){if(w)return c(v,m,R);if(R)return h(m),c(v,m,R);if(i.existsSync(m))throw new Error("dest already exists.");return c(v,m,R)}function c(v,m,R){try{i.renameSync(v,m)}catch(w){if(w.code!=="EXDEV")throw w;return d(v,m,R)}}function d(v,m,R){return o(v,m,{overwrite:R,errorOnExist:!0}),h(v)}return kr=e,kr}var Mr,Zo;function Xf(){if(Zo)return Mr;Zo=1;const i=Re().fromCallback;return Mr={move:i(Yf()),moveSync:Kf()},Mr}var Br,Jo;function Zf(){return Jo||(Jo=1,Br={...Ye(),...Us(),...Ff(),...jf(),...zf(),...be(),...Xf(),...Gs(),...Me(),...er()}),Br}var pe=Zf(),Hr,Qo;function Jf(){if(Qo)return Hr;Qo=1;var i=lt;return Hr=i.homedir||function(){var o=process.env.HOME,h=process.env.LOGNAME||process.env.USER||process.env.LNAME||process.env.USERNAME;return process.platform==="win32"?process.env.USERPROFILE||process.env.HOMEDRIVE+process.env.HOMEPATH||o||null:process.platform==="darwin"?o||(h?"/Users/"+h:null):process.platform==="linux"?o||(process.getuid()===0?"/root":h?"/home/"+h:null):o||null},Hr}var jr,ea;function Qf(){return ea||(ea=1,jr=function(){var i=Error.prepareStackTrace;Error.prepareStackTrace=function(o,h){return h};var s=new Error().stack;return Error.prepareStackTrace=i,s[2].getFileName()}),jr}var Ve={exports:{}},ta;function ed(){if(ta)return Ve.exports;ta=1;var i=process.platform==="win32",s=/^(((?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?[\\\/]?)(?:[^\\\/]*[\\\/])*)((\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))[\\\/]*$/,o={};function h(r){return s.exec(r).slice(1)}o.parse=function(r){if(typeof r!="string")throw new TypeError("Parameter 'pathString' must be a string, not "+typeof r);var u=h(r);if(!u||u.length!==5)throw new TypeError("Invalid path '"+r+"'");return{root:u[1],dir:u[0]===u[1]?u[0]:u[0].slice(0,-1),base:u[2],ext:u[4],name:u[3]}};var n=/^((\/?)(?:[^\/]*\/)*)((\.{1,2}|[^\/]+?|)(\.[^.\/]*|))[\/]*$/,t={};function e(r){return n.exec(r).slice(1)}return t.parse=function(r){if(typeof r!="string")throw new TypeError("Parameter 'pathString' must be a string, not "+typeof r);var u=e(r);if(!u||u.length!==5)throw new TypeError("Invalid path '"+r+"'");return{root:u[1],dir:u[0].slice(0,-1),base:u[2],ext:u[4],name:u[3]}},i?Ve.exports=o.parse:Ve.exports=t.parse,Ve.exports.posix=t.parse,Ve.exports.win32=o.parse,Ve.exports}var Ur,ra;function td(){if(ra)return Ur;ra=1;var i=le,s=i.parse||ed(),o=function(n,t){var e="/";/^([A-Za-z]:)/.test(n)?e="":/^\\\\/.test(n)&&(e="\\\\");for(var r=[n],u=s(n);u.dir!==r[r.length-1];)r.push(u.dir),u=s(u.dir);return r.reduce(function(c,d){return c.concat(t.map(function(v){return i.resolve(e,d,v)}))},[])};return Ur=function(n,t,e){var r=t&&t.moduleDirectory?[].concat(t.moduleDirectory):["node_modules"];if(t&&typeof t.paths=="function")return t.paths(e,n,function(){return o(n,r)},t);var u=o(n,r);return t&&t.paths?u.concat(t.paths):u},Ur}var Vr,na;function rd(){return na||(na=1,Vr=function(i,s){return s||{}}),Vr}var Gr,ia;function nd(){if(ia)return Gr;ia=1;var i="Function.prototype.bind called on incompatible ",s=Object.prototype.toString,o=Math.max,h="[object Function]",n=function(u,c){for(var d=[],v=0;v<u.length;v+=1)d[v]=u[v];for(var m=0;m<c.length;m+=1)d[m+u.length]=c[m];return d},t=function(u,c){for(var d=[],v=c,m=0;v<u.length;v+=1,m+=1)d[m]=u[v];return d},e=function(r,u){for(var c="",d=0;d<r.length;d+=1)c+=r[d],d+1<r.length&&(c+=u);return c};return Gr=function(u){var c=this;if(typeof c!="function"||s.apply(c)!==h)throw new TypeError(i+c);for(var d=t(arguments,1),v,m=function(){if(this instanceof v){var a=c.apply(this,n(d,arguments));return Object(a)===a?a:this}return c.apply(u,n(d,arguments))},R=o(0,c.length-d.length),w=[],S=0;S<R;S++)w[S]="$"+S;if(v=Function("binder","return function ("+e(w,",")+"){ return binder.apply(this,arguments); }")(m),c.prototype){var g=function(){};g.prototype=c.prototype,v.prototype=new g,g.prototype=null}return v},Gr}var Wr,sa;function id(){if(sa)return Wr;sa=1;var i=nd();return Wr=Function.prototype.bind||i,Wr}var zr,oa;function sd(){if(oa)return zr;oa=1;var i=Function.prototype.call,s=Object.prototype.hasOwnProperty,o=id();return zr=o.call(i,s),zr}const od=!0,ad=">= 8",ud=">= 0.5 && < 0.9.7",cd=!0,ld=!0,hd=">= 0.5",fd=!0,dd=!0,pd=!0,md=">= 1 && < 8",_d="< 8",gd=!0,yd=[">= 14.17 && < 15",">= 15.1"],vd=!0,Ed=">= 0.7.12",Sd=!0,Rd="< 6",wd=!0,Od=">= 0.11.1",bd=">= 0.11.1",Ad=">= 0.11.1",Td=">= 0.11.1",Pd=">= 0.11.1",Cd=">= 0.11.1",Id=!0,xd=">= 8.8",$d=!0,Nd=">= 8",Dd="< 8",Ld=!0,Fd=!0,qd=!0,kd=!0,Md=">= 8.5",Bd=">= 1",Hd=">= 0.5",jd=!0,Ud=!0,Vd=!0,Gd=">= 0.11.5 && < 3",Wd=">= 0.9.4",zd=">= 0.9.4",Yd=">= 1.4.1",Kd=">= 0.9.4",Xd=">= 0.9.4",Zd=">= 0.9.4",Jd=!0,Qd=!0,ep=[">= 0.4 && < 0.7",">= 0.8"],tp=!0,rp=">= 0.11.13",np=">= 0.11.3 && < 10",ip=">= 0.11.3",sp=!0,op=">= 10",ap=!0,up=!0,cp=!0,lp=">= 1",hp=!0,fp=[">= 13.4 && < 13.5",">= 18.17 && < 19",">= 20"],dp=">= 11.7",pp=">= 0.5",mp={assert:od,"node:assert":[">= 14.18 && < 15",">= 16"],"assert/strict":">= 15","node:assert/strict":">= 16",async_hooks:ad,"node:async_hooks":[">= 14.18 && < 15",">= 16"],buffer_ieee754:ud,buffer:cd,"node:buffer":[">= 14.18 && < 15",">= 16"],child_process:ld,"node:child_process":[">= 14.18 && < 15",">= 16"],cluster:hd,"node:cluster":[">= 14.18 && < 15",">= 16"],console:fd,"node:console":[">= 14.18 && < 15",">= 16"],constants:dd,"node:constants":[">= 14.18 && < 15",">= 16"],crypto:pd,"node:crypto":[">= 14.18 && < 15",">= 16"],_debug_agent:md,_debugger:_d,dgram:gd,"node:dgram":[">= 14.18 && < 15",">= 16"],diagnostics_channel:yd,"node:diagnostics_channel":[">= 14.18 && < 15",">= 16"],dns:vd,"node:dns":[">= 14.18 && < 15",">= 16"],"dns/promises":">= 15","node:dns/promises":">= 16",domain:Ed,"node:domain":[">= 14.18 && < 15",">= 16"],events:Sd,"node:events":[">= 14.18 && < 15",">= 16"],freelist:Rd,fs:wd,"node:fs":[">= 14.18 && < 15",">= 16"],"fs/promises":[">= 10 && < 10.1",">= 14"],"node:fs/promises":[">= 14.18 && < 15",">= 16"],_http_agent:Od,"node:_http_agent":[">= 14.18 && < 15",">= 16"],_http_client:bd,"node:_http_client":[">= 14.18 && < 15",">= 16"],_http_common:Ad,"node:_http_common":[">= 14.18 && < 15",">= 16"],_http_incoming:Td,"node:_http_incoming":[">= 14.18 && < 15",">= 16"],_http_outgoing:Pd,"node:_http_outgoing":[">= 14.18 && < 15",">= 16"],_http_server:Cd,"node:_http_server":[">= 14.18 && < 15",">= 16"],http:Id,"node:http":[">= 14.18 && < 15",">= 16"],http2:xd,"node:http2":[">= 14.18 && < 15",">= 16"],https:$d,"node:https":[">= 14.18 && < 15",">= 16"],inspector:Nd,"node:inspector":[">= 14.18 && < 15",">= 16"],"inspector/promises":[">= 19"],"node:inspector/promises":[">= 19"],_linklist:Dd,module:Ld,"node:module":[">= 14.18 && < 15",">= 16"],net:Fd,"node:net":[">= 14.18 && < 15",">= 16"],"node-inspect/lib/_inspect":">= 7.6 && < 12","node-inspect/lib/internal/inspect_client":">= 7.6 && < 12","node-inspect/lib/internal/inspect_repl":">= 7.6 && < 12",os:qd,"node:os":[">= 14.18 && < 15",">= 16"],path:kd,"node:path":[">= 14.18 && < 15",">= 16"],"path/posix":">= 15.3","node:path/posix":">= 16","path/win32":">= 15.3","node:path/win32":">= 16",perf_hooks:Md,"node:perf_hooks":[">= 14.18 && < 15",">= 16"],process:Bd,"node:process":[">= 14.18 && < 15",">= 16"],punycode:Hd,"node:punycode":[">= 14.18 && < 15",">= 16"],querystring:jd,"node:querystring":[">= 14.18 && < 15",">= 16"],readline:Ud,"node:readline":[">= 14.18 && < 15",">= 16"],"readline/promises":">= 17","node:readline/promises":">= 17",repl:Vd,"node:repl":[">= 14.18 && < 15",">= 16"],"node:sea":[">= 20.12 && < 21",">= 21.7"],smalloc:Gd,"node:sqlite":[">= 22.13 && < 23",">= 23.4"],_stream_duplex:Wd,"node:_stream_duplex":[">= 14.18 && < 15",">= 16"],_stream_transform:zd,"node:_stream_transform":[">= 14.18 && < 15",">= 16"],_stream_wrap:Yd,"node:_stream_wrap":[">= 14.18 && < 15",">= 16"],_stream_passthrough:Kd,"node:_stream_passthrough":[">= 14.18 && < 15",">= 16"],_stream_readable:Xd,"node:_stream_readable":[">= 14.18 && < 15",">= 16"],_stream_writable:Zd,"node:_stream_writable":[">= 14.18 && < 15",">= 16"],stream:Jd,"node:stream":[">= 14.18 && < 15",">= 16"],"stream/consumers":">= 16.7","node:stream/consumers":">= 16.7","stream/promises":">= 15","node:stream/promises":">= 16","stream/web":">= 16.5","node:stream/web":">= 16.5",string_decoder:Qd,"node:string_decoder":[">= 14.18 && < 15",">= 16"],sys:ep,"node:sys":[">= 14.18 && < 15",">= 16"],"test/reporters":">= 19.9 && < 20.2","node:test/reporters":[">= 18.17 && < 19",">= 19.9",">= 20"],"test/mock_loader":">= 22.3 && < 22.7","node:test/mock_loader":">= 22.3 && < 22.7","node:test":[">= 16.17 && < 17",">= 18"],timers:tp,"node:timers":[">= 14.18 && < 15",">= 16"],"timers/promises":">= 15","node:timers/promises":">= 16",_tls_common:rp,"node:_tls_common":[">= 14.18 && < 15",">= 16"],_tls_legacy:np,_tls_wrap:ip,"node:_tls_wrap":[">= 14.18 && < 15",">= 16"],tls:sp,"node:tls":[">= 14.18 && < 15",">= 16"],trace_events:op,"node:trace_events":[">= 14.18 && < 15",">= 16"],tty:ap,"node:tty":[">= 14.18 && < 15",">= 16"],url:up,"node:url":[">= 14.18 && < 15",">= 16"],util:cp,"node:util":[">= 14.18 && < 15",">= 16"],"util/types":">= 15.3","node:util/types":">= 16","v8/tools/arguments":">= 10 && < 12","v8/tools/codemap":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/consarray":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/csvparser":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/logreader":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/profile_view":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/splaytree":[">= 4.4 && < 5",">= 5.2 && < 12"],v8:lp,"node:v8":[">= 14.18 && < 15",">= 16"],vm:hp,"node:vm":[">= 14.18 && < 15",">= 16"],wasi:fp,"node:wasi":[">= 18.17 && < 19",">= 20"],worker_threads:dp,"node:worker_threads":[">= 14.18 && < 15",">= 16"],zlib:pp,"node:zlib":[">= 14.18 && < 15",">= 16"]};var Yr,aa;function _p(){if(aa)return Yr;aa=1;var i=sd();function s(t,e){for(var r=t.split("."),u=e.split(" "),c=u.length>1?u[0]:"=",d=(u.length>1?u[1]:u[0]).split("."),v=0;v<3;++v){var m=parseInt(r[v]||0,10),R=parseInt(d[v]||0,10);if(m!==R)return c==="<"?m<R:c===">="?m>=R:!1}return c===">="}function o(t,e){var r=e.split(/ ?&& ?/);if(r.length===0)return!1;for(var u=0;u<r.length;++u)if(!s(t,r[u]))return!1;return!0}function h(t,e){if(typeof e=="boolean")return e;var r=typeof t>"u"?process.versions&&process.versions.node:t;if(typeof r!="string")throw new TypeError(typeof t>"u"?"Unable to determine current node version":"If provided, a valid node version is required");if(e&&typeof e=="object"){for(var u=0;u<e.length;++u)if(o(r,e[u]))return!0;return!1}return o(r,e)}var n=mp;return Yr=function(e,r){return i(n,e)&&h(r,n[e])},Yr}var Kr,ua;function gp(){if(ua)return Kr;ua=1;var i=ge,s=Jf(),o=le,h=Qf(),n=td(),t=rd(),e=_p(),r=process.platform!=="win32"&&i.realpath&&typeof i.realpath.native=="function"?i.realpath.native:i.realpath,u=s(),c=function(){return[o.join(u,".node_modules"),o.join(u,".node_libraries")]},d=function(a,f){i.stat(a,function(l,_){return l?l.code==="ENOENT"||l.code==="ENOTDIR"?f(null,!1):f(l):f(null,_.isFile()||_.isFIFO())})},v=function(a,f){i.stat(a,function(l,_){return l?l.code==="ENOENT"||l.code==="ENOTDIR"?f(null,!1):f(l):f(null,_.isDirectory())})},m=function(a,f){r(a,function(l,_){l&&l.code!=="ENOENT"?f(l):f(null,l?a:_)})},R=function(a,f,l,_){l&&l.preserveSymlinks===!1?a(f,_):_(null,f)},w=function(a,f,l){a(f,function(_,p){if(_)l(_);else try{var E=JSON.parse(p);l(null,E)}catch{l(null)}})},S=function(a,f,l){for(var _=n(f,l,a),p=0;p<_.length;p++)_[p]=o.join(_[p],a);return _};return Kr=function(a,f,l){var _=l,p=f;if(typeof f=="function"&&(_=p,p={}),typeof a!="string"){var E=new TypeError("Path must be a string.");return process.nextTick(function(){_(E)})}p=t(a,p);var y=p.isFile||d,b=p.isDirectory||v,A=p.readFile||i.readFile,P=p.realpath||m,D=p.readPackage||w;if(p.readFile&&p.readPackage){var q=new TypeError("`readFile` and `readPackage` are mutually exclusive.");return process.nextTick(function(){_(q)})}var $=p.packageIterator,L=p.extensions||[".js"],C=p.includeCoreModules!==!1,I=p.basedir||o.dirname(h()),M=p.filename||I;p.paths=p.paths||c();var U=o.resolve(I);R(P,U,p,function(j,V){j?_(j):H(V)});var W;function H(j){if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(a))W=o.resolve(j,a),(a==="."||a===".."||a.slice(-1)==="/")&&(W+="/"),/\/$/.test(a)&&W===j?ee(W,p.package,O):x(W,p.package,O);else{if(C&&e(a))return _(null,a);N(a,j,function(V,F,B){if(V)_(V);else{if(F)return R(P,F,p,function(J,re){J?_(J):_(null,re,B)});var Y=new Error("Cannot find module '"+a+"' from '"+M+"'");Y.code="MODULE_NOT_FOUND",_(Y)}})}}function O(j,V,F){j?_(j):V?_(null,V,F):ee(W,function(B,Y,J){if(B)_(B);else if(Y)R(P,Y,p,function(oe,Z){oe?_(oe):_(null,Z,J)});else{var re=new Error("Cannot find module '"+a+"' from '"+M+"'");re.code="MODULE_NOT_FOUND",_(re)}})}function x(j,V,F){var B=V,Y=F;typeof B=="function"&&(Y=B,B=void 0);var J=[""].concat(L);re(J,j,B);function re(oe,Z,T){if(oe.length===0)return Y(null,void 0,T);var X=Z+oe[0],Q=T;Q?G(null,Q):z(o.dirname(X),G);function G(K,te,ie){if(Q=te,K)return Y(K);if(ie&&Q&&p.pathFilter){var ue=o.relative(ie,X),ce=ue.slice(0,ue.length-oe[0].length),fe=p.pathFilter(Q,Z,ce);if(fe)return re([""].concat(L.slice()),o.resolve(ie,fe),Q)}y(X,ne)}function ne(K,te){if(K)return Y(K);if(te)return Y(null,X,Q);re(oe.slice(1),Z,Q)}}}function z(j,V){if(j===""||j==="/"||process.platform==="win32"&&/^\w:[/\\]*$/.test(j)||/[/\\]node_modules[/\\]*$/.test(j))return V(null);R(P,j,p,function(F,B){if(F)return z(o.dirname(j),V);var Y=o.join(B,"package.json");y(Y,function(J,re){if(!re)return z(o.dirname(j),V);D(A,Y,function(oe,Z){oe&&V(oe);var T=Z;T&&p.packageFilter&&(T=p.packageFilter(T,Y)),V(null,T,j)})})})}function ee(j,V,F){var B=F,Y=V;typeof Y=="function"&&(B=Y,Y=p.package),R(P,j,p,function(J,re){if(J)return B(J);var oe=o.join(re,"package.json");y(oe,function(Z,T){if(Z)return B(Z);if(!T)return x(o.join(j,"index"),Y,B);D(A,oe,function(X,Q){if(X)return B(X);var G=Q;if(G&&p.packageFilter&&(G=p.packageFilter(G,oe)),G&&G.main){if(typeof G.main!="string"){var ne=new TypeError("package “"+G.name+"” `main` must be a string");return ne.code="INVALID_PACKAGE_MAIN",B(ne)}(G.main==="."||G.main==="./")&&(G.main="index"),x(o.resolve(j,G.main),G,function(K,te,ie){if(K)return B(K);if(te)return B(null,te,ie);if(!ie)return x(o.join(j,"index"),ie,B);var ue=o.resolve(j,ie.main);ee(ue,ie,function(ce,fe,ye){if(ce)return B(ce);if(fe)return B(null,fe,ye);x(o.join(j,"index"),ye,B)})});return}x(o.join(j,"/index"),G,B)})})})}function k(j,V){if(V.length===0)return j(null,void 0);var F=V[0];b(o.dirname(F),B);function B(re,oe){if(re)return j(re);if(!oe)return k(j,V.slice(1));x(F,p.package,Y)}function Y(re,oe,Z){if(re)return j(re);if(oe)return j(null,oe,Z);ee(F,p.package,J)}function J(re,oe,Z){if(re)return j(re);if(oe)return j(null,oe,Z);k(j,V.slice(1))}}function N(j,V,F){var B=function(){return S(j,V,p)};k(F,$?$(j,V,B,p):B())}},Kr}var Xr,ca;function yp(){return ca||(ca=1,Xr=gp()),Xr}var vp=yp();const Ep=Ae(vp);async function Sp(){if(typeof require=="function")return require;const{createRequire:i}=await import("module");return i(import.meta.url)}async function Rp(i){try{const s=await Sp();let o=null;const h=console.log;console.log=t=>{o=t};const n=s(i);if(console.log=h,typeof n=="string")return n;if(typeof n=="object"){if(typeof n.include_dir=="string")return n.include_dir;if(typeof n.include=="string")return n.include;if(o!==null)return o}}catch{}return i}async function wp(i,s){try{const o=await Op(s,i);if(o!==void 0)return o}catch{}return null}function Op(i,s){return new Promise(o=>{Ep(i,{basedir:s},(h,n)=>{if(h)throw h;return o(n)})})}async function xe(i,s){try{return await pe.stat(i,s)}catch{return new bp}}class bp{isFile=()=>!1;isDirectory=()=>!1;isBlockDevice=()=>!1;isCharacterDevice=()=>!1;isSymbolicLink=()=>!1;isFIFO=()=>!1;isSocket=()=>!1}async function Rh(i,s){if(!await Ap(i))return null;const h=he(i,"node_modules",s);return await Tp(h,s==="node-addon-api"?"napi.h":`${s}.h`)?(se.debug(`Found package "${s}" at path ${h}!`),h):Rh(Pp(i),s)}async function Ap(i){const s=he(i,"package.json"),o=he(i,"node_modules");return(await xe(s)).isFile()||(await xe(o)).isDirectory()}async function Tp(i,s){const o=he(i,s);return(await xe(o)).isFile()}function Pp(i){let s=i;const o=s.split(of),h=o[o.length-2];return h&&h.charAt(0)==="@"&&(s=he(s,"..")),s=he(s,"..",".."),af(s)}async function Cp(i,s){if(await pe.pathExists(s))return s;const o=await wp(i,s);return typeof o=="string"?Rp(o):Rh(i,s)}var Zr,la;function tr(){return la||(la=1,Zr=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...s)=>console.error("SEMVER",...s):()=>{}),Zr}var Jr,ha;function Ws(){if(ha)return Jr;ha=1;const i="2.0.0",s=256,o=Number.MAX_SAFE_INTEGER||9007199254740991,h=16,n=s-6;return Jr={MAX_LENGTH:s,MAX_SAFE_COMPONENT_LENGTH:h,MAX_SAFE_BUILD_LENGTH:n,MAX_SAFE_INTEGER:o,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:i,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},Jr}var vt={exports:{}},fa;function zs(){return fa||(fa=1,function(i,s){const{MAX_SAFE_COMPONENT_LENGTH:o,MAX_SAFE_BUILD_LENGTH:h,MAX_LENGTH:n}=Ws(),t=tr();s=i.exports={};const e=s.re=[],r=s.safeRe=[],u=s.src=[],c=s.safeSrc=[],d=s.t={};let v=0;const m="[a-zA-Z0-9-]",R=[["\\s",1],["\\d",n],[m,h]],w=g=>{for(const[a,f]of R)g=g.split(`${a}*`).join(`${a}{0,${f}}`).split(`${a}+`).join(`${a}{1,${f}}`);return g},S=(g,a,f)=>{const l=w(a),_=v++;t(g,_,a),d[g]=_,u[_]=a,c[_]=l,e[_]=new RegExp(a,f?"g":void 0),r[_]=new RegExp(l,f?"g":void 0)};S("NUMERICIDENTIFIER","0|[1-9]\\d*"),S("NUMERICIDENTIFIERLOOSE","\\d+"),S("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${m}*`),S("MAINVERSION",`(${u[d.NUMERICIDENTIFIER]})\\.(${u[d.NUMERICIDENTIFIER]})\\.(${u[d.NUMERICIDENTIFIER]})`),S("MAINVERSIONLOOSE",`(${u[d.NUMERICIDENTIFIERLOOSE]})\\.(${u[d.NUMERICIDENTIFIERLOOSE]})\\.(${u[d.NUMERICIDENTIFIERLOOSE]})`),S("PRERELEASEIDENTIFIER",`(?:${u[d.NUMERICIDENTIFIER]}|${u[d.NONNUMERICIDENTIFIER]})`),S("PRERELEASEIDENTIFIERLOOSE",`(?:${u[d.NUMERICIDENTIFIERLOOSE]}|${u[d.NONNUMERICIDENTIFIER]})`),S("PRERELEASE",`(?:-(${u[d.PRERELEASEIDENTIFIER]}(?:\\.${u[d.PRERELEASEIDENTIFIER]})*))`),S("PRERELEASELOOSE",`(?:-?(${u[d.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${u[d.PRERELEASEIDENTIFIERLOOSE]})*))`),S("BUILDIDENTIFIER",`${m}+`),S("BUILD",`(?:\\+(${u[d.BUILDIDENTIFIER]}(?:\\.${u[d.BUILDIDENTIFIER]})*))`),S("FULLPLAIN",`v?${u[d.MAINVERSION]}${u[d.PRERELEASE]}?${u[d.BUILD]}?`),S("FULL",`^${u[d.FULLPLAIN]}$`),S("LOOSEPLAIN",`[v=\\s]*${u[d.MAINVERSIONLOOSE]}${u[d.PRERELEASELOOSE]}?${u[d.BUILD]}?`),S("LOOSE",`^${u[d.LOOSEPLAIN]}$`),S("GTLT","((?:<|>)?=?)"),S("XRANGEIDENTIFIERLOOSE",`${u[d.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),S("XRANGEIDENTIFIER",`${u[d.NUMERICIDENTIFIER]}|x|X|\\*`),S("XRANGEPLAIN",`[v=\\s]*(${u[d.XRANGEIDENTIFIER]})(?:\\.(${u[d.XRANGEIDENTIFIER]})(?:\\.(${u[d.XRANGEIDENTIFIER]})(?:${u[d.PRERELEASE]})?${u[d.BUILD]}?)?)?`),S("XRANGEPLAINLOOSE",`[v=\\s]*(${u[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[d.XRANGEIDENTIFIERLOOSE]})(?:${u[d.PRERELEASELOOSE]})?${u[d.BUILD]}?)?)?`),S("XRANGE",`^${u[d.GTLT]}\\s*${u[d.XRANGEPLAIN]}$`),S("XRANGELOOSE",`^${u[d.GTLT]}\\s*${u[d.XRANGEPLAINLOOSE]}$`),S("COERCEPLAIN",`(^|[^\\d])(\\d{1,${o}})(?:\\.(\\d{1,${o}}))?(?:\\.(\\d{1,${o}}))?`),S("COERCE",`${u[d.COERCEPLAIN]}(?:$|[^\\d])`),S("COERCEFULL",u[d.COERCEPLAIN]+`(?:${u[d.PRERELEASE]})?(?:${u[d.BUILD]})?(?:$|[^\\d])`),S("COERCERTL",u[d.COERCE],!0),S("COERCERTLFULL",u[d.COERCEFULL],!0),S("LONETILDE","(?:~>?)"),S("TILDETRIM",`(\\s*)${u[d.LONETILDE]}\\s+`,!0),s.tildeTrimReplace="$1~",S("TILDE",`^${u[d.LONETILDE]}${u[d.XRANGEPLAIN]}$`),S("TILDELOOSE",`^${u[d.LONETILDE]}${u[d.XRANGEPLAINLOOSE]}$`),S("LONECARET","(?:\\^)"),S("CARETTRIM",`(\\s*)${u[d.LONECARET]}\\s+`,!0),s.caretTrimReplace="$1^",S("CARET",`^${u[d.LONECARET]}${u[d.XRANGEPLAIN]}$`),S("CARETLOOSE",`^${u[d.LONECARET]}${u[d.XRANGEPLAINLOOSE]}$`),S("COMPARATORLOOSE",`^${u[d.GTLT]}\\s*(${u[d.LOOSEPLAIN]})$|^$`),S("COMPARATOR",`^${u[d.GTLT]}\\s*(${u[d.FULLPLAIN]})$|^$`),S("COMPARATORTRIM",`(\\s*)${u[d.GTLT]}\\s*(${u[d.LOOSEPLAIN]}|${u[d.XRANGEPLAIN]})`,!0),s.comparatorTrimReplace="$1$2$3",S("HYPHENRANGE",`^\\s*(${u[d.XRANGEPLAIN]})\\s+-\\s+(${u[d.XRANGEPLAIN]})\\s*$`),S("HYPHENRANGELOOSE",`^\\s*(${u[d.XRANGEPLAINLOOSE]})\\s+-\\s+(${u[d.XRANGEPLAINLOOSE]})\\s*$`),S("STAR","(<|>)?=?\\s*\\*"),S("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),S("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(vt,vt.exports)),vt.exports}var Qr,da;function Ys(){if(da)return Qr;da=1;const i=Object.freeze({loose:!0}),s=Object.freeze({});return Qr=h=>h?typeof h!="object"?i:h:s,Qr}var en,pa;function Ip(){if(pa)return en;pa=1;const i=/^[0-9]+$/,s=(h,n)=>{const t=i.test(h),e=i.test(n);return t&&e&&(h=+h,n=+n),h===n?0:t&&!e?-1:e&&!t?1:h<n?-1:1};return en={compareIdentifiers:s,rcompareIdentifiers:(h,n)=>s(n,h)},en}var tn,ma;function Ks(){if(ma)return tn;ma=1;const i=tr(),{MAX_LENGTH:s,MAX_SAFE_INTEGER:o}=Ws(),{safeRe:h,safeSrc:n,t}=zs(),e=Ys(),{compareIdentifiers:r}=Ip();class u{constructor(d,v){if(v=e(v),d instanceof u){if(d.loose===!!v.loose&&d.includePrerelease===!!v.includePrerelease)return d;d=d.version}else if(typeof d!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof d}".`);if(d.length>s)throw new TypeError(`version is longer than ${s} characters`);i("SemVer",d,v),this.options=v,this.loose=!!v.loose,this.includePrerelease=!!v.includePrerelease;const m=d.trim().match(v.loose?h[t.LOOSE]:h[t.FULL]);if(!m)throw new TypeError(`Invalid Version: ${d}`);if(this.raw=d,this.major=+m[1],this.minor=+m[2],this.patch=+m[3],this.major>o||this.major<0)throw new TypeError("Invalid major version");if(this.minor>o||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>o||this.patch<0)throw new TypeError("Invalid patch version");m[4]?this.prerelease=m[4].split(".").map(R=>{if(/^[0-9]+$/.test(R)){const w=+R;if(w>=0&&w<o)return w}return R}):this.prerelease=[],this.build=m[5]?m[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(d){if(i("SemVer.compare",this.version,this.options,d),!(d instanceof u)){if(typeof d=="string"&&d===this.version)return 0;d=new u(d,this.options)}return d.version===this.version?0:this.compareMain(d)||this.comparePre(d)}compareMain(d){return d instanceof u||(d=new u(d,this.options)),r(this.major,d.major)||r(this.minor,d.minor)||r(this.patch,d.patch)}comparePre(d){if(d instanceof u||(d=new u(d,this.options)),this.prerelease.length&&!d.prerelease.length)return-1;if(!this.prerelease.length&&d.prerelease.length)return 1;if(!this.prerelease.length&&!d.prerelease.length)return 0;let v=0;do{const m=this.prerelease[v],R=d.prerelease[v];if(i("prerelease compare",v,m,R),m===void 0&&R===void 0)return 0;if(R===void 0)return 1;if(m===void 0)return-1;if(m===R)continue;return r(m,R)}while(++v)}compareBuild(d){d instanceof u||(d=new u(d,this.options));let v=0;do{const m=this.build[v],R=d.build[v];if(i("build compare",v,m,R),m===void 0&&R===void 0)return 0;if(R===void 0)return 1;if(m===void 0)return-1;if(m===R)continue;return r(m,R)}while(++v)}inc(d,v,m){if(d.startsWith("pre")){if(!v&&m===!1)throw new Error("invalid increment argument: identifier is empty");if(v){const R=new RegExp(`^${this.options.loose?n[t.PRERELEASELOOSE]:n[t.PRERELEASE]}$`),w=`-${v}`.match(R);if(!w||w[1]!==v)throw new Error(`invalid identifier: ${v}`)}}switch(d){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",v,m);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",v,m);break;case"prepatch":this.prerelease.length=0,this.inc("patch",v,m),this.inc("pre",v,m);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",v,m),this.inc("pre",v,m);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const R=Number(m)?1:0;if(this.prerelease.length===0)this.prerelease=[R];else{let w=this.prerelease.length;for(;--w>=0;)typeof this.prerelease[w]=="number"&&(this.prerelease[w]++,w=-2);if(w===-1){if(v===this.prerelease.join(".")&&m===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(R)}}if(v){let w=[v,R];m===!1&&(w=[v]),r(this.prerelease[0],v)===0?isNaN(this.prerelease[1])&&(this.prerelease=w):this.prerelease=w}break}default:throw new Error(`invalid increment argument: ${d}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return tn=u,tn}var rn,_a;function Xe(){if(_a)return rn;_a=1;const i=Ks();return rn=(o,h,n)=>new i(o,n).compare(new i(h,n)),rn}var nn,ga;function wh(){if(ga)return nn;ga=1;const i=Xe();return nn=(o,h,n)=>i(o,h,n)>=0,nn}var xp=wh();const $p=Ae(xp);var sn,ya;function Oh(){if(ya)return sn;ya=1;const i=Xe();return sn=(o,h,n)=>i(o,h,n)<0,sn}var Np=Oh();const Dp=Ae(Np),bh=Qt("NVM_NODEJS_ORG_MIRROR")??"https://nodejs.org/dist",Lp=Qt("NVM_IOJS_ORG_MIRROR")??"https://iojs.org/dist",Fp=Qt("ELECTRON_MIRROR")??"https://artifacts.electronjs.org/headers/dist",qp=process.env[lt.platform()==="win32"?"USERPROFILE":"HOME"];function We(i){switch(i.runtime){case"node":return(Dp(i.runtimeVersion,"4.0.0")?kp:Mp)(i);case"iojs":return{externalPath:`${Lp}/v${i.runtimeVersion}/`,winLibs:[{dir:i.arch==="x64"||i.arch==="arm64"?"win-x64":"win-x86",name:`${i.runtime}.lib`}],tarPath:`${i.runtime}-v${i.runtimeVersion}.tar.gz`,headerOnly:!1};case"electron":return{externalPath:`${Fp}/v${i.runtimeVersion}/`,winLibs:[{dir:i.arch==="x64"?"x64":i.arch==="arm64"?"arm64":"",name:"node.lib"}],tarPath:`node-v${i.runtimeVersion}.tar.gz`,headerOnly:$p(i.runtimeVersion,"4.0.0-alpha")};default:throw new Error(`Unsupported runtime ${i.runtime}`)}}function kp(i){return{externalPath:`${bh}/v${i.runtimeVersion}/`,winLibs:[{dir:i.arch==="x64"||i.arch==="arm64"?"x64":"",name:`${i.runtime}.lib`}],tarPath:`${i.runtime}-v${i.runtimeVersion}.tar.gz`,headerOnly:!1}}function Mp(i){return{externalPath:`${bh}/v${i.runtimeVersion}/`,winLibs:[{dir:i.arch==="x64"?"win-x64":i.arch==="arm64"?"win-arm64":i.arch==="ia32"?"win-x86":"",name:`${i.runtime}.lib`}],tarPath:`${i.runtime}-v${i.runtimeVersion}-headers.tar.gz`,headerOnly:!0}}const Ah=process.env["ProgramFiles(x86)"],Bp=[process.env["ProgramFiles(x86)"],process.env.ProgramFiles],Hp=["Enterprise","Professional","Community","BuildTools"],jp=["2022","2019","2017"],Up=`${Ah}\\Microsoft Visual Studio\\Installer`;function Vp(i,s){try{return`${mh(`vswhere -products * ${s} -prerelease -property installationPath`).toString().trim()}\\${i}`}catch(o){se.debug(`vswhere failed: ${o}`)}return null}function Gp(i){let o=Vp("VC\\Auxiliary\\Build\\vcvarsall.bat","-latest");if(o!==null&&ar(o))return se.debug(`Found with vswhere: ${o}`),o;se.debug("Not found with vswhere");const h=jp;for(const n of Bp)for(const t of h)for(const e of Hp)if(o=`${n}\\Microsoft Visual Studio\\${t}\\${e}\\VC\\Auxiliary\\Build\\vcvarsall.bat`,se.debug(`Trying standard location: ${o}`),ar(o))return se.debug(`Found standard location: ${o}`),o;if(se.debug("Not found in standard locations"),o=`${Ah}\\Microsoft Visual C++ Build Tools\\vcbuildtools.bat`,ar(o))return se.debug(`Found VS 2015: ${o}`),o;throw se.debug(`Not found in VS 2015 location: ${o}`),new Error("Microsoft Visual Studio not found")}function Wp(i){return["PATH","INCLUDE","LIB","LIBPATH"].includes(i.toUpperCase())}function zp(i){return i.split(";").filter((s,o,h)=>h.indexOf(s)===o).join(";")}function va(i){switch(i){case"ia32":return"x86";case"x64":return"amd64";default:return i}}function Yp(i,s){if(process.platform!=="win32")return;const o=va(process.arch),h=va(i),n=o===h?h:`${o}_${h}`;se.debug(`Setting up MSVC for ${n}`),console.group(),process.env.PATH+=uf+Up;const t=[n],e=`"${Gp()}" ${t.join(" ")}`;se.debug(`vcvars command-line: ${e}`);const u=mh(`set && cls && ${e} && cls && set`,{shell:"cmd"}).toString().split("\f"),c=u[0].split(`\r
`),d=u[1].split(`\r
`),v=u[2].split(`\r
`),m=d.filter(w=>!!(w.match(/^\[ERROR.*]/)&&!w.match(/Error in script usage. The correct usage is:$/)));if(m.length>0)throw new Error(`invalid parameters\r
${m.join(`\r
`)}`);const R={};for(const w of c){const[S,g]=w.split("=");R[S]=g}for(const w of v){if(!w.includes("="))continue;let[S,g]=w.split("=");const a=R[S];g!==a&&(se.debug(`Setting env var ${S}=${g}`),Wp(S)&&(g=zp(g)),process.env[S]=g)}console.groupEnd()}class Kp{constructor(s,o){this.config=s,this.rtd=o}async configureCommand(){const s=[this.config.packageDirectory,"--no-warn-unused-cli"],o=await this.buildDefines();for(const[h,n]of o)s.push(`-D${h}=${n}`);return this.config.generatorToUse!=="native"&&(s.push("-G",this.config.generatorToUse),this.config.generatorFlags!==void 0&&s.push(...this.config.generatorFlags)),[this.config.cmakeToUse,s]}buildCommand(s){return[this.config.cmakeToUse,["--build",s,"--config",this.config.buildType,"--parallel"]]}async buildDefines(){const s=We(this.config),o=[];if(o.push(["CMAKE_BUILD_TYPE",this.config.buildType]),this.config.toolchainFile!==void 0&&o.push(["CMAKE_TOOLCHAIN_FILE",qe(this.config.toolchainFile)]),this.config.os==="win32"){const t=this.rtd.winLibs();t.length&&o.push(["CMAKE_JS_LIB",t.join(";")])}else this.config.os==="darwin"&&o.push(["CMAKE_JS_CXX_FLAGS","-undefined dynamic_lookup"]);const h=[];s.headerOnly?h.push(he(this.rtd.internalPath(),"/include/node")):h.push(he(this.rtd.internalPath(),"/src"),he(this.rtd.internalPath(),"/deps/v8/include"),he(this.rtd.internalPath(),"/deps/uv/include")),this.config.nodeAPI?.includes("nan")===!0&&se.warn(`Specified nodeAPI ${this.config.nodeAPI} seems to be nan - The usage of nan is discouraged due to subtle and hard-to-fix ABI issues! Consider using node-addon-api / N-API instead!`),this.config.nodeAPI===void 0&&se.warn('NodeAPI was not specified. The default changed from "nan" to "node-addon-api" in v0.3.0! Please make sure this is intended.');const n=await Cp(this.config.packageDirectory,this.config.nodeAPI??"node-addon-api");if(this.config.nodeAPI!==void 0&&n===null&&se.warn(`NodeAPI was specified, but module "${this.config.nodeAPI}" could not be found!`),n!==null&&h.push(n),o.push(["CMAKE_JS_INC",h.join(";")]),o.push(["NODE_RUNTIME",this.config.runtime],["NODE_ARCH",this.config.arch],["NODE_PLATFORM",this.config.os],["NODE_RUNTIMEVERSION",this.config.runtimeVersion],["NODE_ABI_VERSION",`${this.rtd.abi()}`]),o.push(["CMAKE_JS_DEFINES",this.config.additionalDefines.join(";")]),this.config.cross===!0){const t=Th(this.config.arch,this.config.os),e=Xp(this.config.os);if(se.info(`Cross-compiling for ${e}/${t}`),o.push(["CMAKE_SYSTEM_PROCESSOR",t],["CMAKE_SYSTEM_NAME",e]),e==="Darwin"&&o.push(["CMAKE_OSX_ARCHITECTURES",t]),this.config.os==="win32"){const r=this.config.generatorToUse.includes("Visual Studio");try{Yp(this.config.arch),r&&(se.debug("Removing the generator flags in favour of the vcvarsall.bat script"),this.config.generatorFlags=void 0)}catch(u){se.warn(`Failed to setup MSVC variables for ${this.config.arch}: ${u}.`),r&&(se.debug("Setting the CMake generator platform to the target architecture"),o.push(["CMAKE_GENERATOR_PLATFORM",t]))}}}if(this.config.CMakeOptions.length!==0)for(const t of this.config.CMakeOptions)o.push([t.name,t.value.replace(/\$ROOT\$/g,qe(this.config.packageDirectory))]);return o}}function Th(i,s){return s in on&&i in on[s]?on[s][i]:s==="win32"?i.toUpperCase():i}const on={win32:{arm64:"arm64",x64:"AMD64",ia32:"X86"},darwin:{arm64:"arm64",x64:"x86_64",ppc64:"powerpc64",ppc:"powerpc"},linux:{arm64:"aarch64",x64:"x86_64",ia32:"i386",arm:"arm",loong64:"loong64",mips:"mips",mipsel:"mipsel",ppc64:"ppc64"}};function Xp(i){return i in Ea?Ea[i]:i.toUpperCase()}const Ea={win32:"Windows",darwin:"Darwin",linux:"Linux",android:"Android",openbsd:"OpenBSD",freebsd:"FreeBSD",netbsd:"NetBSD",cygwin:"CYGWIN",aix:"AIX",sunos:"SunOS",haiku:"Haiku"};var an,Sa;function Zp(){if(Sa)return an;Sa=1,an=h,h.sync=n;var i=ge;function s(t,e){var r=e.pathExt!==void 0?e.pathExt:process.env.PATHEXT;if(!r||(r=r.split(";"),r.indexOf("")!==-1))return!0;for(var u=0;u<r.length;u++){var c=r[u].toLowerCase();if(c&&t.substr(-c.length).toLowerCase()===c)return!0}return!1}function o(t,e,r){return!t.isSymbolicLink()&&!t.isFile()?!1:s(e,r)}function h(t,e,r){i.stat(t,function(u,c){r(u,u?!1:o(c,t,e))})}function n(t,e){return o(i.statSync(t),t,e)}return an}var un,Ra;function Jp(){if(Ra)return un;Ra=1,un=s,s.sync=o;var i=ge;function s(t,e,r){i.stat(t,function(u,c){r(u,u?!1:h(c,e))})}function o(t,e){return h(i.statSync(t),e)}function h(t,e){return t.isFile()&&n(t,e)}function n(t,e){var r=t.mode,u=t.uid,c=t.gid,d=e.uid!==void 0?e.uid:process.getuid&&process.getuid(),v=e.gid!==void 0?e.gid:process.getgid&&process.getgid(),m=parseInt("100",8),R=parseInt("010",8),w=parseInt("001",8),S=m|R,g=r&w||r&R&&c===v||r&m&&u===d||r&S&&d===0;return g}return un}var cn,wa;function Qp(){if(wa)return cn;wa=1;var i;process.platform==="win32"||$e.TESTING_WINDOWS?i=Zp():i=Jp(),cn=s,s.sync=o;function s(h,n,t){if(typeof n=="function"&&(t=n,n={}),!t){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(e,r){s(h,n||{},function(u,c){u?r(u):e(c)})})}i(h,n||{},function(e,r){e&&(e.code==="EACCES"||n&&n.ignoreErrors)&&(e=null,r=!1),t(e,r)})}function o(h,n){try{return i.sync(h,n||{})}catch(t){if(n&&n.ignoreErrors||t.code==="EACCES")return!1;throw t}}return cn}var ln,Oa;function em(){if(Oa)return ln;Oa=1;const i=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",s=le,o=i?";":":",h=Qp(),n=u=>Object.assign(new Error(`not found: ${u}`),{code:"ENOENT"}),t=(u,c)=>{const d=c.colon||o,v=u.match(/\//)||i&&u.match(/\\/)?[""]:[...i?[process.cwd()]:[],...(c.path||process.env.PATH||"").split(d)],m=i?c.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",R=i?m.split(d):[""];return i&&u.indexOf(".")!==-1&&R[0]!==""&&R.unshift(""),{pathEnv:v,pathExt:R,pathExtExe:m}},e=(u,c,d)=>{typeof c=="function"&&(d=c,c={}),c||(c={});const{pathEnv:v,pathExt:m,pathExtExe:R}=t(u,c),w=[],S=a=>new Promise((f,l)=>{if(a===v.length)return c.all&&w.length?f(w):l(n(u));const _=v[a],p=/^".*"$/.test(_)?_.slice(1,-1):_,E=s.join(p,u),y=!p&&/^\.[\\\/]/.test(u)?u.slice(0,2)+E:E;f(g(y,a,0))}),g=(a,f,l)=>new Promise((_,p)=>{if(l===m.length)return _(S(f+1));const E=m[l];h(a+E,{pathExt:R},(y,b)=>{if(!y&&b)if(c.all)w.push(a+E);else return _(a+E);return _(g(a,f,l+1))})});return d?S(0).then(a=>d(null,a),d):S(0)},r=(u,c)=>{c=c||{};const{pathEnv:d,pathExt:v,pathExtExe:m}=t(u,c),R=[];for(let w=0;w<d.length;w++){const S=d[w],g=/^".*"$/.test(S)?S.slice(1,-1):S,a=s.join(g,u),f=!g&&/^\.[\\\/]/.test(u)?u.slice(0,2)+a:a;for(let l=0;l<v.length;l++){const _=f+v[l];try{if(h.sync(_,{pathExt:m}))if(c.all)R.push(_);else return _}catch{}}}if(c.all&&R.length)return R;if(c.nothrow)return null;throw n(u)};return ln=e,e.sync=r,ln}var tm=em();const Ph=Ae(tm);var hn,ba;function rm(){return ba||(ba=1,hn=function(){}),hn}var fn,Aa;function Be(){if(Aa)return fn;Aa=1;var i=rm()();return fn=function(s){return s!==i&&s!==null},fn}var dn,Ta;function Ch(){if(Ta)return dn;Ta=1;var i=Be(),s=Array.prototype.forEach,o=Object.create,h=function(n,t){var e;for(e in n)t[e]=n[e]};return dn=function(n){var t=o(null);return s.call(arguments,function(e){i(e)&&h(Object(e),t)}),t},dn}var pn,Pa;function nm(){return Pa||(Pa=1,pn=function(){var i=Math.sign;return typeof i!="function"?!1:i(10)===1&&i(-20)===-1}),pn}var mn,Ca;function im(){return Ca||(Ca=1,mn=function(i){return i=Number(i),isNaN(i)||i===0?i:i>0?1:-1}),mn}var _n,Ia;function sm(){return Ia||(Ia=1,_n=nm()()?Math.sign:im()),_n}var gn,xa;function om(){if(xa)return gn;xa=1;var i=sm(),s=Math.abs,o=Math.floor;return gn=function(h){return isNaN(h)?0:(h=Number(h),h===0||!isFinite(h)?h:i(h)*o(s(h)))},gn}var yn,$a;function He(){if($a)return yn;$a=1;var i=om(),s=Math.max;return yn=function(o){return s(0,i(o))},yn}var vn,Na;function Ih(){if(Na)return vn;Na=1;var i=He();return vn=function(s,o,h){var n;return isNaN(s)?(n=o,n>=0?h&&n?n-1:n:1):s===!1?!1:i(s)},vn}var En,Da;function Ne(){return Da||(Da=1,En=function(i){if(typeof i!="function")throw new TypeError(i+" is not a function");return i}),En}var Sn,La;function Ze(){if(La)return Sn;La=1;var i=Be();return Sn=function(s){if(!i(s))throw new TypeError("Cannot use null or undefined");return s},Sn}var Rn,Fa;function am(){if(Fa)return Rn;Fa=1;var i=Ne(),s=Ze(),o=Function.prototype.bind,h=Function.prototype.call,n=Object.keys,t=Object.prototype.propertyIsEnumerable;return Rn=function(e,r){return function(u,c){var d,v=arguments[2],m=arguments[3];return u=Object(s(u)),i(c),d=n(u),m&&d.sort(typeof m=="function"?o.call(m,u):void 0),typeof e!="function"&&(e=d[e]),h.call(e,d,function(R,w){return t.call(u,R)?h.call(c,v,u[R],R,u,w):r})}},Rn}var wn,qa;function rr(){return qa||(qa=1,wn=am()("forEach")),wn}var ka={},Ma;function je(){return Ma||(Ma=1),ka}var On={exports:{}},bn,Ba;function um(){return Ba||(Ba=1,bn=function(){var i=Object.assign,s;return typeof i!="function"?!1:(s={foo:"raz"},i(s,{bar:"dwa"},{trzy:"trzy"}),s.foo+s.bar+s.trzy==="razdwatrzy")}),bn}var An,Ha;function cm(){return Ha||(Ha=1,An=function(){try{return Object.keys("primitive"),!0}catch{return!1}}),An}var Tn,ja;function lm(){if(ja)return Tn;ja=1;var i=Be(),s=Object.keys;return Tn=function(o){return s(i(o)?Object(o):o)},Tn}var Pn,Ua;function hm(){return Ua||(Ua=1,Pn=cm()()?Object.keys:lm()),Pn}var Cn,Va;function fm(){if(Va)return Cn;Va=1;var i=hm(),s=Ze(),o=Math.max;return Cn=function(h,n){var t,e,r=o(arguments.length,2),u;for(h=Object(s(h)),u=function(c){try{h[c]=n[c]}catch(d){t||(t=d)}},e=1;e<r;++e)n=arguments[e],i(n).forEach(u);if(t!==void 0)throw t;return h},Cn}var In,Ga;function xh(){return Ga||(Ga=1,In=um()()?Object.assign:fm()),In}var xn,Wa;function dm(){if(Wa)return xn;Wa=1;var i=Be(),s={function:!0,object:!0};return xn=function(o){return i(o)&&s[typeof o]||!1},xn}var za;function pm(){return za||(za=1,function(i){var s=xh(),o=dm(),h=Be(),n=Error.captureStackTrace;i.exports=function(t){var e=new Error(t),r=arguments[1],u=arguments[2];return h(u)||o(r)&&(u=r,r=null),h(u)&&s(e,u),h(r)&&(e.code=r),n&&n(e,i.exports),e}}(On)),On.exports}var Et={exports:{}},$n,Ya;function $h(){if(Ya)return $n;Ya=1;var i=Ze(),s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,h=Object.getOwnPropertyNames,n=Object.getOwnPropertySymbols;return $n=function(t,e){var r,u=Object(i(e));if(t=Object(i(t)),h(u).forEach(function(c){try{s(t,c,o(e,c))}catch(d){r=d}}),typeof n=="function"&&n(u).forEach(function(c){try{s(t,c,o(e,c))}catch(d){r=d}}),r!==void 0)throw r;return t},$n}var Ka;function Nh(){if(Ka)return Et.exports;Ka=1;var i=He(),s=function(e,r){return r},o,h,n,t;try{Object.defineProperty(s,"length",{configurable:!0,writable:!1,enumerable:!1,value:1})}catch{}return s.length===1?(o={configurable:!0,writable:!1,enumerable:!1},h=Object.defineProperty,Et.exports=function(e,r){return r=i(r),e.length===r?e:(o.value=r,h(e,"length",o))}):(t=$h(),n=function(){var e=[];return function(r){var u,c=0;if(e[r])return e[r];for(u=[];r--;)u.push("a"+(++c).toString(36));return new Function("fn","return function ("+u.join(", ")+") { return fn.apply(this, arguments); };")}}(),Et.exports=function(e,r){var u;if(r=i(r),e.length===r)return e;u=n(r)(e);try{t(u,e)}catch{}return u}),Et.exports}var Nn={exports:{}},Dn,Xa;function Dh(){if(Xa)return Dn;Xa=1;var i=void 0;return Dn=function(s){return s!==i&&s!==null},Dn}var Ln,Za;function mm(){if(Za)return Ln;Za=1;var i=Dh(),s={object:!0,function:!0,undefined:!0};return Ln=function(o){return i(o)?hasOwnProperty.call(s,typeof o):!1},Ln}var Fn,Ja;function _m(){if(Ja)return Fn;Ja=1;var i=mm();return Fn=function(s){if(!i(s))return!1;try{return s.constructor?s.constructor.prototype===s:!1}catch{return!1}},Fn}var qn,Qa;function gm(){if(Qa)return qn;Qa=1;var i=_m();return qn=function(s){if(typeof s!="function"||!hasOwnProperty.call(s,"length"))return!1;try{if(typeof s.length!="number"||typeof s.call!="function"||typeof s.apply!="function")return!1}catch{return!1}return!i(s)},qn}var kn,eu;function ym(){if(eu)return kn;eu=1;var i=gm(),s=/^\s*class[\s{/}]/,o=Function.prototype.toString;return kn=function(h){return!(!i(h)||s.test(o.call(h)))},kn}var Mn,tu;function vm(){if(tu)return Mn;tu=1;var i="razdwatrzy";return Mn=function(){return typeof i.contains!="function"?!1:i.contains("dwa")===!0&&i.contains("foo")===!1},Mn}var Bn,ru;function Em(){if(ru)return Bn;ru=1;var i=String.prototype.indexOf;return Bn=function(s){return i.call(this,s,arguments[1])>-1},Bn}var Hn,nu;function Sm(){return nu||(nu=1,Hn=vm()()?String.prototype.contains:Em()),Hn}var iu;function Ue(){if(iu)return Nn.exports;iu=1;var i=Dh(),s=ym(),o=xh(),h=Ch(),n=Sm(),t=Nn.exports=function(e,r){var u,c,d,v,m;return arguments.length<2||typeof e!="string"?(v=r,r=e,e=null):v=arguments[2],i(e)?(u=n.call(e,"c"),c=n.call(e,"e"),d=n.call(e,"w")):(u=d=!0,c=!1),m={value:r,configurable:u,enumerable:c,writable:d},v?o(h(v),m):m};return t.gs=function(e,r,u){var c,d,v,m;return typeof e!="string"?(v=u,u=r,r=e,e=null):v=arguments[3],i(r)?s(r)?i(u)?s(u)||(v=u,u=void 0):u=void 0:(v=r,r=u=void 0):r=void 0,i(e)?(c=n.call(e,"c"),d=n.call(e,"e")):(c=!0,d=!1),m={get:r,set:u,configurable:c,enumerable:d},v?o(h(v),m):m},Nn.exports}var St={exports:{}},su;function Rm(){return su||(su=1,function(i,s){var o=Ue(),h=Ne(),n=Function.prototype.apply,t=Function.prototype.call,e=Object.create,r=Object.defineProperty,u=Object.defineProperties,c=Object.prototype.hasOwnProperty,d={configurable:!0,enumerable:!1,writable:!0},v,m,R,w,S,g,a;v=function(f,l){var _;return h(l),c.call(this,"__ee__")?_=this.__ee__:(_=d.value=e(null),r(this,"__ee__",d),d.value=null),_[f]?typeof _[f]=="object"?_[f].push(l):_[f]=[_[f],l]:_[f]=l,this},m=function(f,l){var _,p;return h(l),p=this,v.call(this,f,_=function(){R.call(p,f,_),n.call(l,this,arguments)}),_.__eeOnceListener__=l,this},R=function(f,l){var _,p,E,y;if(h(l),!c.call(this,"__ee__"))return this;if(_=this.__ee__,!_[f])return this;if(p=_[f],typeof p=="object")for(y=0;E=p[y];++y)(E===l||E.__eeOnceListener__===l)&&(p.length===2?_[f]=p[y?0:1]:p.splice(y,1));else(p===l||p.__eeOnceListener__===l)&&delete _[f];return this},w=function(f){var l,_,p,E,y;if(c.call(this,"__ee__")&&(E=this.__ee__[f],!!E))if(typeof E=="object"){for(_=arguments.length,y=new Array(_-1),l=1;l<_;++l)y[l-1]=arguments[l];for(E=E.slice(),l=0;p=E[l];++l)n.call(p,this,y)}else switch(arguments.length){case 1:t.call(E,this);break;case 2:t.call(E,this,arguments[1]);break;case 3:t.call(E,this,arguments[1],arguments[2]);break;default:for(_=arguments.length,y=new Array(_-1),l=1;l<_;++l)y[l-1]=arguments[l];n.call(E,this,y)}},S={on:v,once:m,off:R,emit:w},g={on:o(v),once:o(m),off:o(R),emit:o(w)},a=u({},g),i.exports=s=function(f){return f==null?e(a):u(Object(f),g)},s.methods=S}(St,St.exports)),St.exports}var jn,ou;function wm(){return ou||(ou=1,jn=function(){var i=Array.from,s,o;return typeof i!="function"?!1:(s=["raz","dwa"],o=i(s),!!(o&&o!==s&&o[1]==="dwa"))}),jn}var Un,au;function Om(){return au||(au=1,Un=function(){return typeof globalThis!="object"||!globalThis?!1:globalThis.Array===Array}),Un}var Vn,uu;function bm(){if(uu)return Vn;uu=1;var i=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};return Vn=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return i()}try{return __global__||i()}finally{delete Object.prototype.__global__}}(),Vn}var Gn,cu;function nr(){return cu||(cu=1,Gn=Om()()?globalThis:bm()),Gn}var Wn,lu;function Am(){if(lu)return Wn;lu=1;var i=nr(),s={object:!0,symbol:!0};return Wn=function(){var o=i.Symbol,h;if(typeof o!="function")return!1;h=o("test symbol");try{String(h)}catch{return!1}return!(!s[typeof o.iterator]||!s[typeof o.toPrimitive]||!s[typeof o.toStringTag])},Wn}var zn,hu;function Tm(){return hu||(hu=1,zn=function(i){return i?typeof i=="symbol"?!0:!i.constructor||i.constructor.name!=="Symbol"?!1:i[i.constructor.toStringTag]==="Symbol":!1}),zn}var Yn,fu;function Lh(){if(fu)return Yn;fu=1;var i=Tm();return Yn=function(s){if(!i(s))throw new TypeError(s+" is not a symbol");return s},Yn}var Kn,du;function Pm(){if(du)return Kn;du=1;var i=Ue(),s=Object.create,o=Object.defineProperty,h=Object.prototype,n=s(null);return Kn=function(t){for(var e=0,r,u;n[t+(e||"")];)++e;return t+=e||"",n[t]=!0,r="@@"+t,o(h,r,i.gs(null,function(c){u||(u=!0,o(this,r,i(c)),u=!1)})),r},Kn}var Xn,pu;function Cm(){if(pu)return Xn;pu=1;var i=Ue(),s=nr().Symbol;return Xn=function(o){return Object.defineProperties(o,{hasInstance:i("",s&&s.hasInstance||o("hasInstance")),isConcatSpreadable:i("",s&&s.isConcatSpreadable||o("isConcatSpreadable")),iterator:i("",s&&s.iterator||o("iterator")),match:i("",s&&s.match||o("match")),replace:i("",s&&s.replace||o("replace")),search:i("",s&&s.search||o("search")),species:i("",s&&s.species||o("species")),split:i("",s&&s.split||o("split")),toPrimitive:i("",s&&s.toPrimitive||o("toPrimitive")),toStringTag:i("",s&&s.toStringTag||o("toStringTag")),unscopables:i("",s&&s.unscopables||o("unscopables"))})},Xn}var Zn,mu;function Im(){if(mu)return Zn;mu=1;var i=Ue(),s=Lh(),o=Object.create(null);return Zn=function(h){return Object.defineProperties(h,{for:i(function(n){return o[n]?o[n]:o[n]=h(String(n))}),keyFor:i(function(n){var t;s(n);for(t in o)if(o[t]===n)return t})})},Zn}var Jn,_u;function xm(){if(_u)return Jn;_u=1;var i=Ue(),s=Lh(),o=nr().Symbol,h=Pm(),n=Cm(),t=Im(),e=Object.create,r=Object.defineProperties,u=Object.defineProperty,c,d,v;if(typeof o=="function")try{String(o()),v=!0}catch{}else o=null;return d=function(R){if(this instanceof d)throw new TypeError("Symbol is not a constructor");return c(R)},Jn=c=function m(R){var w;if(this instanceof m)throw new TypeError("Symbol is not a constructor");return v?o(R):(w=e(d.prototype),R=R===void 0?"":String(R),r(w,{__description__:i("",R),__name__:i("",h(R))}))},n(c),t(c),r(d.prototype,{constructor:i(c),toString:i("",function(){return this.__name__})}),r(c.prototype,{toString:i(function(){return"Symbol ("+s(this).__description__+")"}),valueOf:i(function(){return s(this)})}),u(c.prototype,c.toPrimitive,i("",function(){var m=s(this);return typeof m=="symbol"?m:m.toString()})),u(c.prototype,c.toStringTag,i("c","Symbol")),u(d.prototype,c.toStringTag,i("c",c.prototype[c.toStringTag])),u(d.prototype,c.toPrimitive,i("c",c.prototype[c.toPrimitive])),Jn}var Qn,gu;function $m(){return gu||(gu=1,Qn=Am()()?nr().Symbol:xm()),Qn}var ei,yu;function Nm(){if(yu)return ei;yu=1;var i=Object.prototype.toString,s=i.call(function(){return arguments}());return ei=function(o){return i.call(o)===s},ei}var ti,vu;function Dm(){if(vu)return ti;vu=1;var i=Object.prototype.toString,s=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);return ti=function(o){return typeof o=="function"&&s(i.call(o))},ti}var ri,Eu;function Lm(){if(Eu)return ri;Eu=1;var i=Object.prototype.toString,s=i.call("");return ri=function(o){return typeof o=="string"||o&&typeof o=="object"&&(o instanceof String||i.call(o)===s)||!1},ri}var ni,Su;function Fm(){if(Su)return ni;Su=1;var i=$m().iterator,s=Nm(),o=Dm(),h=He(),n=Ne(),t=Ze(),e=Be(),r=Lm(),u=Array.isArray,c=Function.prototype.call,d={configurable:!0,enumerable:!0,writable:!0,value:null},v=Object.defineProperty;return ni=function(m){var R=arguments[1],w=arguments[2],S,g,a,f,l,_,p,E,y,b;if(m=Object(t(m)),e(R)&&n(R),!this||this===Array||!o(this)){if(!R){if(s(m))return l=m.length,l!==1?Array.apply(null,m):(f=new Array(1),f[0]=m[0],f);if(u(m)){for(f=new Array(l=m.length),g=0;g<l;++g)f[g]=m[g];return f}}f=[]}else S=this;if(!u(m)){if((y=m[i])!==void 0){for(p=n(y).call(m),S&&(f=new S),E=p.next(),g=0;!E.done;)b=R?c.call(R,w,E.value,g):E.value,S?(d.value=b,v(f,g,d)):f[g]=b,E=p.next(),++g;l=g}else if(r(m)){for(l=m.length,S&&(f=new S),g=0,a=0;g<l;++g)b=m[g],g+1<l&&(_=b.charCodeAt(0),_>=55296&&_<=56319&&(b+=m[++g])),b=R?c.call(R,w,b,a):b,S?(d.value=b,v(f,a,d)):f[a]=b,++a;l=a}}if(l===void 0)for(l=h(m.length),S&&(f=new S(l)),g=0;g<l;++g)b=R?c.call(R,w,m[g],g):m[g],S?(d.value=b,v(f,g,d)):f[g]=b;return S&&(d.value=null,f.length=l),f},ni}var ii,Ru;function Xs(){return Ru||(Ru=1,ii=wm()()?Array.from:Fm()),ii}var si,wu;function qm(){if(wu)return si;wu=1;var i=Xs(),s=Array.isArray;return si=function(o){return s(o)?o:i(o)},si}var oi,Ou;function km(){if(Ou)return oi;Ou=1;var i=qm(),s=Be(),o=Ne(),h=Array.prototype.slice,n;return n=function(t){return this.map(function(e,r){return e?e(t[r]):t[r]}).concat(h.call(t,this.length))},oi=function(t){return t=i(t),t.forEach(function(e){s(e)&&o(e)}),n.bind(t)},oi}var ai,bu;function Mm(){if(bu)return ai;bu=1;var i=Ne();return ai=function(s){var o;return typeof s=="function"?{set:s,get:s}:(o={get:i(s.get)},s.set!==void 0?(o.set=i(s.set),s.delete&&(o.delete=i(s.delete)),s.clear&&(o.clear=i(s.clear)),o):(o.set=o.get,o))},ai}var ui,Au;function Bm(){if(Au)return ui;Au=1;var i=pm(),s=Nh(),o=Ue(),h=Rm().methods,n=km(),t=Mm(),e=Function.prototype.apply,r=Function.prototype.call,u=Object.create,c=Object.defineProperties,d=h.on,v=h.emit;return ui=function(m,R,w){var S=u(null),g,a,f,l,_,p,E,y,b,A,P,D,q,$,L;return R!==!1?a=R:isNaN(m.length)?a=1:a=m.length,w.normalizer&&(A=t(w.normalizer),f=A.get,l=A.set,_=A.delete,p=A.clear),w.resolvers!=null&&(L=n(w.resolvers)),f?$=s(function(C){var I,M,U=arguments;if(L&&(U=L(U)),I=f(U),I!==null&&hasOwnProperty.call(S,I))return P&&g.emit("get",I,U,this),S[I];if(U.length===1?M=r.call(m,this,U[0]):M=e.call(m,this,U),I===null){if(I=f(U),I!==null)throw i("Circular invocation","CIRCULAR_INVOCATION");I=l(U)}else if(hasOwnProperty.call(S,I))throw i("Circular invocation","CIRCULAR_INVOCATION");return S[I]=M,D&&g.emit("set",I,null,M),M},a):R===0?$=function(){var C;if(hasOwnProperty.call(S,"data"))return P&&g.emit("get","data",arguments,this),S.data;if(arguments.length?C=e.call(m,this,arguments):C=r.call(m,this),hasOwnProperty.call(S,"data"))throw i("Circular invocation","CIRCULAR_INVOCATION");return S.data=C,D&&g.emit("set","data",null,C),C}:$=function(C){var I,M=arguments,U;if(L&&(M=L(arguments)),U=String(M[0]),hasOwnProperty.call(S,U))return P&&g.emit("get",U,M,this),S[U];if(M.length===1?I=r.call(m,this,M[0]):I=e.call(m,this,M),hasOwnProperty.call(S,U))throw i("Circular invocation","CIRCULAR_INVOCATION");return S[U]=I,D&&g.emit("set",U,null,I),I},g={original:m,memoized:$,profileName:w.profileName,get:function(C){return L&&(C=L(C)),f?f(C):String(C[0])},has:function(C){return hasOwnProperty.call(S,C)},delete:function(C){var I;hasOwnProperty.call(S,C)&&(_&&_(C),I=S[C],delete S[C],q&&g.emit("delete",C,I))},clear:function(){var C=S;p&&p(),S=u(null),g.emit("clear",C)},on:function(C,I){return C==="get"?P=!0:C==="set"?D=!0:C==="delete"&&(q=!0),d.call(this,C,I)},emit:v,updateEnv:function(){m=g.original}},f?E=s(function(C){var I,M=arguments;L&&(M=L(M)),I=f(M),I!==null&&g.delete(I)},a):R===0?E=function(){return g.delete("data")}:E=function(C){return L&&(C=L(arguments)[0]),g.delete(C)},y=s(function(){var C,I=arguments;return R===0?S.data:(L&&(I=L(I)),f?C=f(I):C=String(I[0]),S[C])}),b=s(function(){var C,I=arguments;return R===0?g.has("data"):(L&&(I=L(I)),f?C=f(I):C=String(I[0]),C===null?!1:g.has(C))}),c($,{__memoized__:o(!0),delete:o(E),clear:o(g.clear),_get:o(y),_has:o(b)}),g},ui}var ci,Tu;function Hm(){if(Tu)return ci;Tu=1;var i=Ne(),s=rr(),o=je(),h=Bm(),n=Ih();return ci=function t(e){var r,u,c;if(i(e),r=Object(arguments[1]),r.async&&r.promise)throw new Error("Options 'async' and 'promise' cannot be used together");return hasOwnProperty.call(e,"__memoized__")&&!r.force?e:(u=n(r.length,e.length,r.async&&o.async),c=h(e,u,r),s(o,function(d,v){r[v]&&d(r[v],c,r)}),t.__profiler__&&t.__profiler__(c),c.updateEnv(),c.memoized)},ci}var li,Pu;function jm(){return Pu||(Pu=1,li=function(i){var s,o,h=i.length;if(!h)return"";for(s=String(i[o=0]);--h;)s+=""+i[++o];return s}),li}var hi,Cu;function Um(){return Cu||(Cu=1,hi=function(i){return i?function(s){for(var o=String(s[0]),h=0,n=i;--n;)o+=""+s[++h];return o}:function(){return""}}),hi}var fi,Iu;function Vm(){return Iu||(Iu=1,fi=function(){var i=Number.isNaN;return typeof i!="function"?!1:!i({})&&i(NaN)&&!i(34)}),fi}var di,xu;function Gm(){return xu||(xu=1,di=function(i){return i!==i}),di}var pi,$u;function Wm(){return $u||($u=1,pi=Vm()()?Number.isNaN:Gm()),pi}var mi,Nu;function Zs(){if(Nu)return mi;Nu=1;var i=Wm(),s=He(),o=Ze(),h=Array.prototype.indexOf,n=Object.prototype.hasOwnProperty,t=Math.abs,e=Math.floor;return mi=function(r){var u,c,d,v;if(!i(r))return h.apply(this,arguments);for(c=s(o(this).length),d=arguments[1],isNaN(d)?d=0:d>=0?d=e(d):d=s(this.length)-e(t(d)),u=d;u<c;++u)if(n.call(this,u)&&(v=this[u],i(v)))return u;return-1},mi}var _i,Du;function zm(){if(Du)return _i;Du=1;var i=Zs(),s=Object.create;return _i=function(){var o=0,h=[],n=s(null);return{get:function(t){var e=0,r=h,u,c=t.length;if(c===0)return r[c]||null;if(r=r[c]){for(;e<c-1;){if(u=i.call(r[0],t[e]),u===-1)return null;r=r[1][u],++e}return u=i.call(r[0],t[e]),u===-1?null:r[1][u]||null}return null},set:function(t){var e=0,r=h,u,c=t.length;if(c===0)r[c]=++o;else{for(r[c]||(r[c]=[[],[]]),r=r[c];e<c-1;)u=i.call(r[0],t[e]),u===-1&&(u=r[0].push(t[e])-1,r[1].push([[],[]])),r=r[1][u],++e;u=i.call(r[0],t[e]),u===-1&&(u=r[0].push(t[e])-1),r[1][u]=++o}return n[o]=t,o},delete:function(t){var e=0,r=h,u,c=n[t],d=c.length,v=[];if(d===0)delete r[d];else if(r=r[d]){for(;e<d-1;){if(u=i.call(r[0],c[e]),u===-1)return;v.push(r,u),r=r[1][u],++e}if(u=i.call(r[0],c[e]),u===-1)return;for(t=r[1][u],r[0].splice(u,1),r[1].splice(u,1);!r[0].length&&v.length;)u=v.pop(),r=v.pop(),r[0].splice(u,1),r[1].splice(u,1)}delete n[t]},clear:function(){h=[],n=s(null)}}},_i}var gi,Lu;function Ym(){if(Lu)return gi;Lu=1;var i=Zs();return gi=function(){var s=0,o=[],h=[];return{get:function(n){var t=i.call(o,n[0]);return t===-1?null:h[t]},set:function(n){return o.push(n[0]),h.push(++s),s},delete:function(n){var t=i.call(h,n);t!==-1&&(o.splice(t,1),h.splice(t,1))},clear:function(){o=[],h=[]}}},gi}var yi,Fu;function Km(){if(Fu)return yi;Fu=1;var i=Zs(),s=Object.create;return yi=function(o){var h=0,n=[[],[]],t=s(null);return{get:function(e){for(var r=0,u=n,c;r<o-1;){if(c=i.call(u[0],e[r]),c===-1)return null;u=u[1][c],++r}return c=i.call(u[0],e[r]),c===-1?null:u[1][c]||null},set:function(e){for(var r=0,u=n,c;r<o-1;)c=i.call(u[0],e[r]),c===-1&&(c=u[0].push(e[r])-1,u[1].push([[],[]])),u=u[1][c],++r;return c=i.call(u[0],e[r]),c===-1&&(c=u[0].push(e[r])-1),u[1][c]=++h,t[h]=e,h},delete:function(e){for(var r=0,u=n,c,d=[],v=t[e];r<o-1;){if(c=i.call(u[0],v[r]),c===-1)return;d.push(u,c),u=u[1][c],++r}if(c=i.call(u[0],v[r]),c!==-1){for(e=u[1][c],u[0].splice(c,1),u[1].splice(c,1);!u[0].length&&d.length;)c=d.pop(),u=d.pop(),u[0].splice(c,1),u[1].splice(c,1);delete t[e]}},clear:function(){n=[[],[]],t=s(null)}}},yi}var qu={},vi,ku;function Fh(){if(ku)return vi;ku=1;var i=Ne(),s=rr(),o=Function.prototype.call;return vi=function(h,n){var t={},e=arguments[2];return i(n),s(h,function(r,u,c,d){t[u]=o.call(n,e,r,u,c,d)}),t},vi}var Ei,Mu;function Js(){if(Mu)return Ei;Mu=1;var i=function(o){if(typeof o!="function")throw new TypeError(o+" is not a function");return o},s=function(o){var h=document.createTextNode(""),n,t,e=0;return new o(function(){var r;if(n)t&&(n=t.concat(n));else{if(!t)return;n=t}if(t=n,n=null,typeof t=="function"){r=t,t=null,r();return}for(h.data=e=++e%2;t;)r=t.shift(),t.length||(t=null),r()}).observe(h,{characterData:!0}),function(r){if(i(r),n){typeof n=="function"?n=[n,r]:n.push(r);return}n=r,h.data=e=++e%2}};return Ei=function(){if(typeof process=="object"&&process&&typeof process.nextTick=="function")return process.nextTick;if(typeof queueMicrotask=="function")return function(o){queueMicrotask(i(o))};if(typeof document=="object"&&document){if(typeof MutationObserver=="function")return s(MutationObserver);if(typeof WebKitMutationObserver=="function")return s(WebKitMutationObserver)}return typeof setImmediate=="function"?function(o){setImmediate(i(o))}:typeof setTimeout=="function"||typeof setTimeout=="object"?function(o){setTimeout(i(o),0)}:null}(),Ei}var Bu;function Xm(){if(Bu)return qu;Bu=1;var i=Xs(),s=Fh(),o=$h(),h=Nh(),n=Js(),t=Array.prototype.slice,e=Function.prototype.apply,r=Object.create;return je().async=function(u,c){var d=r(null),v=r(null),m=c.memoized,R=c.original,w,S,g;c.memoized=h(function(a){var f=arguments,l=f[f.length-1];return typeof l=="function"&&(w=l,f=t.call(f,0,-1)),m.apply(S=this,g=f)},m);try{o(c.memoized,m)}catch{}c.on("get",function(a){var f,l,_;if(w){if(d[a]){typeof d[a]=="function"?d[a]=[d[a],w]:d[a].push(w),w=null;return}f=w,l=S,_=g,w=S=g=null,n(function(){var p;hasOwnProperty.call(v,a)?(p=v[a],c.emit("getasync",a,_,l),e.call(f,p.context,p.args)):(w=f,S=l,g=_,m.apply(l,_))})}}),c.original=function(){var a,f,l,_;return w?(a=i(arguments),f=function p(E){var y,b,A=p.id;if(A==null){n(e.bind(p,this,arguments));return}if(delete p.id,y=d[A],delete d[A],!!y)return b=i(arguments),c.has(A)&&(E?c.delete(A):(v[A]={context:this,args:b},c.emit("setasync",A,typeof y=="function"?1:y.length))),typeof y=="function"?_=e.call(y,this,b):y.forEach(function(P){_=e.call(P,this,b)},this),_},l=w,w=S=g=null,a.push(f),_=e.call(R,this,a),f.cb=l,w=f,_):e.call(R,this,arguments)},c.on("set",function(a){if(!w){c.delete(a);return}d[a]?typeof d[a]=="function"?d[a]=[d[a],w.cb]:d[a].push(w.cb):d[a]=w.cb,delete w.cb,w.id=a,w=null}),c.on("delete",function(a){var f;hasOwnProperty.call(d,a)||v[a]&&(f=v[a],delete v[a],c.emit("deleteasync",a,t.call(f.args,1)))}),c.on("clear",function(){var a=v;v=r(null),c.emit("clearasync",s(a,function(f){return t.call(f.args,1)}))})},qu}var Hu={},Si,ju;function Zm(){if(ju)return Si;ju=1;var i=Array.prototype.forEach,s=Object.create;return Si=function(o){var h=s(null);return i.call(arguments,function(n){h[n]=!0}),h},Si}var Ri,Uu;function qh(){return Uu||(Uu=1,Ri=function(i){return typeof i=="function"}),Ri}var wi,Vu;function Jm(){if(Vu)return wi;Vu=1;var i=qh();return wi=function(s){try{return s&&i(s.toString)?s.toString():String(s)}catch{throw new TypeError("Passed argument cannot be stringifed")}},wi}var Oi,Gu;function Qm(){if(Gu)return Oi;Gu=1;var i=Ze(),s=Jm();return Oi=function(o){return s(i(o))},Oi}var bi,Wu;function e_(){if(Wu)return bi;Wu=1;var i=qh();return bi=function(s){try{return s&&i(s.toString)?s.toString():String(s)}catch{return"<Non-coercible to string value>"}},bi}var Ai,zu;function t_(){if(zu)return Ai;zu=1;var i=e_(),s=/[\n\r\u2028\u2029]/g;return Ai=function(o){var h=i(o);return h.length>100&&(h=h.slice(0,99)+"…"),h=h.replace(s,function(n){return JSON.stringify(n).slice(1,-1)}),h},Ai}var Rt={exports:{}},Yu;function kh(){if(Yu)return Rt.exports;Yu=1,Rt.exports=i,Rt.exports.default=i;function i(s){return!!s&&(typeof s=="object"||typeof s=="function")&&typeof s.then=="function"}return Rt.exports}var Ku;function r_(){if(Ku)return Hu;Ku=1;var i=Fh(),s=Zm(),o=Qm(),h=t_(),n=kh(),t=Js(),e=Object.create,r=s("then","then:finally","done","done:finally");return je().promise=function(u,c){var d=e(null),v=e(null),m=e(null);if(u===!0)u=null;else if(u=o(u),!r[u])throw new TypeError("'"+h(u)+"' is not valid promise mode");c.on("set",function(R,w,S){var g=!1;if(!n(S)){v[R]=S,c.emit("setasync",R,1);return}d[R]=1,m[R]=S;var a=function(p){var E=d[R];if(g)throw new Error(`Memoizee error: Detected unordered then|done & finally resolution, which in turn makes proper detection of success/failure impossible (when in 'done:finally' mode)
Consider to rely on 'then' or 'done' mode instead.`);E&&(delete d[R],v[R]=p,c.emit("setasync",R,E))},f=function(){g=!0,d[R]&&(delete d[R],delete m[R],c.delete(R))},l=u;if(l||(l="then"),l==="then"){var _=function(){t(f)};S=S.then(function(p){t(a.bind(this,p))},_),typeof S.finally=="function"&&S.finally(_)}else if(l==="done"){if(typeof S.done!="function")throw new Error("Memoizee error: Retrieved promise does not implement 'done' in 'done' mode");S.done(a,f)}else if(l==="done:finally"){if(typeof S.done!="function")throw new Error("Memoizee error: Retrieved promise does not implement 'done' in 'done:finally' mode");if(typeof S.finally!="function")throw new Error("Memoizee error: Retrieved promise does not implement 'finally' in 'done:finally' mode");S.done(a),S.finally(f)}}),c.on("get",function(R,w,S){var g;if(d[R]){++d[R];return}g=m[R];var a=function(){c.emit("getasync",R,w,S)};n(g)?typeof g.done=="function"?g.done(a):g.then(function(){t(a)}):a()}),c.on("delete",function(R){if(delete m[R],d[R]){delete d[R];return}if(hasOwnProperty.call(v,R)){var w=v[R];delete v[R],c.emit("deleteasync",R,[w])}}),c.on("clear",function(){var R=v;v=e(null),d=e(null),m=e(null),c.emit("clearasync",i(R,function(w){return[w]}))})},Hu}var Xu={},Zu;function n_(){if(Zu)return Xu;Zu=1;var i=Ne(),s=rr(),o=je(),h=Function.prototype.apply;return o.dispose=function(n,t,e){var r;if(i(n),e.async&&o.async||e.promise&&o.promise){t.on("deleteasync",r=function(u,c){h.call(n,null,c)}),t.on("clearasync",function(u){s(u,function(c,d){r(d,c)})});return}t.on("delete",r=function(u,c){n(c)}),t.on("clear",function(u){s(u,function(c,d){r(d,c)})})},Xu}var Ju={},Ti,Qu;function i_(){return Qu||(Qu=1,Ti=2147483647),Ti}var Pi,ec;function s_(){if(ec)return Pi;ec=1;var i=He(),s=i_();return Pi=function(o){if(o=i(o),o>s)throw new TypeError(o+" exceeds maximum possible timeout");return o},Pi}var tc;function o_(){if(tc)return Ju;tc=1;var i=Xs(),s=rr(),o=Js(),h=kh(),n=s_(),t=je(),e=Function.prototype,r=Math.max,u=Math.min,c=Object.create;return t.maxAge=function(d,v,m){var R,w,S,g;d=n(d),d&&(R=c(null),w=m.async&&t.async||m.promise&&t.promise?"async":"",v.on("set"+w,function(a){R[a]=setTimeout(function(){v.delete(a)},d),typeof R[a].unref=="function"&&R[a].unref(),g&&(g[a]&&g[a]!=="nextTick"&&clearTimeout(g[a]),g[a]=setTimeout(function(){delete g[a]},S),typeof g[a].unref=="function"&&g[a].unref())}),v.on("delete"+w,function(a){clearTimeout(R[a]),delete R[a],g&&(g[a]!=="nextTick"&&clearTimeout(g[a]),delete g[a])}),m.preFetch&&(m.preFetch===!0||isNaN(m.preFetch)?S=.333:S=r(u(Number(m.preFetch),1),0),S&&(g={},S=(1-S)*d,v.on("get"+w,function(a,f,l){g[a]||(g[a]="nextTick",o(function(){var _;g[a]==="nextTick"&&(delete g[a],v.delete(a),m.async&&(f=i(f),f.push(e)),_=v.memoized.apply(l,f),m.promise&&h(_)&&(typeof _.done=="function"?_.done(e,e):_.then(e,e)))}))}))),v.on("clear"+w,function(){s(R,function(a){clearTimeout(a)}),R={},g&&(s(g,function(a){a!=="nextTick"&&clearTimeout(a)}),g={})}))},Ju}var rc={},Ci,nc;function a_(){if(nc)return Ci;nc=1;var i=He(),s=Object.create,o=Object.prototype.hasOwnProperty;return Ci=function(h){var n=0,t=1,e=s(null),r=s(null),u=0,c;return h=i(h),{hit:function(d){var v=r[d],m=++u;if(e[m]=d,r[d]=m,!v)return++n,n<=h?void 0:(d=e[t],c(d),d);if(delete e[v],t===v)for(;!o.call(e,++t););},delete:c=function(d){var v=r[d];if(v&&(delete e[v],delete r[d],--n,t===v)){if(!n){u=0,t=1;return}for(;!o.call(e,++t););}},clear:function(){n=0,t=1,e=s(null),r=s(null),u=0}}},Ci}var ic;function u_(){if(ic)return rc;ic=1;var i=He(),s=a_(),o=je();return o.max=function(h,n,t){var e,r,u;h=i(h),h&&(r=s(h),e=t.async&&o.async||t.promise&&o.promise?"async":"",n.on("set"+e,u=function(c){c=r.hit(c),c!==void 0&&n.delete(c)}),n.on("get"+e,u),n.on("delete"+e,r.delete),n.on("clear"+e,r.clear))},rc}var sc={},oc;function c_(){if(oc)return sc;oc=1;var i=Ue(),s=je(),o=Object.create,h=Object.defineProperties;return s.refCounter=function(n,t,e){var r,u;r=o(null),u=e.async&&s.async||e.promise&&s.promise?"async":"",t.on("set"+u,function(c,d){r[c]=d||1}),t.on("get"+u,function(c){++r[c]}),t.on("delete"+u,function(c){delete r[c]}),t.on("clear"+u,function(){r={}}),h(t.memoized,{deleteRef:i(function(){var c=t.get(arguments);return c===null||!r[c]?null:--r[c]?!1:(t.delete(c),!0)}),getRefCount:i(function(){var c=t.get(arguments);return c===null||!r[c]?0:r[c]})})},sc}var Ii,ac;function l_(){if(ac)return Ii;ac=1;var i=Ch(),s=Ih(),o=Hm();return Ii=function(h){var n=i(arguments[1]),t;return n.normalizer||(t=n.length=s(n.length,h.length,n.async),t!==0&&(n.primitive?t===!1?n.normalizer=jm():t>1&&(n.normalizer=Um()(t)):t===!1?n.normalizer=zm()():t===1?n.normalizer=Ym()():n.normalizer=Km()(t))),n.async&&Xm(),n.promise&&r_(),n.dispose&&n_(),n.maxAge&&o_(),n.max&&u_(),n.refCounter&&c_(),o(h,n)},Ii}var h_=l_();const f_=Ae(h_);function d_(i){return new Promise(s=>{ph.exec(i,(o,h,n)=>{s(h||n)})})}function uc(i,s,o=process.cwd(),h=!1){return new Promise((n,t)=>{const e=ph.spawn(i,s,{stdio:h?"ignore":"inherit",cwd:o,env:process.env});let r=!1;e.on("error",u=>{r||(t(u),r=!0)}),e.on("exit",(u,c)=>{r||(u===0?n():t(new Error(`Process terminated: ${u??c}`)),r=!0)})})}const p_=f_(async(i,s,o)=>{const h=await Ph("ninja",{nothrow:!0});if(h!==null)return se.debug(`Using generator: Ninja for ${s} ${o}`),{generator:"Ninja",binary:h};if(s==="win32")try{const n=await d_(`"${i}" -G`),e=n.includes(`\r
`)?n.split(`\r
`):n.split(`
`);let r;for(const u of e){const c=u.match(/^\s*(?:\* )?(Visual\s+Studio\s+\d+\s+\d+)(\s+\[arch])?\s*=.*$/);if(c!==null){r=c;break}}if(r!==void 0){const[u,c,d]=r,v=d===void 0,m=o==="x64"?" Win64":o==="ia32"?" Win32":"";m===""&&se.warn(`Unsupported architecture: ${o} for generator ${c}. Using without arch specification.`);const R=v?c:`${c}${m}`,w=v?["-A",Th(o,s)]:void 0;return se.debug(`Using generator: ${R} ${w} for ${s} ${o}`),{generator:R,generatorFlags:w,binary:void 0}}}catch{se.warn("Failed to find valid VS gen, using native.")}return se.debug(`Using generator: native for ${s} ${o}`),{generator:"native",binary:void 0}},{promise:!0});async function m_(i,s){if(i.command.type!=="build")return null;const o=i.command.options,h=new Set(o.configs),n=[];if(h.size===0)return n.push(await xi(o,{},s)),n;for(const t of s.configurations??[]){const e=await xi(o,t,s);(h.has(e.name)||h.has("named-all")||h.has("named-os")&&e.os===process.platform||h.has("named-os-dev")&&e.os===process.platform&&e.dev)&&(n.push(e),h.delete(e.name))}for(const t of h){const e=g_(t);n.push(await xi(o,e,s))}return n}async function xi(i,s,o){s.name??=o.name??"",s.cross=__(o,s),s.os??=o.os??process.platform,s.arch??=o.arch??process.arch,s.runtime??=o.runtime??"node",s.nodeAPI??=o.nodeAPI??"node-addon-api",s.runtimeVersion??=o.runtimeVersion??(s.runtime==="node"?process.versions.node:void 0),s.buildType??=o.buildType??"Release",s.dev??=o.dev??!1,s.addonSubdirectory??=i.addonSubdirectory??o.addonSubdirectory??"",s.packageDirectory??=i.packageDirectory??o.packageDirectory??process.cwd(),s.projectName??=i.projectName??o.projectName??"addon",s.targetDirectory??=i.targetDirectory??o.targetDirectory??"build",s.stagingDirectory??=i.stagingDirectory??o.stagingDirectory??"staging",s.CMakeOptions=[...s.CMakeOptions??[],...o.CMakeOptions??[],...s.cmakeOptions??[],...o.cmakeOptions??[]],s.additionalDefines??=o.additionalDefines??[],s.cmakeToUse??=o.cmakeToUse??await Ph("cmake",{nothrow:!0})??"cmake";const{generator:h,generatorFlags:n,binary:t}=await p_(s.cmakeToUse,s.os,s.arch);return s.generatorToUse??=o.generatorToUse??h,s.generatorFlags??=o.generatorFlags??n,s.generatorBinary??=o.generatorBinary??t,s}function __(i,s){return i.cross===!0?(se.debug("Cross compilation detected: globalConfig.cross is true"),!0):s.os!==void 0&&Bs.has(s.os)&&s.os!==process.platform?(se.debug(`Cross compilation detected: config.os (${s.os}) differs from process.platform (${process.platform})`),!0):s.arch!==void 0&&Hs.has(s.arch)&&s.arch!==process.arch?(se.debug(`Cross compilation detected: config.arch (${s.arch}) differs from process.arch (${process.arch})`),!0):s.os===void 0&&process.env.npm_config_target_os!==void 0&&Bs.has(process.env.npm_config_target_os)&&process.env.npm_config_target_os!==process.platform?(se.debug(`Cross compilation detected: npm_config_target_os (${process.env.npm_config_target_os}) differs from process.platform (${process.platform})`),s.os=process.env.npm_config_target_os,!0):s.arch===void 0&&process.env.npm_config_target_arch!==void 0&&Hs.has(process.env.npm_config_target_arch)&&process.env.npm_config_target_arch!==process.arch?(se.debug(`Cross compilation detected: npm_config_target_arch (${process.env.npm_config_target_arch}) differs from process.arch (${process.arch})`),s.arch=process.env.npm_config_target_arch,!0):!1}function g_(i){const s=i.split("-");let o=!1,h,n,t,e;for(const r of s)if(Bs.has(r))h=r;else if(Hs.has(r))n=r;else if(y_.has(r))t=r;else if(cc.has(r))e=cc.get(r);else if(r==="cross")o=!0;else throw new Error(`Invalid config part in ${i}: ${r}`);return{os:h,arch:n,runtime:t,buildType:e,cross:o}}const Bs=new Set(["aix","android","darwin","freebsd","haiku","linux","openbsd","sunos","win32","cygwin","netbsd"]),Hs=new Set(["arm","arm64","ia32","loong64","mips","mipsel","ppc","ppc64","riscv64","s390","s390x","x64"]),cc=new Map([["release","Release"],["Release","Release"],["debug","Debug"],["Debug","Debug"],["relwithdebinfo","RelWithDebInfo"],["RelWithDebInfo","RelWithDebInfo"],["minsizerel","MinSizeRel"],["MinSizeRel","MinSizeRel"]]),y_=new Set(["node","electron","iojs"]);async function v_(i){let s;try{s=await pe.readJson(i)}catch(h){return se.warn(`Failed to load package.json at ${i}: ${h}. Using defaults.`),{}}const o=s["cmake-ts"];return o===void 0?(se.debug("Package.json does not have cmake-ts key defined. Using defaults."),{}):o}var $i,lc;function E_(){if(lc)return $i;lc=1;class i{constructor(){this.max=1e3,this.map=new Map}get(o){const h=this.map.get(o);if(h!==void 0)return this.map.delete(o),this.map.set(o,h),h}delete(o){return this.map.delete(o)}set(o,h){if(!this.delete(o)&&h!==void 0){if(this.map.size>=this.max){const t=this.map.keys().next().value;this.delete(t)}this.map.set(o,h)}return this}}return $i=i,$i}var Ni,hc;function S_(){if(hc)return Ni;hc=1;const i=Xe();return Ni=(o,h,n)=>i(o,h,n)===0,Ni}var Di,fc;function R_(){if(fc)return Di;fc=1;const i=Xe();return Di=(o,h,n)=>i(o,h,n)!==0,Di}var Li,dc;function w_(){if(dc)return Li;dc=1;const i=Xe();return Li=(o,h,n)=>i(o,h,n)>0,Li}var Fi,pc;function O_(){if(pc)return Fi;pc=1;const i=Xe();return Fi=(o,h,n)=>i(o,h,n)<=0,Fi}var qi,mc;function b_(){if(mc)return qi;mc=1;const i=S_(),s=R_(),o=w_(),h=wh(),n=Oh(),t=O_();return qi=(r,u,c,d)=>{switch(u){case"===":return typeof r=="object"&&(r=r.version),typeof c=="object"&&(c=c.version),r===c;case"!==":return typeof r=="object"&&(r=r.version),typeof c=="object"&&(c=c.version),r!==c;case"":case"=":case"==":return i(r,c,d);case"!=":return s(r,c,d);case">":return o(r,c,d);case">=":return h(r,c,d);case"<":return n(r,c,d);case"<=":return t(r,c,d);default:throw new TypeError(`Invalid operator: ${u}`)}},qi}var ki,_c;function A_(){if(_c)return ki;_c=1;const i=Symbol("SemVer ANY");class s{static get ANY(){return i}constructor(d,v){if(v=o(v),d instanceof s){if(d.loose===!!v.loose)return d;d=d.value}d=d.trim().split(/\s+/).join(" "),e("comparator",d,v),this.options=v,this.loose=!!v.loose,this.parse(d),this.semver===i?this.value="":this.value=this.operator+this.semver.version,e("comp",this)}parse(d){const v=this.options.loose?h[n.COMPARATORLOOSE]:h[n.COMPARATOR],m=d.match(v);if(!m)throw new TypeError(`Invalid comparator: ${d}`);this.operator=m[1]!==void 0?m[1]:"",this.operator==="="&&(this.operator=""),m[2]?this.semver=new r(m[2],this.options.loose):this.semver=i}toString(){return this.value}test(d){if(e("Comparator.test",d,this.options.loose),this.semver===i||d===i)return!0;if(typeof d=="string")try{d=new r(d,this.options)}catch{return!1}return t(d,this.operator,this.semver,this.options)}intersects(d,v){if(!(d instanceof s))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new u(d.value,v).test(this.value):d.operator===""?d.value===""?!0:new u(this.value,v).test(d.semver):(v=o(v),v.includePrerelease&&(this.value==="<0.0.0-0"||d.value==="<0.0.0-0")||!v.includePrerelease&&(this.value.startsWith("<0.0.0")||d.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&d.operator.startsWith(">")||this.operator.startsWith("<")&&d.operator.startsWith("<")||this.semver.version===d.semver.version&&this.operator.includes("=")&&d.operator.includes("=")||t(this.semver,"<",d.semver,v)&&this.operator.startsWith(">")&&d.operator.startsWith("<")||t(this.semver,">",d.semver,v)&&this.operator.startsWith("<")&&d.operator.startsWith(">")))}}ki=s;const o=Ys(),{safeRe:h,t:n}=zs(),t=b_(),e=tr(),r=Ks(),u=Mh();return ki}var Mi,gc;function Mh(){if(gc)return Mi;gc=1;const i=/\s+/g;class s{constructor(C,I){if(I=n(I),C instanceof s)return C.loose===!!I.loose&&C.includePrerelease===!!I.includePrerelease?C:new s(C.raw,I);if(C instanceof t)return this.raw=C.value,this.set=[[C]],this.formatted=void 0,this;if(this.options=I,this.loose=!!I.loose,this.includePrerelease=!!I.includePrerelease,this.raw=C.trim().replace(i," "),this.set=this.raw.split("||").map(M=>this.parseRange(M.trim())).filter(M=>M.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const M=this.set[0];if(this.set=this.set.filter(U=>!S(U[0])),this.set.length===0)this.set=[M];else if(this.set.length>1){for(const U of this.set)if(U.length===1&&g(U[0])){this.set=[U];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let C=0;C<this.set.length;C++){C>0&&(this.formatted+="||");const I=this.set[C];for(let M=0;M<I.length;M++)M>0&&(this.formatted+=" "),this.formatted+=I[M].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(C){const M=((this.options.includePrerelease&&R)|(this.options.loose&&w))+":"+C,U=h.get(M);if(U)return U;const W=this.options.loose,H=W?u[c.HYPHENRANGELOOSE]:u[c.HYPHENRANGE];C=C.replace(H,q(this.options.includePrerelease)),e("hyphen replace",C),C=C.replace(u[c.COMPARATORTRIM],d),e("comparator trim",C),C=C.replace(u[c.TILDETRIM],v),e("tilde trim",C),C=C.replace(u[c.CARETTRIM],m),e("caret trim",C);let O=C.split(" ").map(k=>f(k,this.options)).join(" ").split(/\s+/).map(k=>D(k,this.options));W&&(O=O.filter(k=>(e("loose invalid filter",k,this.options),!!k.match(u[c.COMPARATORLOOSE])))),e("range list",O);const x=new Map,z=O.map(k=>new t(k,this.options));for(const k of z){if(S(k))return[k];x.set(k.value,k)}x.size>1&&x.has("")&&x.delete("");const ee=[...x.values()];return h.set(M,ee),ee}intersects(C,I){if(!(C instanceof s))throw new TypeError("a Range is required");return this.set.some(M=>a(M,I)&&C.set.some(U=>a(U,I)&&M.every(W=>U.every(H=>W.intersects(H,I)))))}test(C){if(!C)return!1;if(typeof C=="string")try{C=new r(C,this.options)}catch{return!1}for(let I=0;I<this.set.length;I++)if($(this.set[I],C,this.options))return!0;return!1}}Mi=s;const o=E_(),h=new o,n=Ys(),t=A_(),e=tr(),r=Ks(),{safeRe:u,t:c,comparatorTrimReplace:d,tildeTrimReplace:v,caretTrimReplace:m}=zs(),{FLAG_INCLUDE_PRERELEASE:R,FLAG_LOOSE:w}=Ws(),S=L=>L.value==="<0.0.0-0",g=L=>L.value==="",a=(L,C)=>{let I=!0;const M=L.slice();let U=M.pop();for(;I&&M.length;)I=M.every(W=>U.intersects(W,C)),U=M.pop();return I},f=(L,C)=>(e("comp",L,C),L=E(L,C),e("caret",L),L=_(L,C),e("tildes",L),L=b(L,C),e("xrange",L),L=P(L,C),e("stars",L),L),l=L=>!L||L.toLowerCase()==="x"||L==="*",_=(L,C)=>L.trim().split(/\s+/).map(I=>p(I,C)).join(" "),p=(L,C)=>{const I=C.loose?u[c.TILDELOOSE]:u[c.TILDE];return L.replace(I,(M,U,W,H,O)=>{e("tilde",L,M,U,W,H,O);let x;return l(U)?x="":l(W)?x=`>=${U}.0.0 <${+U+1}.0.0-0`:l(H)?x=`>=${U}.${W}.0 <${U}.${+W+1}.0-0`:O?(e("replaceTilde pr",O),x=`>=${U}.${W}.${H}-${O} <${U}.${+W+1}.0-0`):x=`>=${U}.${W}.${H} <${U}.${+W+1}.0-0`,e("tilde return",x),x})},E=(L,C)=>L.trim().split(/\s+/).map(I=>y(I,C)).join(" "),y=(L,C)=>{e("caret",L,C);const I=C.loose?u[c.CARETLOOSE]:u[c.CARET],M=C.includePrerelease?"-0":"";return L.replace(I,(U,W,H,O,x)=>{e("caret",L,U,W,H,O,x);let z;return l(W)?z="":l(H)?z=`>=${W}.0.0${M} <${+W+1}.0.0-0`:l(O)?W==="0"?z=`>=${W}.${H}.0${M} <${W}.${+H+1}.0-0`:z=`>=${W}.${H}.0${M} <${+W+1}.0.0-0`:x?(e("replaceCaret pr",x),W==="0"?H==="0"?z=`>=${W}.${H}.${O}-${x} <${W}.${H}.${+O+1}-0`:z=`>=${W}.${H}.${O}-${x} <${W}.${+H+1}.0-0`:z=`>=${W}.${H}.${O}-${x} <${+W+1}.0.0-0`):(e("no pr"),W==="0"?H==="0"?z=`>=${W}.${H}.${O}${M} <${W}.${H}.${+O+1}-0`:z=`>=${W}.${H}.${O}${M} <${W}.${+H+1}.0-0`:z=`>=${W}.${H}.${O} <${+W+1}.0.0-0`),e("caret return",z),z})},b=(L,C)=>(e("replaceXRanges",L,C),L.split(/\s+/).map(I=>A(I,C)).join(" ")),A=(L,C)=>{L=L.trim();const I=C.loose?u[c.XRANGELOOSE]:u[c.XRANGE];return L.replace(I,(M,U,W,H,O,x)=>{e("xRange",L,M,U,W,H,O,x);const z=l(W),ee=z||l(H),k=ee||l(O),N=k;return U==="="&&N&&(U=""),x=C.includePrerelease?"-0":"",z?U===">"||U==="<"?M="<0.0.0-0":M="*":U&&N?(ee&&(H=0),O=0,U===">"?(U=">=",ee?(W=+W+1,H=0,O=0):(H=+H+1,O=0)):U==="<="&&(U="<",ee?W=+W+1:H=+H+1),U==="<"&&(x="-0"),M=`${U+W}.${H}.${O}${x}`):ee?M=`>=${W}.0.0${x} <${+W+1}.0.0-0`:k&&(M=`>=${W}.${H}.0${x} <${W}.${+H+1}.0-0`),e("xRange return",M),M})},P=(L,C)=>(e("replaceStars",L,C),L.trim().replace(u[c.STAR],"")),D=(L,C)=>(e("replaceGTE0",L,C),L.trim().replace(u[C.includePrerelease?c.GTE0PRE:c.GTE0],"")),q=L=>(C,I,M,U,W,H,O,x,z,ee,k,N)=>(l(M)?I="":l(U)?I=`>=${M}.0.0${L?"-0":""}`:l(W)?I=`>=${M}.${U}.0${L?"-0":""}`:H?I=`>=${I}`:I=`>=${I}${L?"-0":""}`,l(z)?x="":l(ee)?x=`<${+z+1}.0.0-0`:l(k)?x=`<${z}.${+ee+1}.0-0`:N?x=`<=${z}.${ee}.${k}-${N}`:L?x=`<${z}.${ee}.${+k+1}-0`:x=`<=${x}`,`${I} ${x}`.trim()),$=(L,C,I)=>{for(let M=0;M<L.length;M++)if(!L[M].test(C))return!1;if(C.prerelease.length&&!I.includePrerelease){for(let M=0;M<L.length;M++)if(e(L[M].semver),L[M].semver!==t.ANY&&L[M].semver.prerelease.length>0){const U=L[M].semver;if(U.major===C.major&&U.minor===C.minor&&U.patch===C.patch)return!0}return!1}return!0};return Mi}var Bi,yc;function T_(){if(yc)return Bi;yc=1;const i=Mh();return Bi=(o,h,n)=>{try{h=new i(h,n)}catch{return!1}return h.test(o)},Bi}var P_=T_();const C_=Ae(P_),I_=[{match:{arch:["x64","arm64"],runtime:"electron",runtimeVersion:">=9"},addDefines:"V8_COMPRESS_POINTERS"},{match:{runtime:"electron",runtimeVersion:">=9"},addDefines:"V8_31BIT_SMIS_ON_64BIT_ARCH"},{match:{runtime:"electron",runtimeVersion:">=11"},addDefines:"V8_REVERSE_JSARGS"},{match:{runtime:"electron",runtimeVersion:">=16",arch:["x64","arm64"]},addDefines:"V8_COMPRESS_POINTERS_IN_ISOLATE_CAGE"}];function Hi(i,s){return s===void 0?!0:Array.isArray(s)?s.includes(i):s===i}function x_(i,s){const o=Hi(i.arch,s.match.arch),h=Hi(i.os,s.match.os),n=Hi(i.runtime,s.match.runtime);return!o||!h||!n||s.match.runtimeVersion!==void 0&&!(Array.isArray(s.match.runtimeVersion)?s.match.runtimeVersion:[s.match.runtimeVersion]).some(e=>C_(i.runtimeVersion,e,{includePrerelease:!0}))?!1:(Array.isArray(s.addDefines)?i.additionalDefines.push(...s.addDefines):i.additionalDefines.push(s.addDefines),se.debug(`Adding define: ${s.addDefines}`),!0)}function $_(i){for(const s of I_)x_(i,s)}var me={},_e={},Le={},vc;function N_(){if(vc)return Le;vc=1,Object.defineProperty(Le,"__esModule",{value:!0}),Le.splitWhen=Le.flatten=void 0;function i(o){return o.reduce((h,n)=>[].concat(h,n),[])}Le.flatten=i;function s(o,h){const n=[[]];let t=0;for(const e of o)h(e)?(t++,n[t]=[]):n[t].push(e);return n}return Le.splitWhen=s,Le}var et={},Ec;function D_(){if(Ec)return et;Ec=1,Object.defineProperty(et,"__esModule",{value:!0}),et.isEnoentCodeError=void 0;function i(s){return s.code==="ENOENT"}return et.isEnoentCodeError=i,et}var tt={},Sc;function L_(){if(Sc)return tt;Sc=1,Object.defineProperty(tt,"__esModule",{value:!0}),tt.createDirentFromStats=void 0;class i{constructor(h,n){this.name=h,this.isBlockDevice=n.isBlockDevice.bind(n),this.isCharacterDevice=n.isCharacterDevice.bind(n),this.isDirectory=n.isDirectory.bind(n),this.isFIFO=n.isFIFO.bind(n),this.isFile=n.isFile.bind(n),this.isSocket=n.isSocket.bind(n),this.isSymbolicLink=n.isSymbolicLink.bind(n)}}function s(o,h){return new i(o,h)}return tt.createDirentFromStats=s,tt}var de={},Rc;function F_(){if(Rc)return de;Rc=1,Object.defineProperty(de,"__esModule",{value:!0}),de.convertPosixPathToPattern=de.convertWindowsPathToPattern=de.convertPathToPattern=de.escapePosixPath=de.escapeWindowsPath=de.escape=de.removeLeadingDotSegment=de.makeAbsolute=de.unixify=void 0;const i=lt,s=le,o=i.platform()==="win32",h=2,n=/(\\?)([()*?[\]{|}]|^!|[!+@](?=\()|\\(?![!()*+?@[\]{|}]))/g,t=/(\\?)([()[\]{}]|^!|[!+@](?=\())/g,e=/^\\\\([.?])/,r=/\\(?![!()+@[\]{}])/g;function u(S){return S.replace(/\\/g,"/")}de.unixify=u;function c(S,g){return s.resolve(S,g)}de.makeAbsolute=c;function d(S){if(S.charAt(0)==="."){const g=S.charAt(1);if(g==="/"||g==="\\")return S.slice(h)}return S}de.removeLeadingDotSegment=d,de.escape=o?v:m;function v(S){return S.replace(t,"\\$2")}de.escapeWindowsPath=v;function m(S){return S.replace(n,"\\$2")}de.escapePosixPath=m,de.convertPathToPattern=o?R:w;function R(S){return v(S).replace(e,"//$1").replace(r,"/")}de.convertWindowsPathToPattern=R;function w(S){return m(S)}return de.convertPosixPathToPattern=w,de}var ae={};/*!
 * is-extglob <https://github.com/jonschlinkert/is-extglob>
 *
 * Copyright (c) 2014-2016, Jon Schlinkert.
 * Licensed under the MIT License.
 */var ji,wc;function q_(){return wc||(wc=1,ji=function(s){if(typeof s!="string"||s==="")return!1;for(var o;o=/(\\).|([@?!+*]\(.*\))/g.exec(s);){if(o[2])return!0;s=s.slice(o.index+o[0].length)}return!1}),ji}/*!
 * is-glob <https://github.com/jonschlinkert/is-glob>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Ui,Oc;function k_(){if(Oc)return Ui;Oc=1;var i=q_(),s={"{":"}","(":")","[":"]"},o=function(n){if(n[0]==="!")return!0;for(var t=0,e=-2,r=-2,u=-2,c=-2,d=-2;t<n.length;){if(n[t]==="*"||n[t+1]==="?"&&/[\].+)]/.test(n[t])||r!==-1&&n[t]==="["&&n[t+1]!=="]"&&(r<t&&(r=n.indexOf("]",t)),r>t&&(d===-1||d>r||(d=n.indexOf("\\",t),d===-1||d>r)))||u!==-1&&n[t]==="{"&&n[t+1]!=="}"&&(u=n.indexOf("}",t),u>t&&(d=n.indexOf("\\",t),d===-1||d>u))||c!==-1&&n[t]==="("&&n[t+1]==="?"&&/[:!=]/.test(n[t+2])&&n[t+3]!==")"&&(c=n.indexOf(")",t),c>t&&(d=n.indexOf("\\",t),d===-1||d>c))||e!==-1&&n[t]==="("&&n[t+1]!=="|"&&(e<t&&(e=n.indexOf("|",t)),e!==-1&&n[e+1]!==")"&&(c=n.indexOf(")",e),c>e&&(d=n.indexOf("\\",e),d===-1||d>c))))return!0;if(n[t]==="\\"){var v=n[t+1];t+=2;var m=s[v];if(m){var R=n.indexOf(m,t);R!==-1&&(t=R+1)}if(n[t]==="!")return!0}else t++}return!1},h=function(n){if(n[0]==="!")return!0;for(var t=0;t<n.length;){if(/[*?{}()[\]]/.test(n[t]))return!0;if(n[t]==="\\"){var e=n[t+1];t+=2;var r=s[e];if(r){var u=n.indexOf(r,t);u!==-1&&(t=u+1)}if(n[t]==="!")return!0}else t++}return!1};return Ui=function(t,e){if(typeof t!="string"||t==="")return!1;if(i(t))return!0;var r=o;return e&&e.strict===!1&&(r=h),r(t)},Ui}var Vi,bc;function M_(){if(bc)return Vi;bc=1;var i=k_(),s=le.posix.dirname,o=lt.platform()==="win32",h="/",n=/\\/g,t=/[\{\[].*[\}\]]$/,e=/(^|[^\\])([\{\[]|\([^\)]+$)/,r=/\\([\!\*\?\|\[\]\(\)\{\}])/g;return Vi=function(c,d){var v=Object.assign({flipBackslashes:!0},d);v.flipBackslashes&&o&&c.indexOf(h)<0&&(c=c.replace(n,h)),t.test(c)&&(c+=h),c+="a";do c=s(c);while(i(c)||e.test(c));return c.replace(r,"$1")},Vi}var Gi={},Ac;function Qs(){return Ac||(Ac=1,function(i){i.isInteger=s=>typeof s=="number"?Number.isInteger(s):typeof s=="string"&&s.trim()!==""?Number.isInteger(Number(s)):!1,i.find=(s,o)=>s.nodes.find(h=>h.type===o),i.exceedsLimit=(s,o,h=1,n)=>n===!1||!i.isInteger(s)||!i.isInteger(o)?!1:(Number(o)-Number(s))/Number(h)>=n,i.escapeNode=(s,o=0,h)=>{const n=s.nodes[o];n&&(h&&n.type===h||n.type==="open"||n.type==="close")&&n.escaped!==!0&&(n.value="\\"+n.value,n.escaped=!0)},i.encloseBrace=s=>s.type!=="brace"?!1:s.commas>>0+s.ranges>>0===0?(s.invalid=!0,!0):!1,i.isInvalidBrace=s=>s.type!=="brace"?!1:s.invalid===!0||s.dollar?!0:s.commas>>0+s.ranges>>0===0||s.open!==!0||s.close!==!0?(s.invalid=!0,!0):!1,i.isOpenOrClose=s=>s.type==="open"||s.type==="close"?!0:s.open===!0||s.close===!0,i.reduce=s=>s.reduce((o,h)=>(h.type==="text"&&o.push(h.value),h.type==="range"&&(h.type="text"),o),[]),i.flatten=(...s)=>{const o=[],h=n=>{for(let t=0;t<n.length;t++){const e=n[t];if(Array.isArray(e)){h(e);continue}e!==void 0&&o.push(e)}return o};return h(s),o}}(Gi)),Gi}var Wi,Tc;function eo(){if(Tc)return Wi;Tc=1;const i=Qs();return Wi=(s,o={})=>{const h=(n,t={})=>{const e=o.escapeInvalid&&i.isInvalidBrace(t),r=n.invalid===!0&&o.escapeInvalid===!0;let u="";if(n.value)return(e||r)&&i.isOpenOrClose(n)?"\\"+n.value:n.value;if(n.value)return n.value;if(n.nodes)for(const c of n.nodes)u+=h(c);return u};return h(s)},Wi}/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */var zi,Pc;function B_(){return Pc||(Pc=1,zi=function(i){return typeof i=="number"?i-i===0:typeof i=="string"&&i.trim()!==""?Number.isFinite?Number.isFinite(+i):isFinite(+i):!1}),zi}/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */var Yi,Cc;function H_(){if(Cc)return Yi;Cc=1;const i=B_(),s=(g,a,f)=>{if(i(g)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(a===void 0||g===a)return String(g);if(i(a)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let l={relaxZeros:!0,...f};typeof l.strictZeros=="boolean"&&(l.relaxZeros=l.strictZeros===!1);let _=String(l.relaxZeros),p=String(l.shorthand),E=String(l.capture),y=String(l.wrap),b=g+":"+a+"="+_+p+E+y;if(s.cache.hasOwnProperty(b))return s.cache[b].result;let A=Math.min(g,a),P=Math.max(g,a);if(Math.abs(A-P)===1){let C=g+"|"+a;return l.capture?`(${C})`:l.wrap===!1?C:`(?:${C})`}let D=w(g)||w(a),q={min:g,max:a,a:A,b:P},$=[],L=[];if(D&&(q.isPadded=D,q.maxLen=String(q.max).length),A<0){let C=P<0?Math.abs(P):1;L=t(C,Math.abs(A),q,l),A=q.a=0}return P>=0&&($=t(A,P,q,l)),q.negatives=L,q.positives=$,q.result=o(L,$),l.capture===!0?q.result=`(${q.result})`:l.wrap!==!1&&$.length+L.length>1&&(q.result=`(?:${q.result})`),s.cache[b]=q,q.result};function o(g,a,f){let l=e(g,a,"-",!1)||[],_=e(a,g,"",!1)||[],p=e(g,a,"-?",!0)||[];return l.concat(p).concat(_).join("|")}function h(g,a){let f=1,l=1,_=d(g,f),p=new Set([a]);for(;g<=_&&_<=a;)p.add(_),f+=1,_=d(g,f);for(_=v(a+1,l)-1;g<_&&_<=a;)p.add(_),l+=1,_=v(a+1,l)-1;return p=[...p],p.sort(u),p}function n(g,a,f){if(g===a)return{pattern:g,count:[],digits:0};let l=r(g,a),_=l.length,p="",E=0;for(let y=0;y<_;y++){let[b,A]=l[y];b===A?p+=b:b!=="0"||A!=="9"?p+=R(b,A):E++}return E&&(p+=f.shorthand===!0?"\\d":"[0-9]"),{pattern:p,count:[E],digits:_}}function t(g,a,f,l){let _=h(g,a),p=[],E=g,y;for(let b=0;b<_.length;b++){let A=_[b],P=n(String(E),String(A),l),D="";if(!f.isPadded&&y&&y.pattern===P.pattern){y.count.length>1&&y.count.pop(),y.count.push(P.count[0]),y.string=y.pattern+m(y.count),E=A+1;continue}f.isPadded&&(D=S(A,f,l)),P.string=D+P.pattern+m(P.count),p.push(P),E=A+1,y=P}return p}function e(g,a,f,l,_){let p=[];for(let E of g){let{string:y}=E;!l&&!c(a,"string",y)&&p.push(f+y),l&&c(a,"string",y)&&p.push(f+y)}return p}function r(g,a){let f=[];for(let l=0;l<g.length;l++)f.push([g[l],a[l]]);return f}function u(g,a){return g>a?1:a>g?-1:0}function c(g,a,f){return g.some(l=>l[a]===f)}function d(g,a){return Number(String(g).slice(0,-a)+"9".repeat(a))}function v(g,a){return g-g%Math.pow(10,a)}function m(g){let[a=0,f=""]=g;return f||a>1?`{${a+(f?","+f:"")}}`:""}function R(g,a,f){return`[${g}${a-g===1?"":"-"}${a}]`}function w(g){return/^-?(0+)\d/.test(g)}function S(g,a,f){if(!a.isPadded)return g;let l=Math.abs(a.maxLen-String(g).length),_=f.relaxZeros!==!1;switch(l){case 0:return"";case 1:return _?"0?":"0";case 2:return _?"0{0,2}":"00";default:return _?`0{0,${l}}`:`0{${l}}`}}return s.cache={},s.clearCache=()=>s.cache={},Yi=s,Yi}/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */var Ki,Ic;function Bh(){if(Ic)return Ki;Ic=1;const i=Zt,s=H_(),o=l=>l!==null&&typeof l=="object"&&!Array.isArray(l),h=l=>_=>l===!0?Number(_):String(_),n=l=>typeof l=="number"||typeof l=="string"&&l!=="",t=l=>Number.isInteger(+l),e=l=>{let _=`${l}`,p=-1;if(_[0]==="-"&&(_=_.slice(1)),_==="0")return!1;for(;_[++p]==="0";);return p>0},r=(l,_,p)=>typeof l=="string"||typeof _=="string"?!0:p.stringify===!0,u=(l,_,p)=>{if(_>0){let E=l[0]==="-"?"-":"";E&&(l=l.slice(1)),l=E+l.padStart(E?_-1:_,"0")}return p===!1?String(l):l},c=(l,_)=>{let p=l[0]==="-"?"-":"";for(p&&(l=l.slice(1),_--);l.length<_;)l="0"+l;return p?"-"+l:l},d=(l,_,p)=>{l.negatives.sort((P,D)=>P<D?-1:P>D?1:0),l.positives.sort((P,D)=>P<D?-1:P>D?1:0);let E=_.capture?"":"?:",y="",b="",A;return l.positives.length&&(y=l.positives.map(P=>c(String(P),p)).join("|")),l.negatives.length&&(b=`-(${E}${l.negatives.map(P=>c(String(P),p)).join("|")})`),y&&b?A=`${y}|${b}`:A=y||b,_.wrap?`(${E}${A})`:A},v=(l,_,p,E)=>{if(p)return s(l,_,{wrap:!1,...E});let y=String.fromCharCode(l);if(l===_)return y;let b=String.fromCharCode(_);return`[${y}-${b}]`},m=(l,_,p)=>{if(Array.isArray(l)){let E=p.wrap===!0,y=p.capture?"":"?:";return E?`(${y}${l.join("|")})`:l.join("|")}return s(l,_,p)},R=(...l)=>new RangeError("Invalid range arguments: "+i.inspect(...l)),w=(l,_,p)=>{if(p.strictRanges===!0)throw R([l,_]);return[]},S=(l,_)=>{if(_.strictRanges===!0)throw new TypeError(`Expected step "${l}" to be a number`);return[]},g=(l,_,p=1,E={})=>{let y=Number(l),b=Number(_);if(!Number.isInteger(y)||!Number.isInteger(b)){if(E.strictRanges===!0)throw R([l,_]);return[]}y===0&&(y=0),b===0&&(b=0);let A=y>b,P=String(l),D=String(_),q=String(p);p=Math.max(Math.abs(p),1);let $=e(P)||e(D)||e(q),L=$?Math.max(P.length,D.length,q.length):0,C=$===!1&&r(l,_,E)===!1,I=E.transform||h(C);if(E.toRegex&&p===1)return v(c(l,L),c(_,L),!0,E);let M={negatives:[],positives:[]},U=O=>M[O<0?"negatives":"positives"].push(Math.abs(O)),W=[],H=0;for(;A?y>=b:y<=b;)E.toRegex===!0&&p>1?U(y):W.push(u(I(y,H),L,C)),y=A?y-p:y+p,H++;return E.toRegex===!0?p>1?d(M,E,L):m(W,null,{wrap:!1,...E}):W},a=(l,_,p=1,E={})=>{if(!t(l)&&l.length>1||!t(_)&&_.length>1)return w(l,_,E);let y=E.transform||(C=>String.fromCharCode(C)),b=`${l}`.charCodeAt(0),A=`${_}`.charCodeAt(0),P=b>A,D=Math.min(b,A),q=Math.max(b,A);if(E.toRegex&&p===1)return v(D,q,!1,E);let $=[],L=0;for(;P?b>=A:b<=A;)$.push(y(b,L)),b=P?b-p:b+p,L++;return E.toRegex===!0?m($,null,{wrap:!1,options:E}):$},f=(l,_,p,E={})=>{if(_==null&&n(l))return[l];if(!n(l)||!n(_))return w(l,_,E);if(typeof p=="function")return f(l,_,1,{transform:p});if(o(p))return f(l,_,0,p);let y={...E};return y.capture===!0&&(y.wrap=!0),p=p||y.step||1,t(p)?t(l)&&t(_)?g(l,_,p,y):a(l,_,Math.max(Math.abs(p),1),y):p!=null&&!o(p)?S(p,y):f(l,_,1,p)};return Ki=f,Ki}var Xi,xc;function j_(){if(xc)return Xi;xc=1;const i=Bh(),s=Qs();return Xi=(h,n={})=>{const t=(e,r={})=>{const u=s.isInvalidBrace(r),c=e.invalid===!0&&n.escapeInvalid===!0,d=u===!0||c===!0,v=n.escapeInvalid===!0?"\\":"";let m="";if(e.isOpen===!0)return v+e.value;if(e.isClose===!0)return console.log("node.isClose",v,e.value),v+e.value;if(e.type==="open")return d?v+e.value:"(";if(e.type==="close")return d?v+e.value:")";if(e.type==="comma")return e.prev.type==="comma"?"":d?e.value:"|";if(e.value)return e.value;if(e.nodes&&e.ranges>0){const R=s.reduce(e.nodes),w=i(...R,{...n,wrap:!1,toRegex:!0,strictZeros:!0});if(w.length!==0)return R.length>1&&w.length>1?`(${w})`:w}if(e.nodes)for(const R of e.nodes)m+=t(R,e);return m};return t(h)},Xi}var Zi,$c;function U_(){if($c)return Zi;$c=1;const i=Bh(),s=eo(),o=Qs(),h=(t="",e="",r=!1)=>{const u=[];if(t=[].concat(t),e=[].concat(e),!e.length)return t;if(!t.length)return r?o.flatten(e).map(c=>`{${c}}`):e;for(const c of t)if(Array.isArray(c))for(const d of c)u.push(h(d,e,r));else for(let d of e)r===!0&&typeof d=="string"&&(d=`{${d}}`),u.push(Array.isArray(d)?h(c,d,r):c+d);return o.flatten(u)};return Zi=(t,e={})=>{const r=e.rangeLimit===void 0?1e3:e.rangeLimit,u=(c,d={})=>{c.queue=[];let v=d,m=d.queue;for(;v.type!=="brace"&&v.type!=="root"&&v.parent;)v=v.parent,m=v.queue;if(c.invalid||c.dollar){m.push(h(m.pop(),s(c,e)));return}if(c.type==="brace"&&c.invalid!==!0&&c.nodes.length===2){m.push(h(m.pop(),["{}"]));return}if(c.nodes&&c.ranges>0){const g=o.reduce(c.nodes);if(o.exceedsLimit(...g,e.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let a=i(...g,e);a.length===0&&(a=s(c,e)),m.push(h(m.pop(),a)),c.nodes=[];return}const R=o.encloseBrace(c);let w=c.queue,S=c;for(;S.type!=="brace"&&S.type!=="root"&&S.parent;)S=S.parent,w=S.queue;for(let g=0;g<c.nodes.length;g++){const a=c.nodes[g];if(a.type==="comma"&&c.type==="brace"){g===1&&w.push(""),w.push("");continue}if(a.type==="close"){m.push(h(m.pop(),w,R));continue}if(a.value&&a.type!=="open"){w.push(h(w.pop(),a.value));continue}a.nodes&&u(a,c)}return w};return o.flatten(u(t))},Zi}var Ji,Nc;function V_(){return Nc||(Nc=1,Ji={MAX_LENGTH:1e4,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:" ",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}),Ji}var Qi,Dc;function G_(){if(Dc)return Qi;Dc=1;const i=eo(),{MAX_LENGTH:s,CHAR_BACKSLASH:o,CHAR_BACKTICK:h,CHAR_COMMA:n,CHAR_DOT:t,CHAR_LEFT_PARENTHESES:e,CHAR_RIGHT_PARENTHESES:r,CHAR_LEFT_CURLY_BRACE:u,CHAR_RIGHT_CURLY_BRACE:c,CHAR_LEFT_SQUARE_BRACKET:d,CHAR_RIGHT_SQUARE_BRACKET:v,CHAR_DOUBLE_QUOTE:m,CHAR_SINGLE_QUOTE:R,CHAR_NO_BREAK_SPACE:w,CHAR_ZERO_WIDTH_NOBREAK_SPACE:S}=V_();return Qi=(a,f={})=>{if(typeof a!="string")throw new TypeError("Expected a string");const l=f||{},_=typeof l.maxLength=="number"?Math.min(s,l.maxLength):s;if(a.length>_)throw new SyntaxError(`Input length (${a.length}), exceeds max characters (${_})`);const p={type:"root",input:a,nodes:[]},E=[p];let y=p,b=p,A=0;const P=a.length;let D=0,q=0,$;const L=()=>a[D++],C=I=>{if(I.type==="text"&&b.type==="dot"&&(b.type="text"),b&&b.type==="text"&&I.type==="text"){b.value+=I.value;return}return y.nodes.push(I),I.parent=y,I.prev=b,b=I,I};for(C({type:"bos"});D<P;)if(y=E[E.length-1],$=L(),!($===S||$===w)){if($===o){C({type:"text",value:(f.keepEscaping?$:"")+L()});continue}if($===v){C({type:"text",value:"\\"+$});continue}if($===d){A++;let I;for(;D<P&&(I=L());){if($+=I,I===d){A++;continue}if(I===o){$+=L();continue}if(I===v&&(A--,A===0))break}C({type:"text",value:$});continue}if($===e){y=C({type:"paren",nodes:[]}),E.push(y),C({type:"text",value:$});continue}if($===r){if(y.type!=="paren"){C({type:"text",value:$});continue}y=E.pop(),C({type:"text",value:$}),y=E[E.length-1];continue}if($===m||$===R||$===h){const I=$;let M;for(f.keepQuotes!==!0&&($="");D<P&&(M=L());){if(M===o){$+=M+L();continue}if(M===I){f.keepQuotes===!0&&($+=M);break}$+=M}C({type:"text",value:$});continue}if($===u){q++;const M={type:"brace",open:!0,close:!1,dollar:b.value&&b.value.slice(-1)==="$"||y.dollar===!0,depth:q,commas:0,ranges:0,nodes:[]};y=C(M),E.push(y),C({type:"open",value:$});continue}if($===c){if(y.type!=="brace"){C({type:"text",value:$});continue}const I="close";y=E.pop(),y.close=!0,C({type:I,value:$}),q--,y=E[E.length-1];continue}if($===n&&q>0){if(y.ranges>0){y.ranges=0;const I=y.nodes.shift();y.nodes=[I,{type:"text",value:i(y)}]}C({type:"comma",value:$}),y.commas++;continue}if($===t&&q>0&&y.commas===0){const I=y.nodes;if(q===0||I.length===0){C({type:"text",value:$});continue}if(b.type==="dot"){if(y.range=[],b.value+=$,b.type="range",y.nodes.length!==3&&y.nodes.length!==5){y.invalid=!0,y.ranges=0,b.type="text";continue}y.ranges++,y.args=[];continue}if(b.type==="range"){I.pop();const M=I[I.length-1];M.value+=b.value+$,b=M,y.ranges--;continue}C({type:"dot",value:$});continue}C({type:"text",value:$})}do if(y=E.pop(),y.type!=="root"){y.nodes.forEach(U=>{U.nodes||(U.type==="open"&&(U.isOpen=!0),U.type==="close"&&(U.isClose=!0),U.nodes||(U.type="text"),U.invalid=!0)});const I=E[E.length-1],M=I.nodes.indexOf(y);I.nodes.splice(M,1,...y.nodes)}while(E.length>0);return C({type:"eos"}),p},Qi}var es,Lc;function W_(){if(Lc)return es;Lc=1;const i=eo(),s=j_(),o=U_(),h=G_(),n=(t,e={})=>{let r=[];if(Array.isArray(t))for(const u of t){const c=n.create(u,e);Array.isArray(c)?r.push(...c):r.push(c)}else r=[].concat(n.create(t,e));return e&&e.expand===!0&&e.nodupes===!0&&(r=[...new Set(r)]),r};return n.parse=(t,e={})=>h(t,e),n.stringify=(t,e={})=>i(typeof t=="string"?n.parse(t,e):t,e),n.compile=(t,e={})=>(typeof t=="string"&&(t=n.parse(t,e)),s(t,e)),n.expand=(t,e={})=>{typeof t=="string"&&(t=n.parse(t,e));let r=o(t,e);return e.noempty===!0&&(r=r.filter(Boolean)),e.nodupes===!0&&(r=[...new Set(r)]),r},n.create=(t,e={})=>t===""||t.length<3?[t]:e.expand!==!0?n.compile(t,e):n.expand(t,e),es=n,es}var ts={},rs,Fc;function ir(){if(Fc)return rs;Fc=1;const i=le,s="\\\\/",o=`[^${s}]`,h="\\.",n="\\+",t="\\?",e="\\/",r="(?=.)",u="[^/]",c=`(?:${e}|$)`,d=`(?:^|${e})`,v=`${h}{1,2}${c}`,m=`(?!${h})`,R=`(?!${d}${v})`,w=`(?!${h}{0,1}${c})`,S=`(?!${v})`,g=`[^.${e}]`,a=`${u}*?`,f={DOT_LITERAL:h,PLUS_LITERAL:n,QMARK_LITERAL:t,SLASH_LITERAL:e,ONE_CHAR:r,QMARK:u,END_ANCHOR:c,DOTS_SLASH:v,NO_DOT:m,NO_DOTS:R,NO_DOT_SLASH:w,NO_DOTS_SLASH:S,QMARK_NO_DOT:g,STAR:a,START_ANCHOR:d},l={...f,SLASH_LITERAL:`[${s}]`,QMARK:o,STAR:`${o}*?`,DOTS_SLASH:`${h}{1,2}(?:[${s}]|$)`,NO_DOT:`(?!${h})`,NO_DOTS:`(?!(?:^|[${s}])${h}{1,2}(?:[${s}]|$))`,NO_DOT_SLASH:`(?!${h}{0,1}(?:[${s}]|$))`,NO_DOTS_SLASH:`(?!${h}{1,2}(?:[${s}]|$))`,QMARK_NO_DOT:`[^.${s}]`,START_ANCHOR:`(?:^|[${s}])`,END_ANCHOR:`(?:[${s}]|$)`},_={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};return rs={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:_,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:i.sep,extglobChars(p){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${p.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(p){return p===!0?l:f}},rs}var qc;function sr(){return qc||(qc=1,function(i){const s=le,o=process.platform==="win32",{REGEX_BACKSLASH:h,REGEX_REMOVE_BACKSLASH:n,REGEX_SPECIAL_CHARS:t,REGEX_SPECIAL_CHARS_GLOBAL:e}=ir();i.isObject=r=>r!==null&&typeof r=="object"&&!Array.isArray(r),i.hasRegexChars=r=>t.test(r),i.isRegexChar=r=>r.length===1&&i.hasRegexChars(r),i.escapeRegex=r=>r.replace(e,"\\$1"),i.toPosixSlashes=r=>r.replace(h,"/"),i.removeBackslashes=r=>r.replace(n,u=>u==="\\"?"":u),i.supportsLookbehinds=()=>{const r=process.version.slice(1).split(".").map(Number);return r.length===3&&r[0]>=9||r[0]===8&&r[1]>=10},i.isWindows=r=>r&&typeof r.windows=="boolean"?r.windows:o===!0||s.sep==="\\",i.escapeLast=(r,u,c)=>{const d=r.lastIndexOf(u,c);return d===-1?r:r[d-1]==="\\"?i.escapeLast(r,u,d-1):`${r.slice(0,d)}\\${r.slice(d)}`},i.removePrefix=(r,u={})=>{let c=r;return c.startsWith("./")&&(c=c.slice(2),u.prefix="./"),c},i.wrapOutput=(r,u={},c={})=>{const d=c.contains?"":"^",v=c.contains?"":"$";let m=`${d}(?:${r})${v}`;return u.negated===!0&&(m=`(?:^(?!${m}).*$)`),m}}(ts)),ts}var ns,kc;function z_(){if(kc)return ns;kc=1;const i=sr(),{CHAR_ASTERISK:s,CHAR_AT:o,CHAR_BACKWARD_SLASH:h,CHAR_COMMA:n,CHAR_DOT:t,CHAR_EXCLAMATION_MARK:e,CHAR_FORWARD_SLASH:r,CHAR_LEFT_CURLY_BRACE:u,CHAR_LEFT_PARENTHESES:c,CHAR_LEFT_SQUARE_BRACKET:d,CHAR_PLUS:v,CHAR_QUESTION_MARK:m,CHAR_RIGHT_CURLY_BRACE:R,CHAR_RIGHT_PARENTHESES:w,CHAR_RIGHT_SQUARE_BRACKET:S}=ir(),g=l=>l===r||l===h,a=l=>{l.isPrefix!==!0&&(l.depth=l.isGlobstar?1/0:1)};return ns=(l,_)=>{const p=_||{},E=l.length-1,y=p.parts===!0||p.scanToEnd===!0,b=[],A=[],P=[];let D=l,q=-1,$=0,L=0,C=!1,I=!1,M=!1,U=!1,W=!1,H=!1,O=!1,x=!1,z=!1,ee=!1,k=0,N,j,V={value:"",depth:0,isGlob:!1};const F=()=>q>=E,B=()=>D.charCodeAt(q+1),Y=()=>(N=j,D.charCodeAt(++q));for(;q<E;){j=Y();let T;if(j===h){O=V.backslashes=!0,j=Y(),j===u&&(H=!0);continue}if(H===!0||j===u){for(k++;F()!==!0&&(j=Y());){if(j===h){O=V.backslashes=!0,Y();continue}if(j===u){k++;continue}if(H!==!0&&j===t&&(j=Y())===t){if(C=V.isBrace=!0,M=V.isGlob=!0,ee=!0,y===!0)continue;break}if(H!==!0&&j===n){if(C=V.isBrace=!0,M=V.isGlob=!0,ee=!0,y===!0)continue;break}if(j===R&&(k--,k===0)){H=!1,C=V.isBrace=!0,ee=!0;break}}if(y===!0)continue;break}if(j===r){if(b.push(q),A.push(V),V={value:"",depth:0,isGlob:!1},ee===!0)continue;if(N===t&&q===$+1){$+=2;continue}L=q+1;continue}if(p.noext!==!0&&(j===v||j===o||j===s||j===m||j===e)===!0&&B()===c){if(M=V.isGlob=!0,U=V.isExtglob=!0,ee=!0,j===e&&q===$&&(z=!0),y===!0){for(;F()!==!0&&(j=Y());){if(j===h){O=V.backslashes=!0,j=Y();continue}if(j===w){M=V.isGlob=!0,ee=!0;break}}continue}break}if(j===s){if(N===s&&(W=V.isGlobstar=!0),M=V.isGlob=!0,ee=!0,y===!0)continue;break}if(j===m){if(M=V.isGlob=!0,ee=!0,y===!0)continue;break}if(j===d){for(;F()!==!0&&(T=Y());){if(T===h){O=V.backslashes=!0,Y();continue}if(T===S){I=V.isBracket=!0,M=V.isGlob=!0,ee=!0;break}}if(y===!0)continue;break}if(p.nonegate!==!0&&j===e&&q===$){x=V.negated=!0,$++;continue}if(p.noparen!==!0&&j===c){if(M=V.isGlob=!0,y===!0){for(;F()!==!0&&(j=Y());){if(j===c){O=V.backslashes=!0,j=Y();continue}if(j===w){ee=!0;break}}continue}break}if(M===!0){if(ee=!0,y===!0)continue;break}}p.noext===!0&&(U=!1,M=!1);let J=D,re="",oe="";$>0&&(re=D.slice(0,$),D=D.slice($),L-=$),J&&M===!0&&L>0?(J=D.slice(0,L),oe=D.slice(L)):M===!0?(J="",oe=D):J=D,J&&J!==""&&J!=="/"&&J!==D&&g(J.charCodeAt(J.length-1))&&(J=J.slice(0,-1)),p.unescape===!0&&(oe&&(oe=i.removeBackslashes(oe)),J&&O===!0&&(J=i.removeBackslashes(J)));const Z={prefix:re,input:l,start:$,base:J,glob:oe,isBrace:C,isBracket:I,isGlob:M,isExtglob:U,isGlobstar:W,negated:x,negatedExtglob:z};if(p.tokens===!0&&(Z.maxDepth=0,g(j)||A.push(V),Z.tokens=A),p.parts===!0||p.tokens===!0){let T;for(let X=0;X<b.length;X++){const Q=T?T+1:$,G=b[X],ne=l.slice(Q,G);p.tokens&&(X===0&&$!==0?(A[X].isPrefix=!0,A[X].value=re):A[X].value=ne,a(A[X]),Z.maxDepth+=A[X].depth),(X!==0||ne!=="")&&P.push(ne),T=G}if(T&&T+1<l.length){const X=l.slice(T+1);P.push(X),p.tokens&&(A[A.length-1].value=X,a(A[A.length-1]),Z.maxDepth+=A[A.length-1].depth)}Z.slashes=b,Z.parts=P}return Z},ns}var is,Mc;function Y_(){if(Mc)return is;Mc=1;const i=ir(),s=sr(),{MAX_LENGTH:o,POSIX_REGEX_SOURCE:h,REGEX_NON_SPECIAL_CHARS:n,REGEX_SPECIAL_CHARS_BACKREF:t,REPLACEMENTS:e}=i,r=(d,v)=>{if(typeof v.expandRange=="function")return v.expandRange(...d,v);d.sort();const m=`[${d.join("-")}]`;try{new RegExp(m)}catch{return d.map(w=>s.escapeRegex(w)).join("..")}return m},u=(d,v)=>`Missing ${d}: "${v}" - use "\\\\${v}" to match literal characters`,c=(d,v)=>{if(typeof d!="string")throw new TypeError("Expected a string");d=e[d]||d;const m={...v},R=typeof m.maxLength=="number"?Math.min(o,m.maxLength):o;let w=d.length;if(w>R)throw new SyntaxError(`Input length: ${w}, exceeds maximum allowed length: ${R}`);const S={type:"bos",value:"",output:m.prepend||""},g=[S],a=m.capture?"":"?:",f=s.isWindows(v),l=i.globChars(f),_=i.extglobChars(l),{DOT_LITERAL:p,PLUS_LITERAL:E,SLASH_LITERAL:y,ONE_CHAR:b,DOTS_SLASH:A,NO_DOT:P,NO_DOT_SLASH:D,NO_DOTS_SLASH:q,QMARK:$,QMARK_NO_DOT:L,STAR:C,START_ANCHOR:I}=l,M=G=>`(${a}(?:(?!${I}${G.dot?A:p}).)*?)`,U=m.dot?"":P,W=m.dot?$:L;let H=m.bash===!0?M(m):C;m.capture&&(H=`(${H})`),typeof m.noext=="boolean"&&(m.noextglob=m.noext);const O={input:d,index:-1,start:0,dot:m.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:g};d=s.removePrefix(d,O),w=d.length;const x=[],z=[],ee=[];let k=S,N;const j=()=>O.index===w-1,V=O.peek=(G=1)=>d[O.index+G],F=O.advance=()=>d[++O.index]||"",B=()=>d.slice(O.index+1),Y=(G="",ne=0)=>{O.consumed+=G,O.index+=ne},J=G=>{O.output+=G.output!=null?G.output:G.value,Y(G.value)},re=()=>{let G=1;for(;V()==="!"&&(V(2)!=="("||V(3)==="?");)F(),O.start++,G++;return G%2===0?!1:(O.negated=!0,O.start++,!0)},oe=G=>{O[G]++,ee.push(G)},Z=G=>{O[G]--,ee.pop()},T=G=>{if(k.type==="globstar"){const ne=O.braces>0&&(G.type==="comma"||G.type==="brace"),K=G.extglob===!0||x.length&&(G.type==="pipe"||G.type==="paren");G.type!=="slash"&&G.type!=="paren"&&!ne&&!K&&(O.output=O.output.slice(0,-k.output.length),k.type="star",k.value="*",k.output=H,O.output+=k.output)}if(x.length&&G.type!=="paren"&&(x[x.length-1].inner+=G.value),(G.value||G.output)&&J(G),k&&k.type==="text"&&G.type==="text"){k.value+=G.value,k.output=(k.output||"")+G.value;return}G.prev=k,g.push(G),k=G},X=(G,ne)=>{const K={..._[ne],conditions:1,inner:""};K.prev=k,K.parens=O.parens,K.output=O.output;const te=(m.capture?"(":"")+K.open;oe("parens"),T({type:G,value:ne,output:O.output?"":b}),T({type:"paren",extglob:!0,value:F(),output:te}),x.push(K)},Q=G=>{let ne=G.close+(m.capture?")":""),K;if(G.type==="negate"){let te=H;if(G.inner&&G.inner.length>1&&G.inner.includes("/")&&(te=M(m)),(te!==H||j()||/^\)+$/.test(B()))&&(ne=G.close=`)$))${te}`),G.inner.includes("*")&&(K=B())&&/^\.[^\\/.]+$/.test(K)){const ie=c(K,{...v,fastpaths:!1}).output;ne=G.close=`)${ie})${te})`}G.prev.type==="bos"&&(O.negatedExtglob=!0)}T({type:"paren",extglob:!0,value:N,output:ne}),Z("parens")};if(m.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(d)){let G=!1,ne=d.replace(t,(K,te,ie,ue,ce,fe)=>ue==="\\"?(G=!0,K):ue==="?"?te?te+ue+(ce?$.repeat(ce.length):""):fe===0?W+(ce?$.repeat(ce.length):""):$.repeat(ie.length):ue==="."?p.repeat(ie.length):ue==="*"?te?te+ue+(ce?H:""):H:te?K:`\\${K}`);return G===!0&&(m.unescape===!0?ne=ne.replace(/\\/g,""):ne=ne.replace(/\\+/g,K=>K.length%2===0?"\\\\":K?"\\":"")),ne===d&&m.contains===!0?(O.output=d,O):(O.output=s.wrapOutput(ne,O,v),O)}for(;!j();){if(N=F(),N==="\0")continue;if(N==="\\"){const K=V();if(K==="/"&&m.bash!==!0||K==="."||K===";")continue;if(!K){N+="\\",T({type:"text",value:N});continue}const te=/^\\+/.exec(B());let ie=0;if(te&&te[0].length>2&&(ie=te[0].length,O.index+=ie,ie%2!==0&&(N+="\\")),m.unescape===!0?N=F():N+=F(),O.brackets===0){T({type:"text",value:N});continue}}if(O.brackets>0&&(N!=="]"||k.value==="["||k.value==="[^")){if(m.posix!==!1&&N===":"){const K=k.value.slice(1);if(K.includes("[")&&(k.posix=!0,K.includes(":"))){const te=k.value.lastIndexOf("["),ie=k.value.slice(0,te),ue=k.value.slice(te+2),ce=h[ue];if(ce){k.value=ie+ce,O.backtrack=!0,F(),!S.output&&g.indexOf(k)===1&&(S.output=b);continue}}}(N==="["&&V()!==":"||N==="-"&&V()==="]")&&(N=`\\${N}`),N==="]"&&(k.value==="["||k.value==="[^")&&(N=`\\${N}`),m.posix===!0&&N==="!"&&k.value==="["&&(N="^"),k.value+=N,J({value:N});continue}if(O.quotes===1&&N!=='"'){N=s.escapeRegex(N),k.value+=N,J({value:N});continue}if(N==='"'){O.quotes=O.quotes===1?0:1,m.keepQuotes===!0&&T({type:"text",value:N});continue}if(N==="("){oe("parens"),T({type:"paren",value:N});continue}if(N===")"){if(O.parens===0&&m.strictBrackets===!0)throw new SyntaxError(u("opening","("));const K=x[x.length-1];if(K&&O.parens===K.parens+1){Q(x.pop());continue}T({type:"paren",value:N,output:O.parens?")":"\\)"}),Z("parens");continue}if(N==="["){if(m.nobracket===!0||!B().includes("]")){if(m.nobracket!==!0&&m.strictBrackets===!0)throw new SyntaxError(u("closing","]"));N=`\\${N}`}else oe("brackets");T({type:"bracket",value:N});continue}if(N==="]"){if(m.nobracket===!0||k&&k.type==="bracket"&&k.value.length===1){T({type:"text",value:N,output:`\\${N}`});continue}if(O.brackets===0){if(m.strictBrackets===!0)throw new SyntaxError(u("opening","["));T({type:"text",value:N,output:`\\${N}`});continue}Z("brackets");const K=k.value.slice(1);if(k.posix!==!0&&K[0]==="^"&&!K.includes("/")&&(N=`/${N}`),k.value+=N,J({value:N}),m.literalBrackets===!1||s.hasRegexChars(K))continue;const te=s.escapeRegex(k.value);if(O.output=O.output.slice(0,-k.value.length),m.literalBrackets===!0){O.output+=te,k.value=te;continue}k.value=`(${a}${te}|${k.value})`,O.output+=k.value;continue}if(N==="{"&&m.nobrace!==!0){oe("braces");const K={type:"brace",value:N,output:"(",outputIndex:O.output.length,tokensIndex:O.tokens.length};z.push(K),T(K);continue}if(N==="}"){const K=z[z.length-1];if(m.nobrace===!0||!K){T({type:"text",value:N,output:N});continue}let te=")";if(K.dots===!0){const ie=g.slice(),ue=[];for(let ce=ie.length-1;ce>=0&&(g.pop(),ie[ce].type!=="brace");ce--)ie[ce].type!=="dots"&&ue.unshift(ie[ce].value);te=r(ue,m),O.backtrack=!0}if(K.comma!==!0&&K.dots!==!0){const ie=O.output.slice(0,K.outputIndex),ue=O.tokens.slice(K.tokensIndex);K.value=K.output="\\{",N=te="\\}",O.output=ie;for(const ce of ue)O.output+=ce.output||ce.value}T({type:"brace",value:N,output:te}),Z("braces"),z.pop();continue}if(N==="|"){x.length>0&&x[x.length-1].conditions++,T({type:"text",value:N});continue}if(N===","){let K=N;const te=z[z.length-1];te&&ee[ee.length-1]==="braces"&&(te.comma=!0,K="|"),T({type:"comma",value:N,output:K});continue}if(N==="/"){if(k.type==="dot"&&O.index===O.start+1){O.start=O.index+1,O.consumed="",O.output="",g.pop(),k=S;continue}T({type:"slash",value:N,output:y});continue}if(N==="."){if(O.braces>0&&k.type==="dot"){k.value==="."&&(k.output=p);const K=z[z.length-1];k.type="dots",k.output+=N,k.value+=N,K.dots=!0;continue}if(O.braces+O.parens===0&&k.type!=="bos"&&k.type!=="slash"){T({type:"text",value:N,output:p});continue}T({type:"dot",value:N,output:p});continue}if(N==="?"){if(!(k&&k.value==="(")&&m.noextglob!==!0&&V()==="("&&V(2)!=="?"){X("qmark",N);continue}if(k&&k.type==="paren"){const te=V();let ie=N;if(te==="<"&&!s.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(k.value==="("&&!/[!=<:]/.test(te)||te==="<"&&!/<([!=]|\w+>)/.test(B()))&&(ie=`\\${N}`),T({type:"text",value:N,output:ie});continue}if(m.dot!==!0&&(k.type==="slash"||k.type==="bos")){T({type:"qmark",value:N,output:L});continue}T({type:"qmark",value:N,output:$});continue}if(N==="!"){if(m.noextglob!==!0&&V()==="("&&(V(2)!=="?"||!/[!=<:]/.test(V(3)))){X("negate",N);continue}if(m.nonegate!==!0&&O.index===0){re();continue}}if(N==="+"){if(m.noextglob!==!0&&V()==="("&&V(2)!=="?"){X("plus",N);continue}if(k&&k.value==="("||m.regex===!1){T({type:"plus",value:N,output:E});continue}if(k&&(k.type==="bracket"||k.type==="paren"||k.type==="brace")||O.parens>0){T({type:"plus",value:N});continue}T({type:"plus",value:E});continue}if(N==="@"){if(m.noextglob!==!0&&V()==="("&&V(2)!=="?"){T({type:"at",extglob:!0,value:N,output:""});continue}T({type:"text",value:N});continue}if(N!=="*"){(N==="$"||N==="^")&&(N=`\\${N}`);const K=n.exec(B());K&&(N+=K[0],O.index+=K[0].length),T({type:"text",value:N});continue}if(k&&(k.type==="globstar"||k.star===!0)){k.type="star",k.star=!0,k.value+=N,k.output=H,O.backtrack=!0,O.globstar=!0,Y(N);continue}let G=B();if(m.noextglob!==!0&&/^\([^?]/.test(G)){X("star",N);continue}if(k.type==="star"){if(m.noglobstar===!0){Y(N);continue}const K=k.prev,te=K.prev,ie=K.type==="slash"||K.type==="bos",ue=te&&(te.type==="star"||te.type==="globstar");if(m.bash===!0&&(!ie||G[0]&&G[0]!=="/")){T({type:"star",value:N,output:""});continue}const ce=O.braces>0&&(K.type==="comma"||K.type==="brace"),fe=x.length&&(K.type==="pipe"||K.type==="paren");if(!ie&&K.type!=="paren"&&!ce&&!fe){T({type:"star",value:N,output:""});continue}for(;G.slice(0,3)==="/**";){const ye=d[O.index+4];if(ye&&ye!=="/")break;G=G.slice(3),Y("/**",3)}if(K.type==="bos"&&j()){k.type="globstar",k.value+=N,k.output=M(m),O.output=k.output,O.globstar=!0,Y(N);continue}if(K.type==="slash"&&K.prev.type!=="bos"&&!ue&&j()){O.output=O.output.slice(0,-(K.output+k.output).length),K.output=`(?:${K.output}`,k.type="globstar",k.output=M(m)+(m.strictSlashes?")":"|$)"),k.value+=N,O.globstar=!0,O.output+=K.output+k.output,Y(N);continue}if(K.type==="slash"&&K.prev.type!=="bos"&&G[0]==="/"){const ye=G[1]!==void 0?"|$":"";O.output=O.output.slice(0,-(K.output+k.output).length),K.output=`(?:${K.output}`,k.type="globstar",k.output=`${M(m)}${y}|${y}${ye})`,k.value+=N,O.output+=K.output+k.output,O.globstar=!0,Y(N+F()),T({type:"slash",value:"/",output:""});continue}if(K.type==="bos"&&G[0]==="/"){k.type="globstar",k.value+=N,k.output=`(?:^|${y}|${M(m)}${y})`,O.output=k.output,O.globstar=!0,Y(N+F()),T({type:"slash",value:"/",output:""});continue}O.output=O.output.slice(0,-k.output.length),k.type="globstar",k.output=M(m),k.value+=N,O.output+=k.output,O.globstar=!0,Y(N);continue}const ne={type:"star",value:N,output:H};if(m.bash===!0){ne.output=".*?",(k.type==="bos"||k.type==="slash")&&(ne.output=U+ne.output),T(ne);continue}if(k&&(k.type==="bracket"||k.type==="paren")&&m.regex===!0){ne.output=N,T(ne);continue}(O.index===O.start||k.type==="slash"||k.type==="dot")&&(k.type==="dot"?(O.output+=D,k.output+=D):m.dot===!0?(O.output+=q,k.output+=q):(O.output+=U,k.output+=U),V()!=="*"&&(O.output+=b,k.output+=b)),T(ne)}for(;O.brackets>0;){if(m.strictBrackets===!0)throw new SyntaxError(u("closing","]"));O.output=s.escapeLast(O.output,"["),Z("brackets")}for(;O.parens>0;){if(m.strictBrackets===!0)throw new SyntaxError(u("closing",")"));O.output=s.escapeLast(O.output,"("),Z("parens")}for(;O.braces>0;){if(m.strictBrackets===!0)throw new SyntaxError(u("closing","}"));O.output=s.escapeLast(O.output,"{"),Z("braces")}if(m.strictSlashes!==!0&&(k.type==="star"||k.type==="bracket")&&T({type:"maybe_slash",value:"",output:`${y}?`}),O.backtrack===!0){O.output="";for(const G of O.tokens)O.output+=G.output!=null?G.output:G.value,G.suffix&&(O.output+=G.suffix)}return O};return c.fastpaths=(d,v)=>{const m={...v},R=typeof m.maxLength=="number"?Math.min(o,m.maxLength):o,w=d.length;if(w>R)throw new SyntaxError(`Input length: ${w}, exceeds maximum allowed length: ${R}`);d=e[d]||d;const S=s.isWindows(v),{DOT_LITERAL:g,SLASH_LITERAL:a,ONE_CHAR:f,DOTS_SLASH:l,NO_DOT:_,NO_DOTS:p,NO_DOTS_SLASH:E,STAR:y,START_ANCHOR:b}=i.globChars(S),A=m.dot?p:_,P=m.dot?E:_,D=m.capture?"":"?:",q={negated:!1,prefix:""};let $=m.bash===!0?".*?":y;m.capture&&($=`(${$})`);const L=U=>U.noglobstar===!0?$:`(${D}(?:(?!${b}${U.dot?l:g}).)*?)`,C=U=>{switch(U){case"*":return`${A}${f}${$}`;case".*":return`${g}${f}${$}`;case"*.*":return`${A}${$}${g}${f}${$}`;case"*/*":return`${A}${$}${a}${f}${P}${$}`;case"**":return A+L(m);case"**/*":return`(?:${A}${L(m)}${a})?${P}${f}${$}`;case"**/*.*":return`(?:${A}${L(m)}${a})?${P}${$}${g}${f}${$}`;case"**/.*":return`(?:${A}${L(m)}${a})?${g}${f}${$}`;default:{const W=/^(.*?)\.(\w+)$/.exec(U);if(!W)return;const H=C(W[1]);return H?H+g+W[2]:void 0}}},I=s.removePrefix(d,q);let M=C(I);return M&&m.strictSlashes!==!0&&(M+=`${a}?`),M},is=c,is}var ss,Bc;function K_(){if(Bc)return ss;Bc=1;const i=le,s=z_(),o=Y_(),h=sr(),n=ir(),t=r=>r&&typeof r=="object"&&!Array.isArray(r),e=(r,u,c=!1)=>{if(Array.isArray(r)){const a=r.map(l=>e(l,u,c));return l=>{for(const _ of a){const p=_(l);if(p)return p}return!1}}const d=t(r)&&r.tokens&&r.input;if(r===""||typeof r!="string"&&!d)throw new TypeError("Expected pattern to be a non-empty string");const v=u||{},m=h.isWindows(u),R=d?e.compileRe(r,u):e.makeRe(r,u,!1,!0),w=R.state;delete R.state;let S=()=>!1;if(v.ignore){const a={...u,ignore:null,onMatch:null,onResult:null};S=e(v.ignore,a,c)}const g=(a,f=!1)=>{const{isMatch:l,match:_,output:p}=e.test(a,R,u,{glob:r,posix:m}),E={glob:r,state:w,regex:R,posix:m,input:a,output:p,match:_,isMatch:l};return typeof v.onResult=="function"&&v.onResult(E),l===!1?(E.isMatch=!1,f?E:!1):S(a)?(typeof v.onIgnore=="function"&&v.onIgnore(E),E.isMatch=!1,f?E:!1):(typeof v.onMatch=="function"&&v.onMatch(E),f?E:!0)};return c&&(g.state=w),g};return e.test=(r,u,c,{glob:d,posix:v}={})=>{if(typeof r!="string")throw new TypeError("Expected input to be a string");if(r==="")return{isMatch:!1,output:""};const m=c||{},R=m.format||(v?h.toPosixSlashes:null);let w=r===d,S=w&&R?R(r):r;return w===!1&&(S=R?R(r):r,w=S===d),(w===!1||m.capture===!0)&&(m.matchBase===!0||m.basename===!0?w=e.matchBase(r,u,c,v):w=u.exec(S)),{isMatch:!!w,match:w,output:S}},e.matchBase=(r,u,c,d=h.isWindows(c))=>(u instanceof RegExp?u:e.makeRe(u,c)).test(i.basename(r)),e.isMatch=(r,u,c)=>e(u,c)(r),e.parse=(r,u)=>Array.isArray(r)?r.map(c=>e.parse(c,u)):o(r,{...u,fastpaths:!1}),e.scan=(r,u)=>s(r,u),e.compileRe=(r,u,c=!1,d=!1)=>{if(c===!0)return r.output;const v=u||{},m=v.contains?"":"^",R=v.contains?"":"$";let w=`${m}(?:${r.output})${R}`;r&&r.negated===!0&&(w=`^(?!${w}).*$`);const S=e.toRegex(w,u);return d===!0&&(S.state=r),S},e.makeRe=(r,u={},c=!1,d=!1)=>{if(!r||typeof r!="string")throw new TypeError("Expected a non-empty string");let v={negated:!1,fastpaths:!0};return u.fastpaths!==!1&&(r[0]==="."||r[0]==="*")&&(v.output=o.fastpaths(r,u)),v.output||(v=o(r,u)),e.compileRe(v,u,c,d)},e.toRegex=(r,u)=>{try{const c=u||{};return new RegExp(r,c.flags||(c.nocase?"i":""))}catch(c){if(u&&u.debug===!0)throw c;return/$^/}},e.constants=n,ss=e,ss}var os,Hc;function X_(){return Hc||(Hc=1,os=K_()),os}var as,jc;function Z_(){if(jc)return as;jc=1;const i=Zt,s=W_(),o=X_(),h=sr(),n=r=>r===""||r==="./",t=r=>{const u=r.indexOf("{");return u>-1&&r.indexOf("}",u)>-1},e=(r,u,c)=>{u=[].concat(u),r=[].concat(r);let d=new Set,v=new Set,m=new Set,R=0,w=a=>{m.add(a.output),c&&c.onResult&&c.onResult(a)};for(let a=0;a<u.length;a++){let f=o(String(u[a]),{...c,onResult:w},!0),l=f.state.negated||f.state.negatedExtglob;l&&R++;for(let _ of r){let p=f(_,!0);(l?!p.isMatch:p.isMatch)&&(l?d.add(p.output):(d.delete(p.output),v.add(p.output)))}}let g=(R===u.length?[...m]:[...v]).filter(a=>!d.has(a));if(c&&g.length===0){if(c.failglob===!0)throw new Error(`No matches found for "${u.join(", ")}"`);if(c.nonull===!0||c.nullglob===!0)return c.unescape?u.map(a=>a.replace(/\\/g,"")):u}return g};return e.match=e,e.matcher=(r,u)=>o(r,u),e.isMatch=(r,u,c)=>o(u,c)(r),e.any=e.isMatch,e.not=(r,u,c={})=>{u=[].concat(u).map(String);let d=new Set,v=[],m=w=>{c.onResult&&c.onResult(w),v.push(w.output)},R=new Set(e(r,u,{...c,onResult:m}));for(let w of v)R.has(w)||d.add(w);return[...d]},e.contains=(r,u,c)=>{if(typeof r!="string")throw new TypeError(`Expected a string: "${i.inspect(r)}"`);if(Array.isArray(u))return u.some(d=>e.contains(r,d,c));if(typeof u=="string"){if(n(r)||n(u))return!1;if(r.includes(u)||r.startsWith("./")&&r.slice(2).includes(u))return!0}return e.isMatch(r,u,{...c,contains:!0})},e.matchKeys=(r,u,c)=>{if(!h.isObject(r))throw new TypeError("Expected the first argument to be an object");let d=e(Object.keys(r),u,c),v={};for(let m of d)v[m]=r[m];return v},e.some=(r,u,c)=>{let d=[].concat(r);for(let v of[].concat(u)){let m=o(String(v),c);if(d.some(R=>m(R)))return!0}return!1},e.every=(r,u,c)=>{let d=[].concat(r);for(let v of[].concat(u)){let m=o(String(v),c);if(!d.every(R=>m(R)))return!1}return!0},e.all=(r,u,c)=>{if(typeof r!="string")throw new TypeError(`Expected a string: "${i.inspect(r)}"`);return[].concat(u).every(d=>o(d,c)(r))},e.capture=(r,u,c)=>{let d=h.isWindows(c),m=o.makeRe(String(r),{...c,capture:!0}).exec(d?h.toPosixSlashes(u):u);if(m)return m.slice(1).map(R=>R===void 0?"":R)},e.makeRe=(...r)=>o.makeRe(...r),e.scan=(...r)=>o.scan(...r),e.parse=(r,u)=>{let c=[];for(let d of[].concat(r||[]))for(let v of s(String(d),u))c.push(o.parse(v,u));return c},e.braces=(r,u)=>{if(typeof r!="string")throw new TypeError("Expected a string");return u&&u.nobrace===!0||!t(r)?[r]:s(r,u)},e.braceExpand=(r,u)=>{if(typeof r!="string")throw new TypeError("Expected a string");return e.braces(r,{...u,expand:!0})},e.hasBraces=t,as=e,as}var Uc;function J_(){if(Uc)return ae;Uc=1,Object.defineProperty(ae,"__esModule",{value:!0}),ae.isAbsolute=ae.partitionAbsoluteAndRelative=ae.removeDuplicateSlashes=ae.matchAny=ae.convertPatternsToRe=ae.makeRe=ae.getPatternParts=ae.expandBraceExpansion=ae.expandPatternsWithBraceExpansion=ae.isAffectDepthOfReadingPattern=ae.endsWithSlashGlobStar=ae.hasGlobStar=ae.getBaseDirectory=ae.isPatternRelatedToParentDirectory=ae.getPatternsOutsideCurrentDirectory=ae.getPatternsInsideCurrentDirectory=ae.getPositivePatterns=ae.getNegativePatterns=ae.isPositivePattern=ae.isNegativePattern=ae.convertToNegativePattern=ae.convertToPositivePattern=ae.isDynamicPattern=ae.isStaticPattern=void 0;const i=le,s=M_(),o=Z_(),h="**",n="\\",t=/[*?]|^!/,e=/\[[^[]*]/,r=/(?:^|[^!*+?@])\([^(]*\|[^|]*\)/,u=/[!*+?@]\([^(]*\)/,c=/,|\.\./,d=/(?!^)\/{2,}/g;function v(H,O={}){return!m(H,O)}ae.isStaticPattern=v;function m(H,O={}){return H===""?!1:!!(O.caseSensitiveMatch===!1||H.includes(n)||t.test(H)||e.test(H)||r.test(H)||O.extglob!==!1&&u.test(H)||O.braceExpansion!==!1&&R(H))}ae.isDynamicPattern=m;function R(H){const O=H.indexOf("{");if(O===-1)return!1;const x=H.indexOf("}",O+1);if(x===-1)return!1;const z=H.slice(O,x);return c.test(z)}function w(H){return g(H)?H.slice(1):H}ae.convertToPositivePattern=w;function S(H){return"!"+H}ae.convertToNegativePattern=S;function g(H){return H.startsWith("!")&&H[1]!=="("}ae.isNegativePattern=g;function a(H){return!g(H)}ae.isPositivePattern=a;function f(H){return H.filter(g)}ae.getNegativePatterns=f;function l(H){return H.filter(a)}ae.getPositivePatterns=l;function _(H){return H.filter(O=>!E(O))}ae.getPatternsInsideCurrentDirectory=_;function p(H){return H.filter(E)}ae.getPatternsOutsideCurrentDirectory=p;function E(H){return H.startsWith("..")||H.startsWith("./..")}ae.isPatternRelatedToParentDirectory=E;function y(H){return s(H,{flipBackslashes:!1})}ae.getBaseDirectory=y;function b(H){return H.includes(h)}ae.hasGlobStar=b;function A(H){return H.endsWith("/"+h)}ae.endsWithSlashGlobStar=A;function P(H){const O=i.basename(H);return A(H)||v(O)}ae.isAffectDepthOfReadingPattern=P;function D(H){return H.reduce((O,x)=>O.concat(q(x)),[])}ae.expandPatternsWithBraceExpansion=D;function q(H){const O=o.braces(H,{expand:!0,nodupes:!0,keepEscaping:!0});return O.sort((x,z)=>x.length-z.length),O.filter(x=>x!=="")}ae.expandBraceExpansion=q;function $(H,O){let{parts:x}=o.scan(H,Object.assign(Object.assign({},O),{parts:!0}));return x.length===0&&(x=[H]),x[0].startsWith("/")&&(x[0]=x[0].slice(1),x.unshift("")),x}ae.getPatternParts=$;function L(H,O){return o.makeRe(H,O)}ae.makeRe=L;function C(H,O){return H.map(x=>L(x,O))}ae.convertPatternsToRe=C;function I(H,O){return O.some(x=>x.test(H))}ae.matchAny=I;function M(H){return H.replace(d,"/")}ae.removeDuplicateSlashes=M;function U(H){const O=[],x=[];for(const z of H)W(z)?O.push(z):x.push(z);return[O,x]}ae.partitionAbsoluteAndRelative=U;function W(H){return i.isAbsolute(H)}return ae.isAbsolute=W,ae}var rt={},us,Vc;function Q_(){if(Vc)return us;Vc=1;const s=ke.PassThrough,o=Array.prototype.slice;us=h;function h(){const t=[],e=o.call(arguments);let r=!1,u=e[e.length-1];u&&!Array.isArray(u)&&u.pipe==null?e.pop():u={};const c=u.end!==!1,d=u.pipeError===!0;u.objectMode==null&&(u.objectMode=!0),u.highWaterMark==null&&(u.highWaterMark=64*1024);const v=s(u);function m(){for(let S=0,g=arguments.length;S<g;S++)t.push(n(arguments[S],u));return R(),this}function R(){if(r)return;r=!0;let S=t.shift();if(!S){process.nextTick(w);return}Array.isArray(S)||(S=[S]);let g=S.length+1;function a(){--g>0||(r=!1,R())}function f(l){function _(){l.removeListener("merge2UnpipeEnd",_),l.removeListener("end",_),d&&l.removeListener("error",p),a()}function p(E){v.emit("error",E)}if(l._readableState.endEmitted)return a();l.on("merge2UnpipeEnd",_),l.on("end",_),d&&l.on("error",p),l.pipe(v,{end:!1}),l.resume()}for(let l=0;l<S.length;l++)f(S[l]);a()}function w(){r=!1,v.emit("queueDrain"),c&&v.end()}return v.setMaxListeners(0),v.add=m,v.on("unpipe",function(S){S.emit("merge2UnpipeEnd")}),e.length&&m.apply(null,e),v}function n(t,e){if(Array.isArray(t))for(let r=0,u=t.length;r<u;r++)t[r]=n(t[r],e);else{if(!t._readableState&&t.pipe&&(t=t.pipe(s(e))),!t._readableState||!t.pause||!t.pipe)throw new Error("Only readable stream can be merged.");t.pause()}return t}return us}var Gc;function eg(){if(Gc)return rt;Gc=1,Object.defineProperty(rt,"__esModule",{value:!0}),rt.merge=void 0;const i=Q_();function s(h){const n=i(h);return h.forEach(t=>{t.once("error",e=>n.emit("error",e))}),n.once("close",()=>o(h)),n.once("end",()=>o(h)),n}rt.merge=s;function o(h){h.forEach(n=>n.emit("close"))}return rt}var Fe={},Wc;function tg(){if(Wc)return Fe;Wc=1,Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.isEmpty=Fe.isString=void 0;function i(o){return typeof o=="string"}Fe.isString=i;function s(o){return o===""}return Fe.isEmpty=s,Fe}var zc;function De(){if(zc)return _e;zc=1,Object.defineProperty(_e,"__esModule",{value:!0}),_e.string=_e.stream=_e.pattern=_e.path=_e.fs=_e.errno=_e.array=void 0;const i=N_();_e.array=i;const s=D_();_e.errno=s;const o=L_();_e.fs=o;const h=F_();_e.path=h;const n=J_();_e.pattern=n;const t=eg();_e.stream=t;const e=tg();return _e.string=e,_e}var Yc;function rg(){if(Yc)return me;Yc=1,Object.defineProperty(me,"__esModule",{value:!0}),me.convertPatternGroupToTask=me.convertPatternGroupsToTasks=me.groupPatternsByBaseDirectory=me.getNegativePatternsAsPositive=me.getPositivePatterns=me.convertPatternsToTasks=me.generate=void 0;const i=De();function s(c,d){const v=o(c,d),m=o(d.ignore,d),R=n(v),w=t(v,m),S=R.filter(l=>i.pattern.isStaticPattern(l,d)),g=R.filter(l=>i.pattern.isDynamicPattern(l,d)),a=h(S,w,!1),f=h(g,w,!0);return a.concat(f)}me.generate=s;function o(c,d){let v=c;return d.braceExpansion&&(v=i.pattern.expandPatternsWithBraceExpansion(v)),d.baseNameMatch&&(v=v.map(m=>m.includes("/")?m:`**/${m}`)),v.map(m=>i.pattern.removeDuplicateSlashes(m))}function h(c,d,v){const m=[],R=i.pattern.getPatternsOutsideCurrentDirectory(c),w=i.pattern.getPatternsInsideCurrentDirectory(c),S=e(R),g=e(w);return m.push(...r(S,d,v)),"."in g?m.push(u(".",w,d,v)):m.push(...r(g,d,v)),m}me.convertPatternsToTasks=h;function n(c){return i.pattern.getPositivePatterns(c)}me.getPositivePatterns=n;function t(c,d){return i.pattern.getNegativePatterns(c).concat(d).map(i.pattern.convertToPositivePattern)}me.getNegativePatternsAsPositive=t;function e(c){const d={};return c.reduce((v,m)=>{const R=i.pattern.getBaseDirectory(m);return R in v?v[R].push(m):v[R]=[m],v},d)}me.groupPatternsByBaseDirectory=e;function r(c,d,v){return Object.keys(c).map(m=>u(m,c[m],d,v))}me.convertPatternGroupsToTasks=r;function u(c,d,v,m){return{dynamic:m,positive:d,negative:v,base:c,patterns:[].concat(d,v.map(i.pattern.convertToNegativePattern))}}return me.convertPatternGroupToTask=u,me}var wt={},Ot={},we={},bt={},At={},Te={},Pe={},Ce={},nt={},Kc;function ng(){if(Kc)return nt;Kc=1,Object.defineProperty(nt,"__esModule",{value:!0}),nt.read=void 0;function i(h,n,t){n.fs.lstat(h,(e,r)=>{if(e!==null){s(t,e);return}if(!r.isSymbolicLink()||!n.followSymbolicLink){o(t,r);return}n.fs.stat(h,(u,c)=>{if(u!==null){if(n.throwErrorOnBrokenSymbolicLink){s(t,u);return}o(t,r);return}n.markSymbolicLink&&(c.isSymbolicLink=()=>!0),o(t,c)})})}nt.read=i;function s(h,n){h(n)}function o(h,n){h(null,n)}return nt}var it={},Xc;function ig(){if(Xc)return it;Xc=1,Object.defineProperty(it,"__esModule",{value:!0}),it.read=void 0;function i(s,o){const h=o.fs.lstatSync(s);if(!h.isSymbolicLink()||!o.followSymbolicLink)return h;try{const n=o.fs.statSync(s);return o.markSymbolicLink&&(n.isSymbolicLink=()=>!0),n}catch(n){if(!o.throwErrorOnBrokenSymbolicLink)return h;throw n}}return it.read=i,it}var Tt={},cs={},Zc;function sg(){return Zc||(Zc=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.createFileSystemAdapter=i.FILE_SYSTEM_ADAPTER=void 0;const s=ge;i.FILE_SYSTEM_ADAPTER={lstat:s.lstat,stat:s.stat,lstatSync:s.lstatSync,statSync:s.statSync};function o(h){return h===void 0?i.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},i.FILE_SYSTEM_ADAPTER),h)}i.createFileSystemAdapter=o}(cs)),cs}var Jc;function og(){if(Jc)return Tt;Jc=1,Object.defineProperty(Tt,"__esModule",{value:!0});const i=sg();class s{constructor(h={}){this._options=h,this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,!0),this.fs=i.createFileSystemAdapter(this._options.fs),this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0)}_getValue(h,n){return h??n}}return Tt.default=s,Tt}var Qc;function Je(){if(Qc)return Ce;Qc=1,Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.statSync=Ce.stat=Ce.Settings=void 0;const i=ng(),s=ig(),o=og();Ce.Settings=o.default;function h(e,r,u){if(typeof r=="function"){i.read(e,t(),r);return}i.read(e,t(r),u)}Ce.stat=h;function n(e,r){const u=t(r);return s.read(e,u)}Ce.statSync=n;function t(e={}){return e instanceof o.default?e:new o.default(e)}return Ce}/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var ls,el;function ag(){if(el)return ls;el=1;let i;return ls=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:$e):s=>(i||(i=Promise.resolve())).then(s).catch(o=>setTimeout(()=>{throw o},0)),ls}/*! run-parallel. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var hs,tl;function ug(){if(tl)return hs;tl=1,hs=s;const i=ag();function s(o,h){let n,t,e,r=!0;Array.isArray(o)?(n=[],t=o.length):(e=Object.keys(o),n={},t=e.length);function u(d){function v(){h&&h(d,n),h=null}r?i(v):v()}function c(d,v,m){n[d]=m,(--t===0||v)&&u(v)}t?e?e.forEach(function(d){o[d](function(v,m){c(d,v,m)})}):o.forEach(function(d,v){d(function(m,R){c(v,m,R)})}):u(null),r=!1}return hs}var st={},rl;function Hh(){if(rl)return st;rl=1,Object.defineProperty(st,"__esModule",{value:!0}),st.IS_SUPPORT_READDIR_WITH_FILE_TYPES=void 0;const i=process.versions.node.split(".");if(i[0]===void 0||i[1]===void 0)throw new Error(`Unexpected behavior. The 'process.versions.node' variable has invalid value: ${process.versions.node}`);const s=Number.parseInt(i[0],10),o=Number.parseInt(i[1],10),h=10,n=10,t=s>h,e=s===h&&o>=n;return st.IS_SUPPORT_READDIR_WITH_FILE_TYPES=t||e,st}var ot={},at={},nl;function cg(){if(nl)return at;nl=1,Object.defineProperty(at,"__esModule",{value:!0}),at.createDirentFromStats=void 0;class i{constructor(h,n){this.name=h,this.isBlockDevice=n.isBlockDevice.bind(n),this.isCharacterDevice=n.isCharacterDevice.bind(n),this.isDirectory=n.isDirectory.bind(n),this.isFIFO=n.isFIFO.bind(n),this.isFile=n.isFile.bind(n),this.isSocket=n.isSocket.bind(n),this.isSymbolicLink=n.isSymbolicLink.bind(n)}}function s(o,h){return new i(o,h)}return at.createDirentFromStats=s,at}var il;function jh(){if(il)return ot;il=1,Object.defineProperty(ot,"__esModule",{value:!0}),ot.fs=void 0;const i=cg();return ot.fs=i,ot}var ut={},sl;function Uh(){if(sl)return ut;sl=1,Object.defineProperty(ut,"__esModule",{value:!0}),ut.joinPathSegments=void 0;function i(s,o,h){return s.endsWith(h)?s+o:s+h+o}return ut.joinPathSegments=i,ut}var ol;function lg(){if(ol)return Pe;ol=1,Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.readdir=Pe.readdirWithFileTypes=Pe.read=void 0;const i=Je(),s=ug(),o=Hh(),h=jh(),n=Uh();function t(v,m,R){if(!m.stats&&o.IS_SUPPORT_READDIR_WITH_FILE_TYPES){e(v,m,R);return}u(v,m,R)}Pe.read=t;function e(v,m,R){m.fs.readdir(v,{withFileTypes:!0},(w,S)=>{if(w!==null){c(R,w);return}const g=S.map(f=>({dirent:f,name:f.name,path:n.joinPathSegments(v,f.name,m.pathSegmentSeparator)}));if(!m.followSymbolicLinks){d(R,g);return}const a=g.map(f=>r(f,m));s(a,(f,l)=>{if(f!==null){c(R,f);return}d(R,l)})})}Pe.readdirWithFileTypes=e;function r(v,m){return R=>{if(!v.dirent.isSymbolicLink()){R(null,v);return}m.fs.stat(v.path,(w,S)=>{if(w!==null){if(m.throwErrorOnBrokenSymbolicLink){R(w);return}R(null,v);return}v.dirent=h.fs.createDirentFromStats(v.name,S),R(null,v)})}}function u(v,m,R){m.fs.readdir(v,(w,S)=>{if(w!==null){c(R,w);return}const g=S.map(a=>{const f=n.joinPathSegments(v,a,m.pathSegmentSeparator);return l=>{i.stat(f,m.fsStatSettings,(_,p)=>{if(_!==null){l(_);return}const E={name:a,path:f,dirent:h.fs.createDirentFromStats(a,p)};m.stats&&(E.stats=p),l(null,E)})}});s(g,(a,f)=>{if(a!==null){c(R,a);return}d(R,f)})})}Pe.readdir=u;function c(v,m){v(m)}function d(v,m){v(null,m)}return Pe}var Ie={},al;function hg(){if(al)return Ie;al=1,Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.readdir=Ie.readdirWithFileTypes=Ie.read=void 0;const i=Je(),s=Hh(),o=jh(),h=Uh();function n(r,u){return!u.stats&&s.IS_SUPPORT_READDIR_WITH_FILE_TYPES?t(r,u):e(r,u)}Ie.read=n;function t(r,u){return u.fs.readdirSync(r,{withFileTypes:!0}).map(d=>{const v={dirent:d,name:d.name,path:h.joinPathSegments(r,d.name,u.pathSegmentSeparator)};if(v.dirent.isSymbolicLink()&&u.followSymbolicLinks)try{const m=u.fs.statSync(v.path);v.dirent=o.fs.createDirentFromStats(v.name,m)}catch(m){if(u.throwErrorOnBrokenSymbolicLink)throw m}return v})}Ie.readdirWithFileTypes=t;function e(r,u){return u.fs.readdirSync(r).map(d=>{const v=h.joinPathSegments(r,d,u.pathSegmentSeparator),m=i.statSync(v,u.fsStatSettings),R={name:d,path:v,dirent:o.fs.createDirentFromStats(d,m)};return u.stats&&(R.stats=m),R})}return Ie.readdir=e,Ie}var Pt={},fs={},ul;function fg(){return ul||(ul=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.createFileSystemAdapter=i.FILE_SYSTEM_ADAPTER=void 0;const s=ge;i.FILE_SYSTEM_ADAPTER={lstat:s.lstat,stat:s.stat,lstatSync:s.lstatSync,statSync:s.statSync,readdir:s.readdir,readdirSync:s.readdirSync};function o(h){return h===void 0?i.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},i.FILE_SYSTEM_ADAPTER),h)}i.createFileSystemAdapter=o}(fs)),fs}var cl;function dg(){if(cl)return Pt;cl=1,Object.defineProperty(Pt,"__esModule",{value:!0});const i=le,s=Je(),o=fg();class h{constructor(t={}){this._options=t,this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!1),this.fs=o.createFileSystemAdapter(this._options.fs),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,i.sep),this.stats=this._getValue(this._options.stats,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0),this.fsStatSettings=new s.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(t,e){return t??e}}return Pt.default=h,Pt}var ll;function to(){if(ll)return Te;ll=1,Object.defineProperty(Te,"__esModule",{value:!0}),Te.Settings=Te.scandirSync=Te.scandir=void 0;const i=lg(),s=hg(),o=dg();Te.Settings=o.default;function h(e,r,u){if(typeof r=="function"){i.read(e,t(),r);return}i.read(e,t(r),u)}Te.scandir=h;function n(e,r){const u=t(r);return s.read(e,u)}Te.scandirSync=n;function t(e={}){return e instanceof o.default?e:new o.default(e)}return Te}var Ct={exports:{}},ds,hl;function pg(){if(hl)return ds;hl=1;function i(s){var o=new s,h=o;function n(){var e=o;return e.next?o=e.next:(o=new s,h=o),e.next=null,e}function t(e){h.next=e,h=e}return{get:n,release:t}}return ds=i,ds}var fl;function mg(){if(fl)return Ct.exports;fl=1;var i=pg();function s(t,e,r){if(typeof t=="function"&&(r=e,e=t,t=null),!(r>=1))throw new Error("fastqueue concurrency must be equal to or greater than 1");var u=i(h),c=null,d=null,v=0,m=null,R={push:_,drain:o,saturated:o,pause:S,paused:!1,get concurrency(){return r},set concurrency(P){if(!(P>=1))throw new Error("fastqueue concurrency must be equal to or greater than 1");if(r=P,!R.paused)for(;c&&v<r;)v++,E()},running:w,resume:f,idle:l,length:g,getQueue:a,unshift:p,empty:o,kill:y,killAndDrain:b,error:A};return R;function w(){return v}function S(){R.paused=!0}function g(){for(var P=c,D=0;P;)P=P.next,D++;return D}function a(){for(var P=c,D=[];P;)D.push(P.value),P=P.next;return D}function f(){if(R.paused){if(R.paused=!1,c===null){v++,E();return}for(;c&&v<r;)v++,E()}}function l(){return v===0&&R.length()===0}function _(P,D){var q=u.get();q.context=t,q.release=E,q.value=P,q.callback=D||o,q.errorHandler=m,v>=r||R.paused?d?(d.next=q,d=q):(c=q,d=q,R.saturated()):(v++,e.call(t,q.value,q.worked))}function p(P,D){var q=u.get();q.context=t,q.release=E,q.value=P,q.callback=D||o,q.errorHandler=m,v>=r||R.paused?c?(q.next=c,c=q):(c=q,d=q,R.saturated()):(v++,e.call(t,q.value,q.worked))}function E(P){P&&u.release(P);var D=c;D&&v<=r?R.paused?v--:(d===c&&(d=null),c=D.next,D.next=null,e.call(t,D.value,D.worked),d===null&&R.empty()):--v===0&&R.drain()}function y(){c=null,d=null,R.drain=o}function b(){c=null,d=null,R.drain(),R.drain=o}function A(P){m=P}}function o(){}function h(){this.value=null,this.callback=o,this.next=null,this.release=o,this.context=null,this.errorHandler=null;var t=this;this.worked=function(r,u){var c=t.callback,d=t.errorHandler,v=t.value;t.value=null,t.callback=o,t.errorHandler&&d(r,v),c.call(t.context,r,u),t.release(t)}}function n(t,e,r){typeof t=="function"&&(r=e,e=t,t=null);function u(S,g){e.call(this,S).then(function(a){g(null,a)},g)}var c=s(t,u,r),d=c.push,v=c.unshift;return c.push=m,c.unshift=R,c.drained=w,c;function m(S){var g=new Promise(function(a,f){d(S,function(l,_){if(l){f(l);return}a(_)})});return g.catch(o),g}function R(S){var g=new Promise(function(a,f){v(S,function(l,_){if(l){f(l);return}a(_)})});return g.catch(o),g}function w(){var S=new Promise(function(g){process.nextTick(function(){if(c.idle())g();else{var a=c.drain;c.drain=function(){typeof a=="function"&&a(),g(),c.drain=a}}})});return S}}return Ct.exports=s,Ct.exports.promise=n,Ct.exports}var Oe={},dl;function ro(){if(dl)return Oe;dl=1,Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.joinPathSegments=Oe.replacePathSegmentSeparator=Oe.isAppliedFilter=Oe.isFatalError=void 0;function i(n,t){return n.errorFilter===null?!0:!n.errorFilter(t)}Oe.isFatalError=i;function s(n,t){return n===null||n(t)}Oe.isAppliedFilter=s;function o(n,t){return n.split(/[/\\]/).join(t)}Oe.replacePathSegmentSeparator=o;function h(n,t,e){return n===""?t:n.endsWith(e)?n+t:n+e+t}return Oe.joinPathSegments=h,Oe}var It={},pl;function Vh(){if(pl)return It;pl=1,Object.defineProperty(It,"__esModule",{value:!0});const i=ro();class s{constructor(h,n){this._root=h,this._settings=n,this._root=i.replacePathSegmentSeparator(h,n.pathSegmentSeparator)}}return It.default=s,It}var ml;function Gh(){if(ml)return At;ml=1,Object.defineProperty(At,"__esModule",{value:!0});const i=ze,s=to(),o=mg(),h=ro(),n=Vh();class t extends n.default{constructor(r,u){super(r,u),this._settings=u,this._scandir=s.scandir,this._emitter=new i.EventEmitter,this._queue=o(this._worker.bind(this),this._settings.concurrency),this._isFatalError=!1,this._isDestroyed=!1,this._queue.drain=()=>{this._isFatalError||this._emitter.emit("end")}}read(){return this._isFatalError=!1,this._isDestroyed=!1,setImmediate(()=>{this._pushToQueue(this._root,this._settings.basePath)}),this._emitter}get isDestroyed(){return this._isDestroyed}destroy(){if(this._isDestroyed)throw new Error("The reader is already destroyed");this._isDestroyed=!0,this._queue.killAndDrain()}onEntry(r){this._emitter.on("entry",r)}onError(r){this._emitter.once("error",r)}onEnd(r){this._emitter.once("end",r)}_pushToQueue(r,u){const c={directory:r,base:u};this._queue.push(c,d=>{d!==null&&this._handleError(d)})}_worker(r,u){this._scandir(r.directory,this._settings.fsScandirSettings,(c,d)=>{if(c!==null){u(c,void 0);return}for(const v of d)this._handleEntry(v,r.base);u(null,void 0)})}_handleError(r){this._isDestroyed||!h.isFatalError(this._settings,r)||(this._isFatalError=!0,this._isDestroyed=!0,this._emitter.emit("error",r))}_handleEntry(r,u){if(this._isDestroyed||this._isFatalError)return;const c=r.path;u!==void 0&&(r.path=h.joinPathSegments(u,r.name,this._settings.pathSegmentSeparator)),h.isAppliedFilter(this._settings.entryFilter,r)&&this._emitEntry(r),r.dirent.isDirectory()&&h.isAppliedFilter(this._settings.deepFilter,r)&&this._pushToQueue(c,u===void 0?void 0:r.path)}_emitEntry(r){this._emitter.emit("entry",r)}}return At.default=t,At}var _l;function _g(){if(_l)return bt;_l=1,Object.defineProperty(bt,"__esModule",{value:!0});const i=Gh();class s{constructor(t,e){this._root=t,this._settings=e,this._reader=new i.default(this._root,this._settings),this._storage=[]}read(t){this._reader.onError(e=>{o(t,e)}),this._reader.onEntry(e=>{this._storage.push(e)}),this._reader.onEnd(()=>{h(t,this._storage)}),this._reader.read()}}bt.default=s;function o(n,t){n(t)}function h(n,t){n(null,t)}return bt}var xt={},gl;function gg(){if(gl)return xt;gl=1,Object.defineProperty(xt,"__esModule",{value:!0});const i=ke,s=Gh();class o{constructor(n,t){this._root=n,this._settings=t,this._reader=new s.default(this._root,this._settings),this._stream=new i.Readable({objectMode:!0,read:()=>{},destroy:()=>{this._reader.isDestroyed||this._reader.destroy()}})}read(){return this._reader.onError(n=>{this._stream.emit("error",n)}),this._reader.onEntry(n=>{this._stream.push(n)}),this._reader.onEnd(()=>{this._stream.push(null)}),this._reader.read(),this._stream}}return xt.default=o,xt}var $t={},Nt={},yl;function yg(){if(yl)return Nt;yl=1,Object.defineProperty(Nt,"__esModule",{value:!0});const i=to(),s=ro(),o=Vh();class h extends o.default{constructor(){super(...arguments),this._scandir=i.scandirSync,this._storage=[],this._queue=new Set}read(){return this._pushToQueue(this._root,this._settings.basePath),this._handleQueue(),this._storage}_pushToQueue(t,e){this._queue.add({directory:t,base:e})}_handleQueue(){for(const t of this._queue.values())this._handleDirectory(t.directory,t.base)}_handleDirectory(t,e){try{const r=this._scandir(t,this._settings.fsScandirSettings);for(const u of r)this._handleEntry(u,e)}catch(r){this._handleError(r)}}_handleError(t){if(s.isFatalError(this._settings,t))throw t}_handleEntry(t,e){const r=t.path;e!==void 0&&(t.path=s.joinPathSegments(e,t.name,this._settings.pathSegmentSeparator)),s.isAppliedFilter(this._settings.entryFilter,t)&&this._pushToStorage(t),t.dirent.isDirectory()&&s.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(r,e===void 0?void 0:t.path)}_pushToStorage(t){this._storage.push(t)}}return Nt.default=h,Nt}var vl;function vg(){if(vl)return $t;vl=1,Object.defineProperty($t,"__esModule",{value:!0});const i=yg();class s{constructor(h,n){this._root=h,this._settings=n,this._reader=new i.default(this._root,this._settings)}read(){return this._reader.read()}}return $t.default=s,$t}var Dt={},El;function Eg(){if(El)return Dt;El=1,Object.defineProperty(Dt,"__esModule",{value:!0});const i=le,s=to();class o{constructor(n={}){this._options=n,this.basePath=this._getValue(this._options.basePath,void 0),this.concurrency=this._getValue(this._options.concurrency,Number.POSITIVE_INFINITY),this.deepFilter=this._getValue(this._options.deepFilter,null),this.entryFilter=this._getValue(this._options.entryFilter,null),this.errorFilter=this._getValue(this._options.errorFilter,null),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,i.sep),this.fsScandirSettings=new s.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(n,t){return n??t}}return Dt.default=o,Dt}var Sl;function no(){if(Sl)return we;Sl=1,Object.defineProperty(we,"__esModule",{value:!0}),we.Settings=we.walkStream=we.walkSync=we.walk=void 0;const i=_g(),s=gg(),o=vg(),h=Eg();we.Settings=h.default;function n(u,c,d){if(typeof c=="function"){new i.default(u,r()).read(c);return}new i.default(u,r(c)).read(d)}we.walk=n;function t(u,c){const d=r(c);return new o.default(u,d).read()}we.walkSync=t;function e(u,c){const d=r(c);return new s.default(u,d).read()}we.walkStream=e;function r(u={}){return u instanceof h.default?u:new h.default(u)}return we}var Lt={},Rl;function io(){if(Rl)return Lt;Rl=1,Object.defineProperty(Lt,"__esModule",{value:!0});const i=le,s=Je(),o=De();class h{constructor(t){this._settings=t,this._fsStatSettings=new s.Settings({followSymbolicLink:this._settings.followSymbolicLinks,fs:this._settings.fs,throwErrorOnBrokenSymbolicLink:this._settings.followSymbolicLinks})}_getFullEntryPath(t){return i.resolve(this._settings.cwd,t)}_makeEntry(t,e){const r={name:e,path:e,dirent:o.fs.createDirentFromStats(e,t)};return this._settings.stats&&(r.stats=t),r}_isFatalError(t){return!o.errno.isEnoentCodeError(t)&&!this._settings.suppressErrors}}return Lt.default=h,Lt}var Ft={},wl;function Wh(){if(wl)return Ft;wl=1,Object.defineProperty(Ft,"__esModule",{value:!0});const i=ke,s=Je(),o=no(),h=io();class n extends h.default{constructor(){super(...arguments),this._walkStream=o.walkStream,this._stat=s.stat}dynamic(e,r){return this._walkStream(e,r)}static(e,r){const u=e.map(this._getFullEntryPath,this),c=new i.PassThrough({objectMode:!0});c._write=(d,v,m)=>this._getEntry(u[d],e[d],r).then(R=>{R!==null&&r.entryFilter(R)&&c.push(R),d===u.length-1&&c.end(),m()}).catch(m);for(let d=0;d<u.length;d++)c.write(d);return c}_getEntry(e,r,u){return this._getStat(e).then(c=>this._makeEntry(c,r)).catch(c=>{if(u.errorFilter(c))return null;throw c})}_getStat(e){return new Promise((r,u)=>{this._stat(e,this._fsStatSettings,(c,d)=>c===null?r(d):u(c))})}}return Ft.default=n,Ft}var Ol;function Sg(){if(Ol)return Ot;Ol=1,Object.defineProperty(Ot,"__esModule",{value:!0});const i=no(),s=io(),o=Wh();class h extends s.default{constructor(){super(...arguments),this._walkAsync=i.walk,this._readerStream=new o.default(this._settings)}dynamic(t,e){return new Promise((r,u)=>{this._walkAsync(t,e,(c,d)=>{c===null?r(d):u(c)})})}async static(t,e){const r=[],u=this._readerStream.static(t,e);return new Promise((c,d)=>{u.once("error",d),u.on("data",v=>r.push(v)),u.once("end",()=>c(r))})}}return Ot.default=h,Ot}var qt={},kt={},Mt={},Bt={},bl;function Rg(){if(bl)return Bt;bl=1,Object.defineProperty(Bt,"__esModule",{value:!0});const i=De();class s{constructor(h,n,t){this._patterns=h,this._settings=n,this._micromatchOptions=t,this._storage=[],this._fillStorage()}_fillStorage(){for(const h of this._patterns){const n=this._getPatternSegments(h),t=this._splitSegmentsIntoSections(n);this._storage.push({complete:t.length<=1,pattern:h,segments:n,sections:t})}}_getPatternSegments(h){return i.pattern.getPatternParts(h,this._micromatchOptions).map(t=>i.pattern.isDynamicPattern(t,this._settings)?{dynamic:!0,pattern:t,patternRe:i.pattern.makeRe(t,this._micromatchOptions)}:{dynamic:!1,pattern:t})}_splitSegmentsIntoSections(h){return i.array.splitWhen(h,n=>n.dynamic&&i.pattern.hasGlobStar(n.pattern))}}return Bt.default=s,Bt}var Al;function wg(){if(Al)return Mt;Al=1,Object.defineProperty(Mt,"__esModule",{value:!0});const i=Rg();class s extends i.default{match(h){const n=h.split("/"),t=n.length,e=this._storage.filter(r=>!r.complete||r.segments.length>t);for(const r of e){const u=r.sections[0];if(!r.complete&&t>u.length||n.every((d,v)=>{const m=r.segments[v];return!!(m.dynamic&&m.patternRe.test(d)||!m.dynamic&&m.pattern===d)}))return!0}return!1}}return Mt.default=s,Mt}var Tl;function Og(){if(Tl)return kt;Tl=1,Object.defineProperty(kt,"__esModule",{value:!0});const i=De(),s=wg();class o{constructor(n,t){this._settings=n,this._micromatchOptions=t}getFilter(n,t,e){const r=this._getMatcher(t),u=this._getNegativePatternsRe(e);return c=>this._filter(n,c,r,u)}_getMatcher(n){return new s.default(n,this._settings,this._micromatchOptions)}_getNegativePatternsRe(n){const t=n.filter(i.pattern.isAffectDepthOfReadingPattern);return i.pattern.convertPatternsToRe(t,this._micromatchOptions)}_filter(n,t,e,r){if(this._isSkippedByDeep(n,t.path)||this._isSkippedSymbolicLink(t))return!1;const u=i.path.removeLeadingDotSegment(t.path);return this._isSkippedByPositivePatterns(u,e)?!1:this._isSkippedByNegativePatterns(u,r)}_isSkippedByDeep(n,t){return this._settings.deep===1/0?!1:this._getEntryLevel(n,t)>=this._settings.deep}_getEntryLevel(n,t){const e=t.split("/").length;if(n==="")return e;const r=n.split("/").length;return e-r}_isSkippedSymbolicLink(n){return!this._settings.followSymbolicLinks&&n.dirent.isSymbolicLink()}_isSkippedByPositivePatterns(n,t){return!this._settings.baseNameMatch&&!t.match(n)}_isSkippedByNegativePatterns(n,t){return!i.pattern.matchAny(n,t)}}return kt.default=o,kt}var Ht={},Pl;function bg(){if(Pl)return Ht;Pl=1,Object.defineProperty(Ht,"__esModule",{value:!0});const i=De();class s{constructor(h,n){this._settings=h,this._micromatchOptions=n,this.index=new Map}getFilter(h,n){const[t,e]=i.pattern.partitionAbsoluteAndRelative(n),r={positive:{all:i.pattern.convertPatternsToRe(h,this._micromatchOptions)},negative:{absolute:i.pattern.convertPatternsToRe(t,Object.assign(Object.assign({},this._micromatchOptions),{dot:!0})),relative:i.pattern.convertPatternsToRe(e,Object.assign(Object.assign({},this._micromatchOptions),{dot:!0}))}};return u=>this._filter(u,r)}_filter(h,n){const t=i.path.removeLeadingDotSegment(h.path);if(this._settings.unique&&this._isDuplicateEntry(t)||this._onlyFileFilter(h)||this._onlyDirectoryFilter(h))return!1;const e=this._isMatchToPatternsSet(t,n,h.dirent.isDirectory());return this._settings.unique&&e&&this._createIndexRecord(t),e}_isDuplicateEntry(h){return this.index.has(h)}_createIndexRecord(h){this.index.set(h,void 0)}_onlyFileFilter(h){return this._settings.onlyFiles&&!h.dirent.isFile()}_onlyDirectoryFilter(h){return this._settings.onlyDirectories&&!h.dirent.isDirectory()}_isMatchToPatternsSet(h,n,t){return!(!this._isMatchToPatterns(h,n.positive.all,t)||this._isMatchToPatterns(h,n.negative.relative,t)||this._isMatchToAbsoluteNegative(h,n.negative.absolute,t))}_isMatchToAbsoluteNegative(h,n,t){if(n.length===0)return!1;const e=i.path.makeAbsolute(this._settings.cwd,h);return this._isMatchToPatterns(e,n,t)}_isMatchToPatterns(h,n,t){if(n.length===0)return!1;const e=i.pattern.matchAny(h,n);return!e&&t?i.pattern.matchAny(h+"/",n):e}}return Ht.default=s,Ht}var jt={},Cl;function Ag(){if(Cl)return jt;Cl=1,Object.defineProperty(jt,"__esModule",{value:!0});const i=De();class s{constructor(h){this._settings=h}getFilter(){return h=>this._isNonFatalError(h)}_isNonFatalError(h){return i.errno.isEnoentCodeError(h)||this._settings.suppressErrors}}return jt.default=s,jt}var Ut={},Il;function Tg(){if(Il)return Ut;Il=1,Object.defineProperty(Ut,"__esModule",{value:!0});const i=De();class s{constructor(h){this._settings=h}getTransformer(){return h=>this._transform(h)}_transform(h){let n=h.path;return this._settings.absolute&&(n=i.path.makeAbsolute(this._settings.cwd,n),n=i.path.unixify(n)),this._settings.markDirectories&&h.dirent.isDirectory()&&(n+="/"),this._settings.objectMode?Object.assign(Object.assign({},h),{path:n}):n}}return Ut.default=s,Ut}var xl;function so(){if(xl)return qt;xl=1,Object.defineProperty(qt,"__esModule",{value:!0});const i=le,s=Og(),o=bg(),h=Ag(),n=Tg();class t{constructor(r){this._settings=r,this.errorFilter=new h.default(this._settings),this.entryFilter=new o.default(this._settings,this._getMicromatchOptions()),this.deepFilter=new s.default(this._settings,this._getMicromatchOptions()),this.entryTransformer=new n.default(this._settings)}_getRootDirectory(r){return i.resolve(this._settings.cwd,r.base)}_getReaderOptions(r){const u=r.base==="."?"":r.base;return{basePath:u,pathSegmentSeparator:"/",concurrency:this._settings.concurrency,deepFilter:this.deepFilter.getFilter(u,r.positive,r.negative),entryFilter:this.entryFilter.getFilter(r.positive,r.negative),errorFilter:this.errorFilter.getFilter(),followSymbolicLinks:this._settings.followSymbolicLinks,fs:this._settings.fs,stats:this._settings.stats,throwErrorOnBrokenSymbolicLink:this._settings.throwErrorOnBrokenSymbolicLink,transform:this.entryTransformer.getTransformer()}}_getMicromatchOptions(){return{dot:this._settings.dot,matchBase:this._settings.baseNameMatch,nobrace:!this._settings.braceExpansion,nocase:!this._settings.caseSensitiveMatch,noext:!this._settings.extglob,noglobstar:!this._settings.globstar,posix:!0,strictSlashes:!1}}}return qt.default=t,qt}var $l;function Pg(){if($l)return wt;$l=1,Object.defineProperty(wt,"__esModule",{value:!0});const i=Sg(),s=so();class o extends s.default{constructor(){super(...arguments),this._reader=new i.default(this._settings)}async read(n){const t=this._getRootDirectory(n),e=this._getReaderOptions(n);return(await this.api(t,n,e)).map(u=>e.transform(u))}api(n,t,e){return t.dynamic?this._reader.dynamic(n,e):this._reader.static(t.patterns,e)}}return wt.default=o,wt}var Vt={},Nl;function Cg(){if(Nl)return Vt;Nl=1,Object.defineProperty(Vt,"__esModule",{value:!0});const i=ke,s=Wh(),o=so();class h extends o.default{constructor(){super(...arguments),this._reader=new s.default(this._settings)}read(t){const e=this._getRootDirectory(t),r=this._getReaderOptions(t),u=this.api(e,t,r),c=new i.Readable({objectMode:!0,read:()=>{}});return u.once("error",d=>c.emit("error",d)).on("data",d=>c.emit("data",r.transform(d))).once("end",()=>c.emit("end")),c.once("close",()=>u.destroy()),c}api(t,e,r){return e.dynamic?this._reader.dynamic(t,r):this._reader.static(e.patterns,r)}}return Vt.default=h,Vt}var Gt={},Wt={},Dl;function Ig(){if(Dl)return Wt;Dl=1,Object.defineProperty(Wt,"__esModule",{value:!0});const i=Je(),s=no(),o=io();class h extends o.default{constructor(){super(...arguments),this._walkSync=s.walkSync,this._statSync=i.statSync}dynamic(t,e){return this._walkSync(t,e)}static(t,e){const r=[];for(const u of t){const c=this._getFullEntryPath(u),d=this._getEntry(c,u,e);d===null||!e.entryFilter(d)||r.push(d)}return r}_getEntry(t,e,r){try{const u=this._getStat(t);return this._makeEntry(u,e)}catch(u){if(r.errorFilter(u))return null;throw u}}_getStat(t){return this._statSync(t,this._fsStatSettings)}}return Wt.default=h,Wt}var Ll;function xg(){if(Ll)return Gt;Ll=1,Object.defineProperty(Gt,"__esModule",{value:!0});const i=Ig(),s=so();class o extends s.default{constructor(){super(...arguments),this._reader=new i.default(this._settings)}read(n){const t=this._getRootDirectory(n),e=this._getReaderOptions(n);return this.api(t,n,e).map(e.transform)}api(n,t,e){return t.dynamic?this._reader.dynamic(n,e):this._reader.static(t.patterns,e)}}return Gt.default=o,Gt}var ps={},Fl;function $g(){return Fl||(Fl=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.DEFAULT_FILE_SYSTEM_ADAPTER=void 0;const s=ge,h=Math.max(lt.cpus().length,1);i.DEFAULT_FILE_SYSTEM_ADAPTER={lstat:s.lstat,lstatSync:s.lstatSync,stat:s.stat,statSync:s.statSync,readdir:s.readdir,readdirSync:s.readdirSync};class n{constructor(e={}){this._options=e,this.absolute=this._getValue(this._options.absolute,!1),this.baseNameMatch=this._getValue(this._options.baseNameMatch,!1),this.braceExpansion=this._getValue(this._options.braceExpansion,!0),this.caseSensitiveMatch=this._getValue(this._options.caseSensitiveMatch,!0),this.concurrency=this._getValue(this._options.concurrency,h),this.cwd=this._getValue(this._options.cwd,process.cwd()),this.deep=this._getValue(this._options.deep,1/0),this.dot=this._getValue(this._options.dot,!1),this.extglob=this._getValue(this._options.extglob,!0),this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!0),this.fs=this._getFileSystemMethods(this._options.fs),this.globstar=this._getValue(this._options.globstar,!0),this.ignore=this._getValue(this._options.ignore,[]),this.markDirectories=this._getValue(this._options.markDirectories,!1),this.objectMode=this._getValue(this._options.objectMode,!1),this.onlyDirectories=this._getValue(this._options.onlyDirectories,!1),this.onlyFiles=this._getValue(this._options.onlyFiles,!0),this.stats=this._getValue(this._options.stats,!1),this.suppressErrors=this._getValue(this._options.suppressErrors,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!1),this.unique=this._getValue(this._options.unique,!0),this.onlyDirectories&&(this.onlyFiles=!1),this.stats&&(this.objectMode=!0),this.ignore=[].concat(this.ignore)}_getValue(e,r){return e===void 0?r:e}_getFileSystemMethods(e={}){return Object.assign(Object.assign({},i.DEFAULT_FILE_SYSTEM_ADAPTER),e)}}i.default=n}(ps)),ps}var ms,ql;function Ng(){if(ql)return ms;ql=1;const i=rg(),s=Pg(),o=Cg(),h=xg(),n=$g(),t=De();async function e(c,d){u(c);const v=r(c,s.default,d),m=await Promise.all(v);return t.array.flatten(m)}(function(c){c.glob=c,c.globSync=d,c.globStream=v,c.async=c;function d(g,a){u(g);const f=r(g,h.default,a);return t.array.flatten(f)}c.sync=d;function v(g,a){u(g);const f=r(g,o.default,a);return t.stream.merge(f)}c.stream=v;function m(g,a){u(g);const f=[].concat(g),l=new n.default(a);return i.generate(f,l)}c.generateTasks=m;function R(g,a){u(g);const f=new n.default(a);return t.pattern.isDynamicPattern(g,f)}c.isDynamicPattern=R;function w(g){return u(g),t.path.escape(g)}c.escapePath=w;function S(g){return u(g),t.path.convertPathToPattern(g)}c.convertPathToPattern=S,function(g){function a(l){return u(l),t.path.escapePosixPath(l)}g.escapePath=a;function f(l){return u(l),t.path.convertPosixPathToPattern(l)}g.convertPathToPattern=f}(c.posix||(c.posix={})),function(g){function a(l){return u(l),t.path.escapeWindowsPath(l)}g.escapePath=a;function f(l){return u(l),t.path.convertWindowsPathToPattern(l)}g.convertPathToPattern=f}(c.win32||(c.win32={}))})(e||(e={}));function r(c,d,v){const m=[].concat(c),R=new n.default(v),w=i.generate(m,R),S=new d(R);return w.map(S.read,S)}function u(c){if(![].concat(c).every(m=>t.string.isString(m)&&!t.string.isEmpty(m)))throw new TypeError("Patterns must be a string (non empty) or an array of strings")}return ms=e,ms}var Dg=Ng();const Lg=Ae(Dg);var Kt={exports:{}},Fg=Kt.exports,kl;function qg(){return kl||(kl=1,function(i){(function(s,o,h){i.exports?i.exports=h():o[s]=h()})("urljoin",Fg,function(){function s(o){var h=[];if(o.length===0)return"";if(typeof o[0]!="string")throw new TypeError("Url must be a string. Received "+o[0]);if(o[0].match(/^[^/:]+:\/*$/)&&o.length>1){var n=o.shift();o[0]=n+o[0]}o[0].match(/^file:\/\/\//)?o[0]=o[0].replace(/^([^/:]+):\/*/,"$1:///"):o[0]=o[0].replace(/^([^/:]+):\/*/,"$1://");for(var t=0;t<o.length;t++){var e=o[t];if(typeof e!="string")throw new TypeError("Url must be a string. Received "+e);e!==""&&(t>0&&(e=e.replace(/^[\/]+/,"")),t<o.length-1?e=e.replace(/[\/]+$/,""):e=e.replace(/[\/]+$/,"/"),h.push(e))}var r=h.join("/");r=r.replace(/\/(\?|&|#[^!])/g,"$1");var u=r.split("?");return r=u.shift()+(u.length>0?"?":"")+u.join("&"),r}return function(){var o;return typeof arguments[0]=="object"?o=arguments[0]:o=[].slice.call(arguments),s(o)}})}(Kt)),Kt.exports}var kg=qg();const zt=Ae(kg);function Mg(i){return i==="linux"?ge.existsSync("/etc/alpine-release")?"musl":"glibc":i==="darwin"?"libc":i==="win32"?"msvc":"unknown"}var _s={},Ml;function Bg(){return Ml||(Ml=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.DownloaderHelper=i.DH_STATES=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},o=function(){function f(l,_){for(var p,E=0;E<_.length;E++)p=_[E],p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}return function(l,_,p){return _&&f(l.prototype,_),p&&f(l,p),l}}(),h=ge,n=R(h),t=df,e=le,r=R(e),u=pf,c=R(u),d=mf,v=R(d),m=ze;function R(f){if(f&&f.__esModule)return f;var l={};if(f!=null)for(var _ in f)Object.prototype.hasOwnProperty.call(f,_)&&(l[_]=f[_]);return l.default=f,l}function w(f,l){if(!(f instanceof l))throw new TypeError("Cannot call a class as a function")}function S(f,l){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:f}function g(f,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);f.prototype=Object.create(l&&l.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(f,l):f.__proto__=l)}var a=i.DH_STATES={IDLE:"IDLE",SKIPPED:"SKIPPED",STARTED:"STARTED",DOWNLOADING:"DOWNLOADING",RETRY:"RETRY",PAUSED:"PAUSED",RESUMED:"RESUMED",STOPPED:"STOPPED",FINISHED:"FINISHED",FAILED:"FAILED"};i.DownloaderHelper=function(f){function l(_,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{};w(this,l);var y=S(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,{captureRejections:!0}));return y.__validate(_,p)?(y.url=y.requestURL=_.trim(),y.state=a.IDLE,y.__defaultOpts={body:null,retry:!1,method:"GET",headers:{},fileName:"",timeout:-1,metadata:null,override:!1,forceResume:!1,removeOnStop:!0,removeOnFail:!0,progressThrottle:1e3,httpRequestOptions:{},httpsRequestOptions:{},resumeOnIncomplete:!0,resumeIfFileExists:!1,resumeOnIncompleteMaxRetry:5},y.__opts=Object.assign({},y.__defaultOpts),y.__pipes=[],y.__total=0,y.__downloaded=0,y.__progress=0,y.__retryCount=0,y.__retryTimeout=null,y.__resumeRetryCount=0,y.__states=a,y.__promise=null,y.__request=null,y.__response=null,y.__isAborted=!1,y.__isResumed=!1,y.__isResumable=!1,y.__isRedirected=!1,y.__destFolder=p,y.__statsEstimate={time:0,bytes:0,prevBytes:0,throttleTime:0},y.__fileName="",y.__filePath="",y.updateOptions(E),y):S(y)}return g(l,f),o(l,[{key:"start",value:function(){var p=this,E=function(){return new Promise(function(y,b){p.__promise={resolve:y,reject:b},p.__start()})};return this.__opts.resumeIfFileExists&&this.state!==this.__states.RESUMED?this.getTotalSize().then(function(y){var b=y.name,A=y.total,P=p.__opts.override;if(p.__opts.override=!0,p.__filePath=p.__getFilePath(b),p.__opts.override=P,p.__filePath&&n.existsSync(p.__filePath)){var D=p.__getFilesizeInBytes(p.__filePath);return D===A?E():p.resumeFromFile(p.__filePath,{total:A,fileName:b})}return E()}):E()}},{key:"pause",value:function(){var p=this;return this.state===this.__states.STOPPED?Promise.resolve(!0):(this.__response&&(this.__response.unpipe(),this.__pipes.forEach(function(E){return E.stream.unpipe()})),this.__fileStream&&this.__fileStream.removeAllListeners(),this.__requestAbort(),this.__closeFileStream().then(function(){return p.__setState(p.__states.PAUSED),p.emit("pause"),!0}))}},{key:"resume",value:function(){return this.__promise?this.state===this.__states.STOPPED?Promise.resolve(!1):(this.__setState(this.__states.RESUMED),this.__isResumable&&(this.__isResumed=!0,this.__reqOptions.headers.range="bytes="+this.__downloaded+"-"),this.emit("resume",this.__isResumed),this.__start()):this.start()}},{key:"stop",value:function(){var p=this;if(this.state===this.__states.STOPPED)return Promise.resolve(!0);var E=function(){return new Promise(function(y,b){n.access(p.__filePath,function(A){return A?(p.__emitStop(),y(!0)):void n.unlink(p.__filePath,function(P){return P?(p.__setState(p.__states.FAILED),p.emit("error",P),b(P)):(p.__emitStop(),void y(!0))})})})};return this.__requestAbort(),this.__closeFileStream().then(function(){return p.__opts.removeOnStop?E():(p.__emitStop(),Promise.resolve(!0))})}},{key:"pipe",value:function(p){var E=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null;return this.__pipes.push({stream:p,options:E}),p}},{key:"unpipe",value:function(){var p=this,E=0<arguments.length&&arguments[0]!==void 0?arguments[0]:null,y=function(A){return p.__response?p.__response.unpipe(A):A.unpipe()};if(E){var b=this.__pipes.find(function(A){return A.stream===E});return void(b&&(y(E),this.__pipes=this.__pipes.filter(function(A){return A.stream!==E})))}this.__pipes.forEach(function(A){return y(A.stream)}),this.__pipes=[]}},{key:"getDownloadPath",value:function(){return this.__filePath}},{key:"isResumable",value:function(){return this.__isResumable}},{key:"updateOptions",value:function(p){var E=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"";this.__opts=Object.assign({},this.__opts,p),this.__headers=this.__opts.headers,-1<this.__opts.timeout&&(this.__opts.httpRequestOptions.timeout=this.__opts.timeout,this.__opts.httpsRequestOptions.timeout=this.__opts.timeout),(typeof this.__opts.progressThrottle!="number"||0>this.__opts.progressThrottle)&&(this.__opts.progressThrottle=this.__defaultOpts.progressThrottle),this.url=E||this.url,this.__reqOptions=this.__getReqOptions(this.__opts.method,this.url,this.__opts.headers),this.__initProtocol(this.url)}},{key:"getOptions",value:function(){return this.__opts}},{key:"getMetadata",value:function(){return this.__opts.metadata}},{key:"getStats",value:function(){return{total:this.__total,name:this.__fileName,downloaded:this.__downloaded,progress:this.__progress,speed:this.__statsEstimate.bytes}}},{key:"getTotalSize",value:function(){var p=this;return new Promise(function(E,y){var b=function(P){p.__initProtocol(P);var D=Object.assign({},p.__headers);D.hasOwnProperty("range")&&delete D.range;var q=p.__getReqOptions("HEAD",P,D);return Object.assign({},p.__reqOptions,q)},A=function(P,D){var q=p.__protocol.request(D,function($){if(p.__isRequireRedirect($)){var L=/^https?:\/\//.test($.headers.location)?$.headers.location:new t.URL($.headers.location,P).href;return p.emit("redirected",L,P),A(L,b(L))}return $.statusCode===200?void E({name:p.__getFileNameFromHeaders($.headers,$),total:parseInt($.headers["content-length"])||null}):y(new Error("Response status was "+$.statusCode))});q.on("error",function($){return y($)}),q.on("timeout",function(){return y(new Error("timeout"))}),q.on("uncaughtException",function($){return y($)}),q.end()};A(p.url,b(p.url))})}},{key:"getResumeState",value:function(){return{downloaded:this.__downloaded,filePath:this.__filePath,fileName:this.__fileName,total:this.__total}}},{key:"resumeFromFile",value:function(p){var E=this,y=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return this.__opts.override=!0,this.__filePath=p,(y.total&&y.fileName?Promise.resolve({name:y.fileName,total:y.total}):this.getTotalSize()).then(function(b){var A=b.name,P=b.total;return E.__total=y.total||P,E.__fileName=y.fileName||A,E.__downloaded=y.downloaded||E.__getFilesizeInBytes(E.__filePath),E.__reqOptions.headers.range="bytes="+E.__downloaded+"-",E.__isResumed=!0,E.__isResumable=!0,E.__setState(E.__states.RESUMED),E.emit("resume",E.__isResumed),new Promise(function(D,q){E.__promise={resolve:D,reject:q},E.__start()})})}},{key:"__start",value:function(){this.__isRedirected||this.state===this.__states.RESUMED||(this.emit("start"),this.__setState(this.__states.STARTED),this.__initProtocol(this.url)),this.__response=null,this.__isAborted=!1,this.__request&&!this.__request.destroyed&&this.__request.destroy(),this.__retryTimeout&&(clearTimeout(this.__retryTimeout),this.__retryTimeout=null),this.__request=this.__downloadRequest(this.__promise.resolve,this.__promise.reject),this.__request.on("error",this.__onError(this.__promise.resolve,this.__promise.reject)),this.__request.on("timeout",this.__onTimeout(this.__promise.resolve,this.__promise.reject)),this.__request.on("uncaughtException",this.__onError(this.__promise.resolve,this.__promise.reject,!0)),this.__opts.body&&this.__request.write(this.__opts.body),this.__request.end()}},{key:"__resolvePending",value:function(){if(this.__promise){var p=this.__promise.resolve;return this.__promise=null,p(!0)}}},{key:"__downloadRequest",value:function(p,E){var y=this;return this.__protocol.request(this.__reqOptions,function(b){if(y.__response=b,y.__isResumed||(y.__total=parseInt(b.headers["content-length"])||null,y.__resetStats()),y.__isRequireRedirect(b)){var A=/^https?:\/\//.test(b.headers.location)?b.headers.location:new t.URL(b.headers.location,y.url).href;return y.__isRedirected=!0,y.__initProtocol(A),y.emit("redirected",A,y.url),y.__start()}if(b.statusCode!==200&&b.statusCode!==206){var P=new Error("Response status was "+b.statusCode);return P.status=b.statusCode||0,P.body=b.body||"",y.__setState(y.__states.FAILED),y.emit("error",P),E(P)}(y.__opts.forceResume||b.headers.hasOwnProperty("accept-ranges")&&b.headers["accept-ranges"]!=="none")&&(y.__isResumable=!0),y.__startDownload(b,p,E)})}},{key:"__startDownload",value:function(p,E,y){var b=this,A=p;if(this.__isResumed)this.__fileStream=n.createWriteStream(this.__filePath,{flags:"a"});else{var P=this.__getFileNameFromHeaders(p.headers);if(this.__filePath=this.__getFilePath(P),this.__fileName=this.__filePath.split(r.sep).pop(),n.existsSync(this.__filePath)){var D=this.__getFilesizeInBytes(this.__filePath),q=this.__total?this.__total:0;if(s(this.__opts.override)==="object"&&this.__opts.override.skip&&(this.__opts.override.skipSmaller||D>=q))return this.emit("skip",{totalSize:this.__total,fileName:this.__fileName,filePath:this.__filePath,downloadedSize:D}),this.__setState(this.__states.SKIPPED),E(!0)}this.__fileStream=n.createWriteStream(this.__filePath,{})}this.emit("download",{fileName:this.__fileName,filePath:this.__filePath,totalSize:this.__total,isResumed:this.__isResumed,downloadedSize:this.__downloaded}),this.__retryCount=0,this.__isResumed=!1,this.__isRedirected=!1,this.__setState(this.__states.DOWNLOADING),this.__statsEstimate.time=new Date,this.__statsEstimate.throttleTime=new Date,A.on("data",function($){return b.__calculateStats($.length)}),this.__pipes.forEach(function($){A.pipe($.stream,$.options),A=$.stream}),A.pipe(this.__fileStream),A.on("error",this.__onError(E,y)),this.__fileStream.on("finish",this.__onFinished(E,y)),this.__fileStream.on("error",this.__onError(E,y))}},{key:"__hasFinished",value:function(){return!this.__isAborted&&[this.__states.PAUSED,this.__states.STOPPED,this.__states.RETRY,this.__states.FAILED,this.__states.RESUMED].indexOf(this.state)===-1}},{key:"__isRequireRedirect",value:function(p){return 300<p.statusCode&&400>p.statusCode&&p.headers.hasOwnProperty("location")&&p.headers.location}},{key:"__onFinished",value:function(p,E){var y=this;return function(){y.__fileStream.close(function(b){if(b)return E(b);if(y.__hasFinished()){var A=!!y.__total&&y.__downloaded!==y.__total;if(A&&y.__isResumable&&y.__opts.resumeOnIncomplete&&y.__resumeRetryCount<=y.__opts.resumeOnIncompleteMaxRetry)return y.__resumeRetryCount++,y.emit("warning",new Error("uncomplete download, retrying")),y.resume();y.__setState(y.__states.FINISHED),y.__pipes=[],y.emit("end",{fileName:y.__fileName,filePath:y.__filePath,totalSize:y.__total,incomplete:A,onDiskSize:y.__getFilesizeInBytes(y.__filePath),downloadedSize:y.__downloaded})}return p(y.__downloaded===y.__total)})}}},{key:"__closeFileStream",value:function(){var p=this;return this.__fileStream?new Promise(function(E,y){p.__fileStream.close(function(b){return b?y(b):E(!0)})}):Promise.resolve(!0)}},{key:"__onError",value:function(p,E){var y=this,b=2<arguments.length&&arguments[2]!==void 0&&arguments[2];return function(A){return y.__pipes=[],b&&y.__requestAbort(),y.state===y.__states.STOPPED||y.state===y.__states.FAILED?void 0:y.__opts.retry?y.__retry(A).catch(function(P){y.__removeFile().finally(function(){y.__setState(y.__states.FAILED),y.emit("error",P||A),E(P||A)})}):y.__removeFile().finally(function(){y.__setState(y.__states.FAILED),y.emit("error",A),E(A)})}}},{key:"__retry",value:function(){var p=this,E=0<arguments.length&&arguments[0]!==void 0?arguments[0]:null;if(!this.__opts.retry||s(this.__opts.retry)!=="object")return Promise.reject(E||new Error("wrong retry options"));var y=this.__opts.retry,b=y.delay,A=b===void 0?0:b,P=y.maxRetries,D=P===void 0?999:P;return this.__retryCount>=D?Promise.reject(E||new Error("reached the maximum retries")):(this.__retryCount++,this.__setState(this.__states.RETRY),this.emit("retry",this.__retryCount,this.__opts.retry,E),this.__response&&(this.__response.unpipe(),this.__pipes.forEach(function(q){return q.stream.unpipe()})),this.__fileStream&&this.__fileStream.removeAllListeners(),this.__requestAbort(),this.__closeFileStream().then(function(){return new Promise(function(q){return p.__retryTimeout=setTimeout(function(){return q(0<p.__downloaded?p.resume():p.__start())},A)})}))}},{key:"__onTimeout",value:function(p,E){var y=this;return function(){return y.__requestAbort(),y.__opts.retry?y.__retry(new Error("timeout")).catch(function(b){y.__removeFile().finally(function(){y.__setState(y.__states.FAILED),b?E(b):(y.emit("timeout"),E(new Error("timeout")))})}):y.__removeFile().finally(function(){y.__setState(y.__states.FAILED),y.emit("timeout"),E(new Error("timeout"))})}}},{key:"__resetStats",value:function(){this.__retryCount=0,this.__downloaded=0,this.__progress=0,this.__resumeRetryCount=0,this.__statsEstimate={time:0,bytes:0,prevBytes:0,throttleTime:0}}},{key:"__getFileNameFromHeaders",value:function(p,E){var y="",b=/.*filename\*=.*?'.*?'([^"].+?[^"])(?:(?:;)|$)/i,A=/.*filename="(.*?)";?/i,P=/.*filename=([^"].+?[^"])(?:(?:;)|$)/i,D=p.hasOwnProperty("content-disposition"),q=D?p["content-disposition"].match(b):null,$=!D||q?null:p["content-disposition"].match(A),L=!D||q||$?null:p["content-disposition"].match(P);return D&&(q||$||L)?(y=p["content-disposition"],y=y.trim(),q?y=q[1]:$?y=$[1]:L&&(y=L[1]),y=y.replace(/[/\\]/g,"")):0<r.basename(new t.URL(this.requestURL).pathname).length?y=r.basename(new t.URL(this.requestURL).pathname):y=new t.URL(this.requestURL).hostname+".html",this.__opts.fileName?this.__getFileNameFromOpts(y,E):y.replace(/\.*$/,"")}},{key:"__getFilePath",value:function(p){var E=r.join(this.__destFolder,p),y=E;return this.__opts.override||this.state===this.__states.RESUMED||(y=this.__uniqFileNameSync(y),E!==y&&this.emit("renamed",{path:y,fileName:y.split(r.sep).pop(),prevPath:E,prevFileName:E.split(r.sep).pop()})),y}},{key:"__getFileNameFromOpts",value:function(p,E){if(!this.__opts.fileName)return p;if(typeof this.__opts.fileName=="string")return this.__opts.fileName;if(typeof this.__opts.fileName=="function"){var y=r.join(this.__destFolder,p);return E&&E.headers||this.__response&&this.__response.headers?this.__opts.fileName(p,y,(E||this.__response).headers["content-type"]):this.__opts.fileName(p,y)}if(s(this.__opts.fileName)==="object"){var b=this.__opts.fileName,A=b.name,P=!!b.hasOwnProperty("ext")&&b.ext;if(typeof P=="string")return A+"."+P;if(typeof P=="boolean"){if(P)return A;var D=p.includes(".")?p.split(".").pop():"";return D===""?A:A+"."+D}}return p}},{key:"__calculateStats",value:function(p){var E=new Date,y=E-this.__statsEstimate.time,b=E-this.__statsEstimate.throttleTime,A=this.__total||0;p&&(this.__downloaded+=p,this.__progress=A===0?0:100*(this.__downloaded/A),(this.__downloaded===A||1e3<y)&&(this.__statsEstimate.time=E,this.__statsEstimate.bytes=this.__downloaded-this.__statsEstimate.prevBytes,this.__statsEstimate.prevBytes=this.__downloaded),(this.__downloaded===A||b>this.__opts.progressThrottle)&&(this.__statsEstimate.throttleTime=E,this.emit("progress.throttled",this.getStats())),this.emit("progress",this.getStats()))}},{key:"__setState",value:function(p){this.state=p,this.emit("stateChanged",this.state)}},{key:"__getReqOptions",value:function(p,E){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},b=new t.URL(E),A={protocol:b.protocol,host:b.hostname,port:b.port,path:b.pathname+b.search,method:p};return y&&(A.headers=y),A}},{key:"__getFilesizeInBytes",value:function(p){try{var E=n.statSync(p,{throwIfNoEntry:!1}),y=E.size||0;return y}catch(b){this.emit("warning",b)}return 0}},{key:"__validate",value:function(p,E){if(typeof p!="string")throw new Error("URL should be an string");if(p.trim()==="")throw new Error("URL couldn't be empty");if(typeof E!="string")throw new Error("Destination Folder should be an string");if(E.trim()==="")throw new Error("Destination Folder couldn't be empty");if(!n.existsSync(E))throw new Error("Destination Folder must exist");var y=n.statSync(E);if(!y.isDirectory())throw new Error("Destination Folder must be a directory");try{n.accessSync(E,n.constants.W_OK)}catch{throw new Error("Destination Folder must be writable")}return!0}},{key:"__initProtocol",value:function(p){var E=this.__getReqOptions(this.__opts.method,p,this.__headers);this.requestURL=p,-1<p.indexOf("https://")?(this.__protocol=v,E.agent=new v.Agent({keepAlive:!1}),this.__reqOptions=Object.assign({},E,this.__opts.httpsRequestOptions)):(this.__protocol=c,E.agent=new c.Agent({keepAlive:!1}),this.__reqOptions=Object.assign({},E,this.__opts.httpRequestOptions))}},{key:"__uniqFileNameSync",value:function(p){if(typeof p!="string"||p==="")return p;try{n.accessSync(p,n.F_OK);var E=p.match(/(.*)(\([0-9]+\))(\..*)$/),y=E?E[1].trim():p,b=E?parseInt(E[2].replace(/\(|\)/,"")):0,A=p.split(".").pop();return A!==p&&0<A.length?(A="."+A,y=y.replace(A,"")):A="",this.__uniqFileNameSync(y+" ("+ ++b+")"+A)}catch{return p}}},{key:"__removeFile",value:function(){var p=this;return new Promise(function(E){return p.__fileStream?void p.__fileStream.close(function(y){return y&&p.emit("warning",y),p.__opts.removeOnFail?n.access(p.__filePath,function(b){return b?E():void n.unlink(p.__filePath,function(A){A&&p.emit("warning",y),E()})}):void E()}):E()})}},{key:"__requestAbort",value:function(){this.__isAborted=!0,this.__retryTimeout&&(clearTimeout(this.__retryTimeout),this.__retryTimeout=null),this.__response&&this.__response.destroy(),this.__request&&(this.__request.destroy?this.__request.destroy():this.__request.abort())}},{key:"__emitStop",value:function(){this.__resolvePending(),this.__setState(this.__states.STOPPED),this.emit("stop")}}]),l}(m.EventEmitter)}(_s)),_s}var Hg=Bg(),gs,Bl;function jg(){if(Bl)return gs;Bl=1;const i=new Map([["C","cwd"],["f","file"],["z","gzip"],["P","preservePaths"],["U","unlink"],["strip-components","strip"],["stripComponents","strip"],["keep-newer","newer"],["keepNewer","newer"],["keep-newer-files","newer"],["keepNewerFiles","newer"],["k","keep"],["keep-existing","keep"],["keepExisting","keep"],["m","noMtime"],["no-mtime","noMtime"],["p","preserveOwner"],["L","follow"],["h","follow"]]);return gs=s=>s?Object.keys(s).map(o=>[i.has(o)?i.get(o):o,s[o]]).reduce((o,h)=>(o[h[0]]=h[1],o),Object.create(null)):{},gs}var ys,Hl;function Ug(){return Hl||(Hl=1,ys=i=>class extends i{warn(s,o,h={}){this.file&&(h.file=this.file),this.cwd&&(h.cwd=this.cwd),h.code=o instanceof Error&&o.code||s,h.tarCode=s,!this.strict&&h.recoverable!==!1?(o instanceof Error&&(h=Object.assign(o,h),o=o.message),this.emit("warn",h.tarCode,o,h)):o instanceof Error?this.emit("error",Object.assign(o,h)):this.emit("error",Object.assign(new Error(`${s}: ${o}`),h))}}),ys}var vs={},jl;function Vg(){return jl||(jl=1,function(i){i.name=new Map([["0","File"],["","OldFile"],["1","Link"],["2","SymbolicLink"],["3","CharacterDevice"],["4","BlockDevice"],["5","Directory"],["6","FIFO"],["7","ContiguousFile"],["g","GlobalExtendedHeader"],["x","ExtendedHeader"],["A","SolarisACL"],["D","GNUDumpDir"],["I","Inode"],["K","NextFileHasLongLinkpath"],["L","NextFileHasLongPath"],["M","ContinuationFile"],["N","OldGnuLongPath"],["S","SparseFile"],["V","TapeVolumeHeader"],["X","OldExtendedHeader"]]),i.code=new Map(Array.from(i.name).map(s=>[s[1],s[0]]))}(vs)),vs}var Es,Ul;function Gg(){if(Ul)return Es;Ul=1;const i=(u,c)=>{if(Number.isSafeInteger(u))u<0?o(u,c):s(u,c);else throw Error("cannot encode number outside of javascript safe integer range");return c},s=(u,c)=>{c[0]=128;for(var d=c.length;d>1;d--)c[d-1]=u&255,u=Math.floor(u/256)},o=(u,c)=>{c[0]=255;var d=!1;u=u*-1;for(var v=c.length;v>1;v--){var m=u&255;u=Math.floor(u/256),d?c[v-1]=e(m):m===0?c[v-1]=0:(d=!0,c[v-1]=r(m))}},h=u=>{const c=u[0],d=c===128?t(u.slice(1,u.length)):c===255?n(u):null;if(d===null)throw Error("invalid base256 encoding");if(!Number.isSafeInteger(d))throw Error("parsed number outside of javascript safe integer range");return d},n=u=>{for(var c=u.length,d=0,v=!1,m=c-1;m>-1;m--){var R=u[m],w;v?w=e(R):R===0?w=R:(v=!0,w=r(R)),w!==0&&(d-=w*Math.pow(256,c-m-1))}return d},t=u=>{for(var c=u.length,d=0,v=c-1;v>-1;v--){var m=u[v];m!==0&&(d+=m*Math.pow(256,c-v-1))}return d},e=u=>(255^u)&255,r=u=>(255^u)+1&255;return Es={encode:i,parse:h},Es}var Ss,Vl;function zh(){if(Vl)return Ss;Vl=1;const i=Vg(),s=le.posix,o=Gg(),h=Symbol("slurp"),n=Symbol("type");class t{constructor(E,y,b,A){this.cksumValid=!1,this.needPax=!1,this.nullBlock=!1,this.block=null,this.path=null,this.mode=null,this.uid=null,this.gid=null,this.size=null,this.mtime=null,this.cksum=null,this[n]="0",this.linkpath=null,this.uname=null,this.gname=null,this.devmaj=0,this.devmin=0,this.atime=null,this.ctime=null,Buffer.isBuffer(E)?this.decode(E,y||0,b,A):E&&this.set(E)}decode(E,y,b,A){if(y||(y=0),!E||!(E.length>=y+512))throw new Error("need 512 bytes for header");if(this.path=r(E,y,100),this.mode=d(E,y+100,8),this.uid=d(E,y+108,8),this.gid=d(E,y+116,8),this.size=d(E,y+124,12),this.mtime=u(E,y+136,12),this.cksum=d(E,y+148,12),this[h](b),this[h](A,!0),this[n]=r(E,y+156,1),this[n]===""&&(this[n]="0"),this[n]==="0"&&this.path.slice(-1)==="/"&&(this[n]="5"),this[n]==="5"&&(this.size=0),this.linkpath=r(E,y+157,100),E.slice(y+257,y+265).toString()==="ustar\x0000")if(this.uname=r(E,y+265,32),this.gname=r(E,y+297,32),this.devmaj=d(E,y+329,8),this.devmin=d(E,y+337,8),E[y+475]!==0){const D=r(E,y+345,155);this.path=D+"/"+this.path}else{const D=r(E,y+345,130);D&&(this.path=D+"/"+this.path),this.atime=u(E,y+476,12),this.ctime=u(E,y+488,12)}let P=8*32;for(let D=y;D<y+148;D++)P+=E[D];for(let D=y+156;D<y+512;D++)P+=E[D];this.cksumValid=P===this.cksum,this.cksum===null&&P===8*32&&(this.nullBlock=!0)}[h](E,y){for(const b in E)E[b]!==null&&E[b]!==void 0&&!(y&&b==="path")&&(this[b]=E[b])}encode(E,y){if(E||(E=this.block=Buffer.alloc(512),y=0),y||(y=0),!(E.length>=y+512))throw new Error("need 512 bytes for header");const b=this.ctime||this.atime?130:155,A=e(this.path||"",b),P=A[0],D=A[1];this.needPax=A[2],this.needPax=_(E,y,100,P)||this.needPax,this.needPax=w(E,y+100,8,this.mode)||this.needPax,this.needPax=w(E,y+108,8,this.uid)||this.needPax,this.needPax=w(E,y+116,8,this.gid)||this.needPax,this.needPax=w(E,y+124,12,this.size)||this.needPax,this.needPax=f(E,y+136,12,this.mtime)||this.needPax,E[y+156]=this[n].charCodeAt(0),this.needPax=_(E,y+157,100,this.linkpath)||this.needPax,E.write("ustar\x0000",y+257,8),this.needPax=_(E,y+265,32,this.uname)||this.needPax,this.needPax=_(E,y+297,32,this.gname)||this.needPax,this.needPax=w(E,y+329,8,this.devmaj)||this.needPax,this.needPax=w(E,y+337,8,this.devmin)||this.needPax,this.needPax=_(E,y+345,b,D)||this.needPax,E[y+475]!==0?this.needPax=_(E,y+345,155,D)||this.needPax:(this.needPax=_(E,y+345,130,D)||this.needPax,this.needPax=f(E,y+476,12,this.atime)||this.needPax,this.needPax=f(E,y+488,12,this.ctime)||this.needPax);let q=8*32;for(let $=y;$<y+148;$++)q+=E[$];for(let $=y+156;$<y+512;$++)q+=E[$];return this.cksum=q,w(E,y+148,8,this.cksum),this.cksumValid=!0,this.needPax}set(E){for(const y in E)E[y]!==null&&E[y]!==void 0&&(this[y]=E[y])}get type(){return i.name.get(this[n])||this[n]}get typeKey(){return this[n]}set type(E){i.code.has(E)?this[n]=i.code.get(E):this[n]=E}}const e=(p,E)=>{let b=p,A="",P;const D=s.parse(p).root||".";if(Buffer.byteLength(b)<100)P=[b,A,!1];else{A=s.dirname(b),b=s.basename(b);do Buffer.byteLength(b)<=100&&Buffer.byteLength(A)<=E?P=[b,A,!1]:Buffer.byteLength(b)>100&&Buffer.byteLength(A)<=E?P=[b.slice(0,99),A,!0]:(b=s.join(s.basename(A),b),A=s.dirname(A));while(A!==D&&!P);P||(P=[p.slice(0,99),"",!0])}return P},r=(p,E,y)=>p.slice(E,E+y).toString("utf8").replace(/\0.*/,""),u=(p,E,y)=>c(d(p,E,y)),c=p=>p===null?null:new Date(p*1e3),d=(p,E,y)=>p[E]&128?o.parse(p.slice(E,E+y)):m(p,E,y),v=p=>isNaN(p)?null:p,m=(p,E,y)=>v(parseInt(p.slice(E,E+y).toString("utf8").replace(/\0.*$/,"").trim(),8)),R={12:8589934591,8:2097151},w=(p,E,y,b)=>b===null?!1:b>R[y]||b<0?(o.encode(b,p.slice(E,E+y)),!0):(S(p,E,y,b),!1),S=(p,E,y,b)=>p.write(g(b,y),E,y,"ascii"),g=(p,E)=>a(Math.floor(p).toString(8),E),a=(p,E)=>(p.length===E-1?p:new Array(E-p.length-1).join("0")+p+" ")+"\0",f=(p,E,y,b)=>b===null?!1:w(p,E,y,b.getTime()/1e3),l=new Array(156).join("\0"),_=(p,E,y,b)=>b===null?!1:(p.write(b+l,E,y,"utf8"),b.length!==Buffer.byteLength(b)||b.length>y);return Ss=t,Ss}var Rs,Gl;function Wg(){return Gl||(Gl=1,Rs=function(i){i.prototype[Symbol.iterator]=function*(){for(let s=this.head;s;s=s.next)yield s.value}}),Rs}var ws,Wl;function zg(){if(Wl)return ws;Wl=1,ws=i,i.Node=n,i.create=i;function i(t){var e=this;if(e instanceof i||(e=new i),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(c){e.push(c)});else if(arguments.length>0)for(var r=0,u=arguments.length;r<u;r++)e.push(arguments[r]);return e}i.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e},i.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}},i.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}},i.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)o(this,arguments[t]);return this.length},i.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)h(this,arguments[t]);return this.length},i.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}},i.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}},i.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,u=0;r!==null;u++)t.call(e,r.value,u,this),r=r.next},i.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,u=this.length-1;r!==null;u--)t.call(e,r.value,u,this),r=r.prev},i.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value},i.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value},i.prototype.map=function(t,e){e=e||this;for(var r=new i,u=this.head;u!==null;)r.push(t.call(e,u.value,this)),u=u.next;return r},i.prototype.mapReverse=function(t,e){e=e||this;for(var r=new i,u=this.tail;u!==null;)r.push(t.call(e,u.value,this)),u=u.prev;return r},i.prototype.reduce=function(t,e){var r,u=this.head;if(arguments.length>1)r=e;else if(this.head)u=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var c=0;u!==null;c++)r=t(r,u.value,c),u=u.next;return r},i.prototype.reduceReverse=function(t,e){var r,u=this.tail;if(arguments.length>1)r=e;else if(this.tail)u=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var c=this.length-1;u!==null;c--)r=t(r,u.value,c),u=u.prev;return r},i.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t},i.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t},i.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new i;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var u=0,c=this.head;c!==null&&u<t;u++)c=c.next;for(;c!==null&&u<e;u++,c=c.next)r.push(c.value);return r},i.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new i;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var u=this.length,c=this.tail;c!==null&&u>e;u--)c=c.prev;for(;c!==null&&u>t;u--,c=c.prev)r.push(c.value);return r},i.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var u=0,c=this.head;c!==null&&u<t;u++)c=c.next;for(var d=[],u=0;c&&u<e;u++)d.push(c.value),c=this.removeNode(c);c===null&&(c=this.tail),c!==this.head&&c!==this.tail&&(c=c.prev);for(var u=0;u<r.length;u++)c=s(this,c,r[u]);return d},i.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var u=r.prev;r.prev=r.next,r.next=u}return this.head=e,this.tail=t,this};function s(t,e,r){var u=e===t.head?new n(r,null,e,t):new n(r,e,e.next,t);return u.next===null&&(t.tail=u),u.prev===null&&(t.head=u),t.length++,u}function o(t,e){t.tail=new n(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function h(t,e){t.head=new n(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function n(t,e,r,u){if(!(this instanceof n))return new n(t,e,r,u);this.list=u,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{Wg()(i)}catch{}return ws}var Os={},zl;function Yg(){if(zl)return Os;zl=1;const i=typeof process=="object"&&process?process:{stdout:null,stderr:null},s=ze,o=ke,n=_h.StringDecoder,t=Symbol("EOF"),e=Symbol("maybeEmitEnd"),r=Symbol("emittedEnd"),u=Symbol("emittingEnd"),c=Symbol("emittedError"),d=Symbol("closed"),v=Symbol("read"),m=Symbol("flush"),R=Symbol("flushChunk"),w=Symbol("encoding"),S=Symbol("decoder"),g=Symbol("flowing"),a=Symbol("paused"),f=Symbol("resume"),l=Symbol("buffer"),_=Symbol("pipes"),p=Symbol("bufferLength"),E=Symbol("bufferPush"),y=Symbol("bufferShift"),b=Symbol("objectMode"),A=Symbol("destroyed"),P=Symbol("error"),D=Symbol("emitData"),q=Symbol("emitEnd"),$=Symbol("emitEnd2"),L=Symbol("async"),C=Symbol("abort"),I=Symbol("aborted"),M=Symbol("signal"),U=V=>Promise.resolve().then(V),W=$e._MP_NO_ITERATOR_SYMBOLS_!=="1",H=W&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),O=W&&Symbol.iterator||Symbol("iterator not implemented"),x=V=>V==="end"||V==="finish"||V==="prefinish",z=V=>V instanceof ArrayBuffer||typeof V=="object"&&V.constructor&&V.constructor.name==="ArrayBuffer"&&V.byteLength>=0,ee=V=>!Buffer.isBuffer(V)&&ArrayBuffer.isView(V);class k{constructor(F,B,Y){this.src=F,this.dest=B,this.opts=Y,this.ondrain=()=>F[f](),B.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}}class N extends k{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(F,B,Y){super(F,B,Y),this.proxyErrors=J=>B.emit("error",J),F.on("error",this.proxyErrors)}}class j extends o{constructor(F){super(),this[g]=!1,this[a]=!1,this[_]=[],this[l]=[],this[b]=F&&F.objectMode||!1,this[b]?this[w]=null:this[w]=F&&F.encoding||null,this[w]==="buffer"&&(this[w]=null),this[L]=F&&!!F.async||!1,this[S]=this[w]?new n(this[w]):null,this[t]=!1,this[r]=!1,this[u]=!1,this[d]=!1,this[c]=null,this.writable=!0,this.readable=!0,this[p]=0,this[A]=!1,F&&F.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[l]}),F&&F.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[_]}),this[M]=F&&F.signal,this[I]=!1,this[M]&&(this[M].addEventListener("abort",()=>this[C]()),this[M].aborted&&this[C]())}get bufferLength(){return this[p]}get encoding(){return this[w]}set encoding(F){if(this[b])throw new Error("cannot set encoding in objectMode");if(this[w]&&F!==this[w]&&(this[S]&&this[S].lastNeed||this[p]))throw new Error("cannot change encoding");this[w]!==F&&(this[S]=F?new n(F):null,this[l].length&&(this[l]=this[l].map(B=>this[S].write(B)))),this[w]=F}setEncoding(F){this.encoding=F}get objectMode(){return this[b]}set objectMode(F){this[b]=this[b]||!!F}get async(){return this[L]}set async(F){this[L]=this[L]||!!F}[C](){this[I]=!0,this.emit("abort",this[M].reason),this.destroy(this[M].reason)}get aborted(){return this[I]}set aborted(F){}write(F,B,Y){if(this[I])return!1;if(this[t])throw new Error("write after end");if(this[A])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof B=="function"&&(Y=B,B="utf8"),B||(B="utf8");const J=this[L]?U:re=>re();return!this[b]&&!Buffer.isBuffer(F)&&(ee(F)?F=Buffer.from(F.buffer,F.byteOffset,F.byteLength):z(F)?F=Buffer.from(F):typeof F!="string"&&(this.objectMode=!0)),this[b]?(this.flowing&&this[p]!==0&&this[m](!0),this.flowing?this.emit("data",F):this[E](F),this[p]!==0&&this.emit("readable"),Y&&J(Y),this.flowing):F.length?(typeof F=="string"&&!(B===this[w]&&!this[S].lastNeed)&&(F=Buffer.from(F,B)),Buffer.isBuffer(F)&&this[w]&&(F=this[S].write(F)),this.flowing&&this[p]!==0&&this[m](!0),this.flowing?this.emit("data",F):this[E](F),this[p]!==0&&this.emit("readable"),Y&&J(Y),this.flowing):(this[p]!==0&&this.emit("readable"),Y&&J(Y),this.flowing)}read(F){if(this[A])return null;if(this[p]===0||F===0||F>this[p])return this[e](),null;this[b]&&(F=null),this[l].length>1&&!this[b]&&(this.encoding?this[l]=[this[l].join("")]:this[l]=[Buffer.concat(this[l],this[p])]);const B=this[v](F||null,this[l][0]);return this[e](),B}[v](F,B){return F===B.length||F===null?this[y]():(this[l][0]=B.slice(F),B=B.slice(0,F),this[p]-=F),this.emit("data",B),!this[l].length&&!this[t]&&this.emit("drain"),B}end(F,B,Y){return typeof F=="function"&&(Y=F,F=null),typeof B=="function"&&(Y=B,B="utf8"),F&&this.write(F,B),Y&&this.once("end",Y),this[t]=!0,this.writable=!1,(this.flowing||!this[a])&&this[e](),this}[f](){this[A]||(this[a]=!1,this[g]=!0,this.emit("resume"),this[l].length?this[m]():this[t]?this[e]():this.emit("drain"))}resume(){return this[f]()}pause(){this[g]=!1,this[a]=!0}get destroyed(){return this[A]}get flowing(){return this[g]}get paused(){return this[a]}[E](F){this[b]?this[p]+=1:this[p]+=F.length,this[l].push(F)}[y](){return this[b]?this[p]-=1:this[p]-=this[l][0].length,this[l].shift()}[m](F){do;while(this[R](this[y]())&&this[l].length);!F&&!this[l].length&&!this[t]&&this.emit("drain")}[R](F){return this.emit("data",F),this.flowing}pipe(F,B){if(this[A])return;const Y=this[r];return B=B||{},F===i.stdout||F===i.stderr?B.end=!1:B.end=B.end!==!1,B.proxyErrors=!!B.proxyErrors,Y?B.end&&F.end():(this[_].push(B.proxyErrors?new N(this,F,B):new k(this,F,B)),this[L]?U(()=>this[f]()):this[f]()),F}unpipe(F){const B=this[_].find(Y=>Y.dest===F);B&&(this[_].splice(this[_].indexOf(B),1),B.unpipe())}addListener(F,B){return this.on(F,B)}on(F,B){const Y=super.on(F,B);return F==="data"&&!this[_].length&&!this.flowing?this[f]():F==="readable"&&this[p]!==0?super.emit("readable"):x(F)&&this[r]?(super.emit(F),this.removeAllListeners(F)):F==="error"&&this[c]&&(this[L]?U(()=>B.call(this,this[c])):B.call(this,this[c])),Y}get emittedEnd(){return this[r]}[e](){!this[u]&&!this[r]&&!this[A]&&this[l].length===0&&this[t]&&(this[u]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[d]&&this.emit("close"),this[u]=!1)}emit(F,B,...Y){if(F!=="error"&&F!=="close"&&F!==A&&this[A])return;if(F==="data")return!this[b]&&!B?!1:this[L]?U(()=>this[D](B)):this[D](B);if(F==="end")return this[q]();if(F==="close"){if(this[d]=!0,!this[r]&&!this[A])return;const re=super.emit("close");return this.removeAllListeners("close"),re}else if(F==="error"){this[c]=B,super.emit(P,B);const re=!this[M]||this.listeners("error").length?super.emit("error",B):!1;return this[e](),re}else if(F==="resume"){const re=super.emit("resume");return this[e](),re}else if(F==="finish"||F==="prefinish"){const re=super.emit(F);return this.removeAllListeners(F),re}const J=super.emit(F,B,...Y);return this[e](),J}[D](F){for(const Y of this[_])Y.dest.write(F)===!1&&this.pause();const B=super.emit("data",F);return this[e](),B}[q](){this[r]||(this[r]=!0,this.readable=!1,this[L]?U(()=>this[$]()):this[$]())}[$](){if(this[S]){const B=this[S].end();if(B){for(const Y of this[_])Y.dest.write(B);super.emit("data",B)}}for(const B of this[_])B.end();const F=super.emit("end");return this.removeAllListeners("end"),F}collect(){const F=[];this[b]||(F.dataLength=0);const B=this.promise();return this.on("data",Y=>{F.push(Y),this[b]||(F.dataLength+=Y.length)}),B.then(()=>F)}concat(){return this[b]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(F=>this[b]?Promise.reject(new Error("cannot concat in objectMode")):this[w]?F.join(""):Buffer.concat(F,F.dataLength))}promise(){return new Promise((F,B)=>{this.on(A,()=>B(new Error("stream destroyed"))),this.on("error",Y=>B(Y)),this.on("end",()=>F())})}[H](){let F=!1;const B=()=>(this.pause(),F=!0,Promise.resolve({done:!0}));return{next:()=>{if(F)return B();const J=this.read();if(J!==null)return Promise.resolve({done:!1,value:J});if(this[t])return B();let re=null,oe=null;const Z=G=>{this.removeListener("data",T),this.removeListener("end",X),this.removeListener(A,Q),B(),oe(G)},T=G=>{this.removeListener("error",Z),this.removeListener("end",X),this.removeListener(A,Q),this.pause(),re({value:G,done:!!this[t]})},X=()=>{this.removeListener("error",Z),this.removeListener("data",T),this.removeListener(A,Q),B(),re({done:!0})},Q=()=>Z(new Error("stream destroyed"));return new Promise((G,ne)=>{oe=ne,re=G,this.once(A,Q),this.once("error",Z),this.once("end",X),this.once("data",T)})},throw:B,return:B,[H](){return this}}}[O](){let F=!1;const B=()=>(this.pause(),this.removeListener(P,B),this.removeListener(A,B),this.removeListener("end",B),F=!0,{done:!0}),Y=()=>{if(F)return B();const J=this.read();return J===null?B():{value:J}};return this.once("end",B),this.once(P,B),this.once(A,B),{next:Y,throw:B,return:B,[O](){return this}}}destroy(F){return this[A]?(F?this.emit("error",F):this.emit(A),this):(this[A]=!0,this[l].length=0,this[p]=0,typeof this.close=="function"&&!this[d]&&this.close(),F?this.emit("error",F):this.emit(A),this)}static isStream(F){return!!F&&(F instanceof j||F instanceof o||F instanceof s&&(typeof F.pipe=="function"||typeof F.write=="function"&&typeof F.end=="function"))}}return Os.Minipass=j,Os}var bs,Yl;function oo(){return Yl||(Yl=1,bs=(process.env.TESTING_TAR_FAKE_PLATFORM||process.platform)!=="win32"?s=>s:s=>s&&s.replace(/\\/g,"/")),bs}var As,Kl;function Kg(){if(Kl)return As;Kl=1;const{Minipass:i}=Yg(),s=oo(),o=Symbol("slurp");return As=class extends i{constructor(n,t,e){switch(super(),this.pause(),this.extended=t,this.globalExtended=e,this.header=n,this.startBlockSize=512*Math.ceil(n.size/512),this.blockRemain=this.startBlockSize,this.remain=n.size,this.type=n.type,this.meta=!1,this.ignore=!1,this.type){case"File":case"OldFile":case"Link":case"SymbolicLink":case"CharacterDevice":case"BlockDevice":case"Directory":case"FIFO":case"ContiguousFile":case"GNUDumpDir":break;case"NextFileHasLongLinkpath":case"NextFileHasLongPath":case"OldGnuLongPath":case"GlobalExtendedHeader":case"ExtendedHeader":case"OldExtendedHeader":this.meta=!0;break;default:this.ignore=!0}this.path=s(n.path),this.mode=n.mode,this.mode&&(this.mode=this.mode&4095),this.uid=n.uid,this.gid=n.gid,this.uname=n.uname,this.gname=n.gname,this.size=n.size,this.mtime=n.mtime,this.atime=n.atime,this.ctime=n.ctime,this.linkpath=s(n.linkpath),this.uname=n.uname,this.gname=n.gname,t&&this[o](t),e&&this[o](e,!0)}write(n){const t=n.length;if(t>this.blockRemain)throw new Error("writing more to entry than is appropriate");const e=this.remain,r=this.blockRemain;return this.remain=Math.max(0,e-t),this.blockRemain=Math.max(0,r-t),this.ignore?!0:e>=t?super.write(n):super.write(n.slice(0,e))}[o](n,t){for(const e in n)n[e]!==null&&n[e]!==void 0&&!(t&&e==="path")&&(this[e]=e==="path"||e==="linkpath"?s(n[e]):n[e])}},As}var Ts,Xl;function Xg(){if(Xl)return Ts;Xl=1;const i=zh(),s=le;class o{constructor(r,u){this.atime=r.atime||null,this.charset=r.charset||null,this.comment=r.comment||null,this.ctime=r.ctime||null,this.gid=r.gid||null,this.gname=r.gname||null,this.linkpath=r.linkpath||null,this.mtime=r.mtime||null,this.path=r.path||null,this.size=r.size||null,this.uid=r.uid||null,this.uname=r.uname||null,this.dev=r.dev||null,this.ino=r.ino||null,this.nlink=r.nlink||null,this.global=u||!1}encode(){const r=this.encodeBody();if(r==="")return null;const u=Buffer.byteLength(r),c=512*Math.ceil(1+u/512),d=Buffer.allocUnsafe(c);for(let v=0;v<512;v++)d[v]=0;new i({path:("PaxHeader/"+s.basename(this.path)).slice(0,99),mode:this.mode||420,uid:this.uid||null,gid:this.gid||null,size:u,mtime:this.mtime||null,type:this.global?"GlobalExtendedHeader":"ExtendedHeader",linkpath:"",uname:this.uname||"",gname:this.gname||"",devmaj:0,devmin:0,atime:this.atime||null,ctime:this.ctime||null}).encode(d),d.write(r,512,u,"utf8");for(let v=u+512;v<d.length;v++)d[v]=0;return d}encodeBody(){return this.encodeField("path")+this.encodeField("ctime")+this.encodeField("atime")+this.encodeField("dev")+this.encodeField("ino")+this.encodeField("nlink")+this.encodeField("charset")+this.encodeField("comment")+this.encodeField("gid")+this.encodeField("gname")+this.encodeField("linkpath")+this.encodeField("mtime")+this.encodeField("size")+this.encodeField("uid")+this.encodeField("uname")}encodeField(r){if(this[r]===null||this[r]===void 0)return"";const u=this[r]instanceof Date?this[r].getTime()/1e3:this[r],c=" "+(r==="dev"||r==="ino"||r==="nlink"?"SCHILY.":"")+r+"="+u+`
`,d=Buffer.byteLength(c);let v=Math.floor(Math.log(d)/Math.log(10))+1;return d+v>=Math.pow(10,v)&&(v+=1),v+d+c}}o.parse=(e,r,u)=>new o(h(n(e),r),u);const h=(e,r)=>r?Object.keys(e).reduce((u,c)=>(u[c]=e[c],u),r):e,n=e=>e.replace(/\n$/,"").split(`
`).reduce(t,Object.create(null)),t=(e,r)=>{const u=parseInt(r,10);if(u!==Buffer.byteLength(r)+1)return e;r=r.slice((u+" ").length);const c=r.split("="),d=c.shift().replace(/^SCHILY\.(dev|ino|nlink)/,"$1");if(!d)return e;const v=c.join("=");return e[d]=/^([A-Z]+\.)?([mac]|birth|creation)time$/.test(d)?new Date(v*1e3):/^[0-9]+$/.test(v)?+v:v,e};return Ts=o,Ts}var ve={},Ps,Zl;function Zg(){if(Zl)return Ps;Zl=1;const i=gh.constants||{ZLIB_VERNUM:4736};return Ps=Object.freeze(Object.assign(Object.create(null),{Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_VERSION_ERROR:-6,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,DEFLATE:1,INFLATE:2,GZIP:3,GUNZIP:4,DEFLATERAW:5,INFLATERAW:6,UNZIP:7,BROTLI_DECODE:8,BROTLI_ENCODE:9,Z_MIN_WINDOWBITS:8,Z_MAX_WINDOWBITS:15,Z_DEFAULT_WINDOWBITS:15,Z_MIN_CHUNK:64,Z_MAX_CHUNK:1/0,Z_DEFAULT_CHUNK:16384,Z_MIN_MEMLEVEL:1,Z_MAX_MEMLEVEL:9,Z_DEFAULT_MEMLEVEL:8,Z_MIN_LEVEL:-1,Z_MAX_LEVEL:9,Z_DEFAULT_LEVEL:-1,BROTLI_OPERATION_PROCESS:0,BROTLI_OPERATION_FLUSH:1,BROTLI_OPERATION_FINISH:2,BROTLI_OPERATION_EMIT_METADATA:3,BROTLI_MODE_GENERIC:0,BROTLI_MODE_TEXT:1,BROTLI_MODE_FONT:2,BROTLI_DEFAULT_MODE:0,BROTLI_MIN_QUALITY:0,BROTLI_MAX_QUALITY:11,BROTLI_DEFAULT_QUALITY:11,BROTLI_MIN_WINDOW_BITS:10,BROTLI_MAX_WINDOW_BITS:24,BROTLI_LARGE_MAX_WINDOW_BITS:30,BROTLI_DEFAULT_WINDOW:22,BROTLI_MIN_INPUT_BLOCK_BITS:16,BROTLI_MAX_INPUT_BLOCK_BITS:24,BROTLI_PARAM_MODE:0,BROTLI_PARAM_QUALITY:1,BROTLI_PARAM_LGWIN:2,BROTLI_PARAM_LGBLOCK:3,BROTLI_PARAM_DISABLE_LITERAL_CONTEXT_MODELING:4,BROTLI_PARAM_SIZE_HINT:5,BROTLI_PARAM_LARGE_WINDOW:6,BROTLI_PARAM_NPOSTFIX:7,BROTLI_PARAM_NDIRECT:8,BROTLI_DECODER_RESULT_ERROR:0,BROTLI_DECODER_RESULT_SUCCESS:1,BROTLI_DECODER_RESULT_NEEDS_MORE_INPUT:2,BROTLI_DECODER_RESULT_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_PARAM_DISABLE_RING_BUFFER_REALLOCATION:0,BROTLI_DECODER_PARAM_LARGE_WINDOW:1,BROTLI_DECODER_NO_ERROR:0,BROTLI_DECODER_SUCCESS:1,BROTLI_DECODER_NEEDS_MORE_INPUT:2,BROTLI_DECODER_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_NIBBLE:-1,BROTLI_DECODER_ERROR_FORMAT_RESERVED:-2,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_META_NIBBLE:-3,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_ALPHABET:-4,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_SAME:-5,BROTLI_DECODER_ERROR_FORMAT_CL_SPACE:-6,BROTLI_DECODER_ERROR_FORMAT_HUFFMAN_SPACE:-7,BROTLI_DECODER_ERROR_FORMAT_CONTEXT_MAP_REPEAT:-8,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_1:-9,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_2:-10,BROTLI_DECODER_ERROR_FORMAT_TRANSFORM:-11,BROTLI_DECODER_ERROR_FORMAT_DICTIONARY:-12,BROTLI_DECODER_ERROR_FORMAT_WINDOW_BITS:-13,BROTLI_DECODER_ERROR_FORMAT_PADDING_1:-14,BROTLI_DECODER_ERROR_FORMAT_PADDING_2:-15,BROTLI_DECODER_ERROR_FORMAT_DISTANCE:-16,BROTLI_DECODER_ERROR_DICTIONARY_NOT_SET:-19,BROTLI_DECODER_ERROR_INVALID_ARGUMENTS:-20,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MODES:-21,BROTLI_DECODER_ERROR_ALLOC_TREE_GROUPS:-22,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MAP:-25,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_1:-26,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_2:-27,BROTLI_DECODER_ERROR_ALLOC_BLOCK_TYPE_TREES:-30,BROTLI_DECODER_ERROR_UNREACHABLE:-31},i)),Ps}var Cs,Jl;function Kh(){if(Jl)return Cs;Jl=1;const i=typeof process=="object"&&process?process:{stdout:null,stderr:null},s=ze,o=ke,h=_h.StringDecoder,n=Symbol("EOF"),t=Symbol("maybeEmitEnd"),e=Symbol("emittedEnd"),r=Symbol("emittingEnd"),u=Symbol("emittedError"),c=Symbol("closed"),d=Symbol("read"),v=Symbol("flush"),m=Symbol("flushChunk"),R=Symbol("encoding"),w=Symbol("decoder"),S=Symbol("flowing"),g=Symbol("paused"),a=Symbol("resume"),f=Symbol("bufferLength"),l=Symbol("bufferPush"),_=Symbol("bufferShift"),p=Symbol("objectMode"),E=Symbol("destroyed"),y=Symbol("emitData"),b=Symbol("emitEnd"),A=Symbol("emitEnd2"),P=Symbol("async"),D=H=>Promise.resolve().then(H),q=$e._MP_NO_ITERATOR_SYMBOLS_!=="1",$=q&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),L=q&&Symbol.iterator||Symbol("iterator not implemented"),C=H=>H==="end"||H==="finish"||H==="prefinish",I=H=>H instanceof ArrayBuffer||typeof H=="object"&&H.constructor&&H.constructor.name==="ArrayBuffer"&&H.byteLength>=0,M=H=>!Buffer.isBuffer(H)&&ArrayBuffer.isView(H);class U{constructor(O,x,z){this.src=O,this.dest=x,this.opts=z,this.ondrain=()=>O[a](),x.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}}class W extends U{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(O,x,z){super(O,x,z),this.proxyErrors=ee=>x.emit("error",ee),O.on("error",this.proxyErrors)}}return Cs=class Yh extends o{constructor(O){super(),this[S]=!1,this[g]=!1,this.pipes=[],this.buffer=[],this[p]=O&&O.objectMode||!1,this[p]?this[R]=null:this[R]=O&&O.encoding||null,this[R]==="buffer"&&(this[R]=null),this[P]=O&&!!O.async||!1,this[w]=this[R]?new h(this[R]):null,this[n]=!1,this[e]=!1,this[r]=!1,this[c]=!1,this[u]=null,this.writable=!0,this.readable=!0,this[f]=0,this[E]=!1}get bufferLength(){return this[f]}get encoding(){return this[R]}set encoding(O){if(this[p])throw new Error("cannot set encoding in objectMode");if(this[R]&&O!==this[R]&&(this[w]&&this[w].lastNeed||this[f]))throw new Error("cannot change encoding");this[R]!==O&&(this[w]=O?new h(O):null,this.buffer.length&&(this.buffer=this.buffer.map(x=>this[w].write(x)))),this[R]=O}setEncoding(O){this.encoding=O}get objectMode(){return this[p]}set objectMode(O){this[p]=this[p]||!!O}get async(){return this[P]}set async(O){this[P]=this[P]||!!O}write(O,x,z){if(this[n])throw new Error("write after end");if(this[E])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof x=="function"&&(z=x,x="utf8"),x||(x="utf8");const ee=this[P]?D:k=>k();return!this[p]&&!Buffer.isBuffer(O)&&(M(O)?O=Buffer.from(O.buffer,O.byteOffset,O.byteLength):I(O)?O=Buffer.from(O):typeof O!="string"&&(this.objectMode=!0)),this[p]?(this.flowing&&this[f]!==0&&this[v](!0),this.flowing?this.emit("data",O):this[l](O),this[f]!==0&&this.emit("readable"),z&&ee(z),this.flowing):O.length?(typeof O=="string"&&!(x===this[R]&&!this[w].lastNeed)&&(O=Buffer.from(O,x)),Buffer.isBuffer(O)&&this[R]&&(O=this[w].write(O)),this.flowing&&this[f]!==0&&this[v](!0),this.flowing?this.emit("data",O):this[l](O),this[f]!==0&&this.emit("readable"),z&&ee(z),this.flowing):(this[f]!==0&&this.emit("readable"),z&&ee(z),this.flowing)}read(O){if(this[E])return null;if(this[f]===0||O===0||O>this[f])return this[t](),null;this[p]&&(O=null),this.buffer.length>1&&!this[p]&&(this.encoding?this.buffer=[this.buffer.join("")]:this.buffer=[Buffer.concat(this.buffer,this[f])]);const x=this[d](O||null,this.buffer[0]);return this[t](),x}[d](O,x){return O===x.length||O===null?this[_]():(this.buffer[0]=x.slice(O),x=x.slice(0,O),this[f]-=O),this.emit("data",x),!this.buffer.length&&!this[n]&&this.emit("drain"),x}end(O,x,z){return typeof O=="function"&&(z=O,O=null),typeof x=="function"&&(z=x,x="utf8"),O&&this.write(O,x),z&&this.once("end",z),this[n]=!0,this.writable=!1,(this.flowing||!this[g])&&this[t](),this}[a](){this[E]||(this[g]=!1,this[S]=!0,this.emit("resume"),this.buffer.length?this[v]():this[n]?this[t]():this.emit("drain"))}resume(){return this[a]()}pause(){this[S]=!1,this[g]=!0}get destroyed(){return this[E]}get flowing(){return this[S]}get paused(){return this[g]}[l](O){this[p]?this[f]+=1:this[f]+=O.length,this.buffer.push(O)}[_](){return this.buffer.length&&(this[p]?this[f]-=1:this[f]-=this.buffer[0].length),this.buffer.shift()}[v](O){do;while(this[m](this[_]()));!O&&!this.buffer.length&&!this[n]&&this.emit("drain")}[m](O){return O?(this.emit("data",O),this.flowing):!1}pipe(O,x){if(this[E])return;const z=this[e];return x=x||{},O===i.stdout||O===i.stderr?x.end=!1:x.end=x.end!==!1,x.proxyErrors=!!x.proxyErrors,z?x.end&&O.end():(this.pipes.push(x.proxyErrors?new W(this,O,x):new U(this,O,x)),this[P]?D(()=>this[a]()):this[a]()),O}unpipe(O){const x=this.pipes.find(z=>z.dest===O);x&&(this.pipes.splice(this.pipes.indexOf(x),1),x.unpipe())}addListener(O,x){return this.on(O,x)}on(O,x){const z=super.on(O,x);return O==="data"&&!this.pipes.length&&!this.flowing?this[a]():O==="readable"&&this[f]!==0?super.emit("readable"):C(O)&&this[e]?(super.emit(O),this.removeAllListeners(O)):O==="error"&&this[u]&&(this[P]?D(()=>x.call(this,this[u])):x.call(this,this[u])),z}get emittedEnd(){return this[e]}[t](){!this[r]&&!this[e]&&!this[E]&&this.buffer.length===0&&this[n]&&(this[r]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[c]&&this.emit("close"),this[r]=!1)}emit(O,x,...z){if(O!=="error"&&O!=="close"&&O!==E&&this[E])return;if(O==="data")return x?this[P]?D(()=>this[y](x)):this[y](x):!1;if(O==="end")return this[b]();if(O==="close"){if(this[c]=!0,!this[e]&&!this[E])return;const k=super.emit("close");return this.removeAllListeners("close"),k}else if(O==="error"){this[u]=x;const k=super.emit("error",x);return this[t](),k}else if(O==="resume"){const k=super.emit("resume");return this[t](),k}else if(O==="finish"||O==="prefinish"){const k=super.emit(O);return this.removeAllListeners(O),k}const ee=super.emit(O,x,...z);return this[t](),ee}[y](O){for(const z of this.pipes)z.dest.write(O)===!1&&this.pause();const x=super.emit("data",O);return this[t](),x}[b](){this[e]||(this[e]=!0,this.readable=!1,this[P]?D(()=>this[A]()):this[A]())}[A](){if(this[w]){const x=this[w].end();if(x){for(const z of this.pipes)z.dest.write(x);super.emit("data",x)}}for(const x of this.pipes)x.end();const O=super.emit("end");return this.removeAllListeners("end"),O}collect(){const O=[];this[p]||(O.dataLength=0);const x=this.promise();return this.on("data",z=>{O.push(z),this[p]||(O.dataLength+=z.length)}),x.then(()=>O)}concat(){return this[p]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(O=>this[p]?Promise.reject(new Error("cannot concat in objectMode")):this[R]?O.join(""):Buffer.concat(O,O.dataLength))}promise(){return new Promise((O,x)=>{this.on(E,()=>x(new Error("stream destroyed"))),this.on("error",z=>x(z)),this.on("end",()=>O())})}[$](){return{next:()=>{const x=this.read();if(x!==null)return Promise.resolve({done:!1,value:x});if(this[n])return Promise.resolve({done:!0});let z=null,ee=null;const k=F=>{this.removeListener("data",N),this.removeListener("end",j),ee(F)},N=F=>{this.removeListener("error",k),this.removeListener("end",j),this.pause(),z({value:F,done:!!this[n]})},j=()=>{this.removeListener("error",k),this.removeListener("data",N),z({done:!0})},V=()=>k(new Error("stream destroyed"));return new Promise((F,B)=>{ee=B,z=F,this.once(E,V),this.once("error",k),this.once("end",j),this.once("data",N)})}}}[L](){return{next:()=>{const x=this.read();return{value:x,done:x===null}}}}destroy(O){return this[E]?(O?this.emit("error",O):this.emit(E),this):(this[E]=!0,this.buffer.length=0,this[f]=0,typeof this.close=="function"&&!this[c]&&this.close(),O?this.emit("error",O):this.emit(E),this)}static isStream(O){return!!O&&(O instanceof Yh||O instanceof o||O instanceof s&&(typeof O.pipe=="function"||typeof O.write=="function"&&typeof O.end=="function"))}},Cs}var Ql;function Jg(){if(Ql)return ve;Ql=1;const i=ct,s=_f.Buffer,o=gh,h=ve.constants=Zg(),n=Kh(),t=s.concat,e=Symbol("_superWrite");class r extends Error{constructor(I){super("zlib: "+I.message),this.code=I.code,this.errno=I.errno,this.code||(this.code="ZLIB_ERROR"),this.message="zlib: "+I.message,Error.captureStackTrace(this,this.constructor)}get name(){return"ZlibError"}}const u=Symbol("opts"),c=Symbol("flushFlag"),d=Symbol("finishFlushFlag"),v=Symbol("fullFlushFlag"),m=Symbol("handle"),R=Symbol("onError"),w=Symbol("sawError"),S=Symbol("level"),g=Symbol("strategy"),a=Symbol("ended");class f extends n{constructor(I,M){if(!I||typeof I!="object")throw new TypeError("invalid options for ZlibBase constructor");super(I),this[w]=!1,this[a]=!1,this[u]=I,this[c]=I.flush,this[d]=I.finishFlush;try{this[m]=new o[M](I)}catch(U){throw new r(U)}this[R]=U=>{this[w]||(this[w]=!0,this.close(),this.emit("error",U))},this[m].on("error",U=>this[R](new r(U))),this.once("end",()=>this.close)}close(){this[m]&&(this[m].close(),this[m]=null,this.emit("close"))}reset(){if(!this[w])return i(this[m],"zlib binding closed"),this[m].reset()}flush(I){this.ended||(typeof I!="number"&&(I=this[v]),this.write(Object.assign(s.alloc(0),{[c]:I})))}end(I,M,U){return I&&this.write(I,M),this.flush(this[d]),this[a]=!0,super.end(null,null,U)}get ended(){return this[a]}write(I,M,U){if(typeof M=="function"&&(U=M,M="utf8"),typeof I=="string"&&(I=s.from(I,M)),this[w])return;i(this[m],"zlib binding closed");const W=this[m]._handle,H=W.close;W.close=()=>{};const O=this[m].close;this[m].close=()=>{},s.concat=ee=>ee;let x;try{const ee=typeof I[c]=="number"?I[c]:this[c];x=this[m]._processChunk(I,ee),s.concat=t}catch(ee){s.concat=t,this[R](new r(ee))}finally{this[m]&&(this[m]._handle=W,W.close=H,this[m].close=O,this[m].removeAllListeners("error"))}this[m]&&this[m].on("error",ee=>this[R](new r(ee)));let z;if(x)if(Array.isArray(x)&&x.length>0){z=this[e](s.from(x[0]));for(let ee=1;ee<x.length;ee++)z=this[e](x[ee])}else z=this[e](s.from(x));return U&&U(),z}[e](I){return super.write(I)}}class l extends f{constructor(I,M){I=I||{},I.flush=I.flush||h.Z_NO_FLUSH,I.finishFlush=I.finishFlush||h.Z_FINISH,super(I,M),this[v]=h.Z_FULL_FLUSH,this[S]=I.level,this[g]=I.strategy}params(I,M){if(!this[w]){if(!this[m])throw new Error("cannot switch params when binding is closed");if(!this[m].params)throw new Error("not supported in this implementation");if(this[S]!==I||this[g]!==M){this.flush(h.Z_SYNC_FLUSH),i(this[m],"zlib binding closed");const U=this[m].flush;this[m].flush=(W,H)=>{this.flush(W),H()};try{this[m].params(I,M)}finally{this[m].flush=U}this[m]&&(this[S]=I,this[g]=M)}}}}class _ extends l{constructor(I){super(I,"Deflate")}}class p extends l{constructor(I){super(I,"Inflate")}}const E=Symbol("_portable");class y extends l{constructor(I){super(I,"Gzip"),this[E]=I&&!!I.portable}[e](I){return this[E]?(this[E]=!1,I[9]=255,super[e](I)):super[e](I)}}class b extends l{constructor(I){super(I,"Gunzip")}}class A extends l{constructor(I){super(I,"DeflateRaw")}}class P extends l{constructor(I){super(I,"InflateRaw")}}class D extends l{constructor(I){super(I,"Unzip")}}class q extends f{constructor(I,M){I=I||{},I.flush=I.flush||h.BROTLI_OPERATION_PROCESS,I.finishFlush=I.finishFlush||h.BROTLI_OPERATION_FINISH,super(I,M),this[v]=h.BROTLI_OPERATION_FLUSH}}class $ extends q{constructor(I){super(I,"BrotliCompress")}}class L extends q{constructor(I){super(I,"BrotliDecompress")}}return ve.Deflate=_,ve.Inflate=p,ve.Gzip=y,ve.Gunzip=b,ve.DeflateRaw=A,ve.InflateRaw=P,ve.Unzip=D,typeof o.BrotliCompress=="function"?(ve.BrotliCompress=$,ve.BrotliDecompress=L):ve.BrotliCompress=ve.BrotliDecompress=class{constructor(){throw new Error("Brotli is not supported in this version of Node.js")}},ve}var Is,eh;function Qg(){if(eh)return Is;eh=1;const i=Ug(),s=zh(),o=ze,h=zg(),n=1024*1024,t=Kg(),e=Xg(),r=Jg(),{nextTick:u}=gf,c=Buffer.from([31,139]),d=Symbol("state"),v=Symbol("writeEntry"),m=Symbol("readEntry"),R=Symbol("nextEntry"),w=Symbol("processEntry"),S=Symbol("extendedHeader"),g=Symbol("globalExtendedHeader"),a=Symbol("meta"),f=Symbol("emitMeta"),l=Symbol("buffer"),_=Symbol("queue"),p=Symbol("ended"),E=Symbol("emittedEnd"),y=Symbol("emit"),b=Symbol("unzip"),A=Symbol("consumeChunk"),P=Symbol("consumeChunkSub"),D=Symbol("consumeBody"),q=Symbol("consumeMeta"),$=Symbol("consumeHeader"),L=Symbol("consuming"),C=Symbol("bufferConcat"),I=Symbol("maybeEnd"),M=Symbol("writing"),U=Symbol("aborted"),W=Symbol("onDone"),H=Symbol("sawValidEntry"),O=Symbol("sawNullBlock"),x=Symbol("sawEOF"),z=Symbol("closeStream"),ee=k=>!0;return Is=i(class extends o{constructor(N){N=N||{},super(N),this.file=N.file||"",this[H]=null,this.on(W,V=>{(this[d]==="begin"||this[H]===!1)&&this.warn("TAR_BAD_ARCHIVE","Unrecognized archive format")}),N.ondone?this.on(W,N.ondone):this.on(W,V=>{this.emit("prefinish"),this.emit("finish"),this.emit("end")}),this.strict=!!N.strict,this.maxMetaEntrySize=N.maxMetaEntrySize||n,this.filter=typeof N.filter=="function"?N.filter:ee;const j=N.file&&(N.file.endsWith(".tar.br")||N.file.endsWith(".tbr"));this.brotli=!N.gzip&&N.brotli!==void 0?N.brotli:j?void 0:!1,this.writable=!0,this.readable=!1,this[_]=new h,this[l]=null,this[m]=null,this[v]=null,this[d]="begin",this[a]="",this[S]=null,this[g]=null,this[p]=!1,this[b]=null,this[U]=!1,this[O]=!1,this[x]=!1,this.on("end",()=>this[z]()),typeof N.onwarn=="function"&&this.on("warn",N.onwarn),typeof N.onentry=="function"&&this.on("entry",N.onentry)}[$](N,j){this[H]===null&&(this[H]=!1);let V;try{V=new s(N,j,this[S],this[g])}catch(F){return this.warn("TAR_ENTRY_INVALID",F)}if(V.nullBlock)this[O]?(this[x]=!0,this[d]==="begin"&&(this[d]="header"),this[y]("eof")):(this[O]=!0,this[y]("nullBlock"));else if(this[O]=!1,!V.cksumValid)this.warn("TAR_ENTRY_INVALID","checksum failure",{header:V});else if(!V.path)this.warn("TAR_ENTRY_INVALID","path is required",{header:V});else{const F=V.type;if(/^(Symbolic)?Link$/.test(F)&&!V.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath required",{header:V});else if(!/^(Symbolic)?Link$/.test(F)&&V.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath forbidden",{header:V});else{const B=this[v]=new t(V,this[S],this[g]);if(!this[H])if(B.remain){const Y=()=>{B.invalid||(this[H]=!0)};B.on("end",Y)}else this[H]=!0;B.meta?B.size>this.maxMetaEntrySize?(B.ignore=!0,this[y]("ignoredEntry",B),this[d]="ignore",B.resume()):B.size>0&&(this[a]="",B.on("data",Y=>this[a]+=Y),this[d]="meta"):(this[S]=null,B.ignore=B.ignore||!this.filter(B.path,B),B.ignore?(this[y]("ignoredEntry",B),this[d]=B.remain?"ignore":"header",B.resume()):(B.remain?this[d]="body":(this[d]="header",B.end()),this[m]?this[_].push(B):(this[_].push(B),this[R]())))}}}[z](){u(()=>this.emit("close"))}[w](N){let j=!0;return N?Array.isArray(N)?this.emit.apply(this,N):(this[m]=N,this.emit("entry",N),N.emittedEnd||(N.on("end",V=>this[R]()),j=!1)):(this[m]=null,j=!1),j}[R](){do;while(this[w](this[_].shift()));if(!this[_].length){const N=this[m];!N||N.flowing||N.size===N.remain?this[M]||this.emit("drain"):N.once("drain",V=>this.emit("drain"))}}[D](N,j){const V=this[v],F=V.blockRemain,B=F>=N.length&&j===0?N:N.slice(j,j+F);return V.write(B),V.blockRemain||(this[d]="header",this[v]=null,V.end()),B.length}[q](N,j){const V=this[v],F=this[D](N,j);return this[v]||this[f](V),F}[y](N,j,V){!this[_].length&&!this[m]?this.emit(N,j,V):this[_].push([N,j,V])}[f](N){switch(this[y]("meta",this[a]),N.type){case"ExtendedHeader":case"OldExtendedHeader":this[S]=e.parse(this[a],this[S],!1);break;case"GlobalExtendedHeader":this[g]=e.parse(this[a],this[g],!0);break;case"NextFileHasLongPath":case"OldGnuLongPath":this[S]=this[S]||Object.create(null),this[S].path=this[a].replace(/\0.*/,"");break;case"NextFileHasLongLinkpath":this[S]=this[S]||Object.create(null),this[S].linkpath=this[a].replace(/\0.*/,"");break;default:throw new Error("unknown meta: "+N.type)}}abort(N){this[U]=!0,this.emit("abort",N),this.warn("TAR_ABORT",N,{recoverable:!1})}write(N){if(this[U])return;if((this[b]===null||this.brotli===void 0&&this[b]===!1)&&N){if(this[l]&&(N=Buffer.concat([this[l],N]),this[l]=null),N.length<c.length)return this[l]=N,!0;for(let B=0;this[b]===null&&B<c.length;B++)N[B]!==c[B]&&(this[b]=!1);const F=this.brotli===void 0;if(this[b]===!1&&F)if(N.length<512)if(this[p])this.brotli=!0;else return this[l]=N,!0;else try{new s(N.slice(0,512)),this.brotli=!1}catch{this.brotli=!0}if(this[b]===null||this[b]===!1&&this.brotli){const B=this[p];this[p]=!1,this[b]=this[b]===null?new r.Unzip:new r.BrotliDecompress,this[b].on("data",J=>this[A](J)),this[b].on("error",J=>this.abort(J)),this[b].on("end",J=>{this[p]=!0,this[A]()}),this[M]=!0;const Y=this[b][B?"end":"write"](N);return this[M]=!1,Y}}this[M]=!0,this[b]?this[b].write(N):this[A](N),this[M]=!1;const V=this[_].length?!1:this[m]?this[m].flowing:!0;return!V&&!this[_].length&&this[m].once("drain",F=>this.emit("drain")),V}[C](N){N&&!this[U]&&(this[l]=this[l]?Buffer.concat([this[l],N]):N)}[I](){if(this[p]&&!this[E]&&!this[U]&&!this[L]){this[E]=!0;const N=this[v];if(N&&N.blockRemain){const j=this[l]?this[l].length:0;this.warn("TAR_BAD_ARCHIVE",`Truncated input (needed ${N.blockRemain} more bytes, only ${j} available)`,{entry:N}),this[l]&&N.write(this[l]),N.end()}this[y](W)}}[A](N){if(this[L])this[C](N);else if(!N&&!this[l])this[I]();else{if(this[L]=!0,this[l]){this[C](N);const j=this[l];this[l]=null,this[P](j)}else this[P](N);for(;this[l]&&this[l].length>=512&&!this[U]&&!this[x];){const j=this[l];this[l]=null,this[P](j)}this[L]=!1}(!this[l]||this[p])&&this[I]()}[P](N){let j=0;const V=N.length;for(;j+512<=V&&!this[U]&&!this[x];)switch(this[d]){case"begin":case"header":this[$](N,j),j+=512;break;case"ignore":case"body":j+=this[D](N,j);break;case"meta":j+=this[q](N,j);break;default:throw new Error("invalid state: "+this[d])}j<V&&(this[l]?this[l]=Buffer.concat([N.slice(j),this[l]]):this[l]=N.slice(j))}end(N){this[U]||(this[b]?this[b].end(N):(this[p]=!0,this.brotli===void 0&&(N=N||Buffer.alloc(0)),this.write(N)))}}),Is}var Ge={},th;function Xh(){if(th)return Ge;th=1;const i=Kh(),s=ze.EventEmitter,o=ge;let h=o.writev;if(!h){const H=process.binding("fs"),O=H.FSReqWrap||H.FSReqCallback;h=(x,z,ee,k)=>{const N=(V,F)=>k(V,F,z),j=new O;j.oncomplete=N,H.writeBuffers(x,z,ee,j)}}const n=Symbol("_autoClose"),t=Symbol("_close"),e=Symbol("_ended"),r=Symbol("_fd"),u=Symbol("_finished"),c=Symbol("_flags"),d=Symbol("_flush"),v=Symbol("_handleChunk"),m=Symbol("_makeBuf"),R=Symbol("_mode"),w=Symbol("_needDrain"),S=Symbol("_onerror"),g=Symbol("_onopen"),a=Symbol("_onread"),f=Symbol("_onwrite"),l=Symbol("_open"),_=Symbol("_path"),p=Symbol("_pos"),E=Symbol("_queue"),y=Symbol("_read"),b=Symbol("_readSize"),A=Symbol("_reading"),P=Symbol("_remain"),D=Symbol("_size"),q=Symbol("_write"),$=Symbol("_writing"),L=Symbol("_defaultFlag"),C=Symbol("_errored");class I extends i{constructor(O,x){if(x=x||{},super(x),this.readable=!0,this.writable=!1,typeof O!="string")throw new TypeError("path must be a string");this[C]=!1,this[r]=typeof x.fd=="number"?x.fd:null,this[_]=O,this[b]=x.readSize||16*1024*1024,this[A]=!1,this[D]=typeof x.size=="number"?x.size:1/0,this[P]=this[D],this[n]=typeof x.autoClose=="boolean"?x.autoClose:!0,typeof this[r]=="number"?this[y]():this[l]()}get fd(){return this[r]}get path(){return this[_]}write(){throw new TypeError("this is a readable stream")}end(){throw new TypeError("this is a readable stream")}[l](){o.open(this[_],"r",(O,x)=>this[g](O,x))}[g](O,x){O?this[S](O):(this[r]=x,this.emit("open",x),this[y]())}[m](){return Buffer.allocUnsafe(Math.min(this[b],this[P]))}[y](){if(!this[A]){this[A]=!0;const O=this[m]();if(O.length===0)return process.nextTick(()=>this[a](null,0,O));o.read(this[r],O,0,O.length,null,(x,z,ee)=>this[a](x,z,ee))}}[a](O,x,z){this[A]=!1,O?this[S](O):this[v](x,z)&&this[y]()}[t](){if(this[n]&&typeof this[r]=="number"){const O=this[r];this[r]=null,o.close(O,x=>x?this.emit("error",x):this.emit("close"))}}[S](O){this[A]=!0,this[t](),this.emit("error",O)}[v](O,x){let z=!1;return this[P]-=O,O>0&&(z=super.write(O<x.length?x.slice(0,O):x)),(O===0||this[P]<=0)&&(z=!1,this[t](),super.end()),z}emit(O,x){switch(O){case"prefinish":case"finish":break;case"drain":typeof this[r]=="number"&&this[y]();break;case"error":return this[C]?void 0:(this[C]=!0,super.emit(O,x));default:return super.emit(O,x)}}}class M extends I{[l](){let O=!0;try{this[g](null,o.openSync(this[_],"r")),O=!1}finally{O&&this[t]()}}[y](){let O=!0;try{if(!this[A]){this[A]=!0;do{const x=this[m](),z=x.length===0?0:o.readSync(this[r],x,0,x.length,null);if(!this[v](z,x))break}while(!0);this[A]=!1}O=!1}finally{O&&this[t]()}}[t](){if(this[n]&&typeof this[r]=="number"){const O=this[r];this[r]=null,o.closeSync(O),this.emit("close")}}}class U extends s{constructor(O,x){x=x||{},super(x),this.readable=!1,this.writable=!0,this[C]=!1,this[$]=!1,this[e]=!1,this[w]=!1,this[E]=[],this[_]=O,this[r]=typeof x.fd=="number"?x.fd:null,this[R]=x.mode===void 0?438:x.mode,this[p]=typeof x.start=="number"?x.start:null,this[n]=typeof x.autoClose=="boolean"?x.autoClose:!0;const z=this[p]!==null?"r+":"w";this[L]=x.flags===void 0,this[c]=this[L]?z:x.flags,this[r]===null&&this[l]()}emit(O,x){if(O==="error"){if(this[C])return;this[C]=!0}return super.emit(O,x)}get fd(){return this[r]}get path(){return this[_]}[S](O){this[t](),this[$]=!0,this.emit("error",O)}[l](){o.open(this[_],this[c],this[R],(O,x)=>this[g](O,x))}[g](O,x){this[L]&&this[c]==="r+"&&O&&O.code==="ENOENT"?(this[c]="w",this[l]()):O?this[S](O):(this[r]=x,this.emit("open",x),this[d]())}end(O,x){return O&&this.write(O,x),this[e]=!0,!this[$]&&!this[E].length&&typeof this[r]=="number"&&this[f](null,0),this}write(O,x){return typeof O=="string"&&(O=Buffer.from(O,x)),this[e]?(this.emit("error",new Error("write() after end()")),!1):this[r]===null||this[$]||this[E].length?(this[E].push(O),this[w]=!0,!1):(this[$]=!0,this[q](O),!0)}[q](O){o.write(this[r],O,0,O.length,this[p],(x,z)=>this[f](x,z))}[f](O,x){O?this[S](O):(this[p]!==null&&(this[p]+=x),this[E].length?this[d]():(this[$]=!1,this[e]&&!this[u]?(this[u]=!0,this[t](),this.emit("finish")):this[w]&&(this[w]=!1,this.emit("drain"))))}[d](){if(this[E].length===0)this[e]&&this[f](null,0);else if(this[E].length===1)this[q](this[E].pop());else{const O=this[E];this[E]=[],h(this[r],O,this[p],(x,z)=>this[f](x,z))}}[t](){if(this[n]&&typeof this[r]=="number"){const O=this[r];this[r]=null,o.close(O,x=>x?this.emit("error",x):this.emit("close"))}}}class W extends U{[l](){let O;if(this[L]&&this[c]==="r+")try{O=o.openSync(this[_],this[c],this[R])}catch(x){if(x.code==="ENOENT")return this[c]="w",this[l]();throw x}else O=o.openSync(this[_],this[c],this[R]);this[g](null,O)}[t](){if(this[n]&&typeof this[r]=="number"){const O=this[r];this[r]=null,o.closeSync(O),this.emit("close")}}[q](O){let x=!0;try{this[f](null,o.writeSync(this[r],O,0,O.length,this[p])),x=!1}finally{if(x)try{this[t]()}catch{}}}}return Ge.ReadStream=I,Ge.ReadStreamSync=M,Ge.WriteStream=U,Ge.WriteStreamSync=W,Ge}var Yt={exports:{}},Zh=be();const ey=Zh.mkdirp,ty=Object.freeze(Object.defineProperty({__proto__:null,default:ey,sync:Zh.mkdirpSync},Symbol.toStringTag,{value:"Module"})),ry=yf(ty);var xs,rh;function ny(){if(rh)return xs;rh=1;const i=ge,s=le,o=i.lchown?"lchown":"chown",h=i.lchownSync?"lchownSync":"chownSync",n=i.lchown&&!process.version.match(/v1[1-9]+\./)&&!process.version.match(/v10\.[6-9]/),t=(a,f,l)=>{try{return i[h](a,f,l)}catch(_){if(_.code!=="ENOENT")throw _}},e=(a,f,l)=>{try{return i.chownSync(a,f,l)}catch(_){if(_.code!=="ENOENT")throw _}},r=n?(a,f,l,_)=>p=>{!p||p.code!=="EISDIR"?_(p):i.chown(a,f,l,_)}:(a,f,l,_)=>_,u=n?(a,f,l)=>{try{return t(a,f,l)}catch(_){if(_.code!=="EISDIR")throw _;e(a,f,l)}}:(a,f,l)=>t(a,f,l),c=process.version;let d=(a,f,l)=>i.readdir(a,f,l),v=(a,f)=>i.readdirSync(a,f);/^v4\./.test(c)&&(d=(a,f,l)=>i.readdir(a,l));const m=(a,f,l,_)=>{i[o](a,f,l,r(a,f,l,p=>{_(p&&p.code!=="ENOENT"?p:null)}))},R=(a,f,l,_,p)=>{if(typeof f=="string")return i.lstat(s.resolve(a,f),(E,y)=>{if(E)return p(E.code!=="ENOENT"?E:null);y.name=f,R(a,y,l,_,p)});if(f.isDirectory())w(s.resolve(a,f.name),l,_,E=>{if(E)return p(E);const y=s.resolve(a,f.name);m(y,l,_,p)});else{const E=s.resolve(a,f.name);m(E,l,_,p)}},w=(a,f,l,_)=>{d(a,{withFileTypes:!0},(p,E)=>{if(p){if(p.code==="ENOENT")return _();if(p.code!=="ENOTDIR"&&p.code!=="ENOTSUP")return _(p)}if(p||!E.length)return m(a,f,l,_);let y=E.length,b=null;const A=P=>{if(!b){if(P)return _(b=P);if(--y===0)return m(a,f,l,_)}};E.forEach(P=>R(a,P,f,l,A))})},S=(a,f,l,_)=>{if(typeof f=="string")try{const p=i.lstatSync(s.resolve(a,f));p.name=f,f=p}catch(p){if(p.code==="ENOENT")return;throw p}f.isDirectory()&&g(s.resolve(a,f.name),l,_),u(s.resolve(a,f.name),l,_)},g=(a,f,l)=>{let _;try{_=v(a,{withFileTypes:!0})}catch(p){if(p.code==="ENOENT")return;if(p.code==="ENOTDIR"||p.code==="ENOTSUP")return u(a,f,l);throw p}return _&&_.length&&_.forEach(p=>S(a,p,f,l)),u(a,f,l)};return xs=w,w.sync=g,xs}var nh;function iy(){if(nh)return Yt.exports;nh=1;const i=ry,s=ge,o=le,h=ny(),n=oo();class t extends Error{constructor(w,S){super("Cannot extract through symbolic link"),this.path=S,this.symlink=w}get name(){return"SylinkError"}}class e extends Error{constructor(w,S){super(S+": Cannot cd into '"+w+"'"),this.path=w,this.code=S}get name(){return"CwdError"}}const r=(R,w)=>R.get(n(w)),u=(R,w,S)=>R.set(n(w),S),c=(R,w)=>{s.stat(R,(S,g)=>{(S||!g.isDirectory())&&(S=new e(R,S&&S.code||"ENOTDIR")),w(S)})};Yt.exports=(R,w,S)=>{R=n(R);const g=w.umask,a=w.mode|448,f=(a&g)!==0,l=w.uid,_=w.gid,p=typeof l=="number"&&typeof _=="number"&&(l!==w.processUid||_!==w.processGid),E=w.preserve,y=w.unlink,b=w.cache,A=n(w.cwd),P=($,L)=>{$?S($):(u(b,R,!0),L&&p?h(L,l,_,C=>P(C)):f?s.chmod(R,a,S):S())};if(b&&r(b,R)===!0)return P();if(R===A)return c(R,P);if(E)return i(R,{mode:a}).then($=>P(null,$),P);const q=n(o.relative(A,R)).split("/");d(A,q,a,b,y,A,null,P)};const d=(R,w,S,g,a,f,l,_)=>{if(!w.length)return _(null,l);const p=w.shift(),E=n(o.resolve(R+"/"+p));if(r(g,E))return d(E,w,S,g,a,f,l,_);s.mkdir(E,S,v(E,w,S,g,a,f,l,_))},v=(R,w,S,g,a,f,l,_)=>p=>{p?s.lstat(R,(E,y)=>{if(E)E.path=E.path&&n(E.path),_(E);else if(y.isDirectory())d(R,w,S,g,a,f,l,_);else if(a)s.unlink(R,b=>{if(b)return _(b);s.mkdir(R,S,v(R,w,S,g,a,f,l,_))});else{if(y.isSymbolicLink())return _(new t(R,R+"/"+w.join("/")));_(p)}}):(l=l||R,d(R,w,S,g,a,f,l,_))},m=R=>{let w=!1,S="ENOTDIR";try{w=s.statSync(R).isDirectory()}catch(g){S=g.code}finally{if(!w)throw new e(R,S)}};return Yt.exports.sync=(R,w)=>{R=n(R);const S=w.umask,g=w.mode|448,a=(g&S)!==0,f=w.uid,l=w.gid,_=typeof f=="number"&&typeof l=="number"&&(f!==w.processUid||l!==w.processGid),p=w.preserve,E=w.unlink,y=w.cache,b=n(w.cwd),A=$=>{u(y,R,!0),$&&_&&h.sync($,f,l),a&&s.chmodSync(R,g)};if(y&&r(y,R)===!0)return A();if(R===b)return m(b),A();if(p)return A(i.sync(R,g));const D=n(o.relative(b,R)).split("/");let q=null;for(let $=D.shift(),L=b;$&&(L+="/"+$);$=D.shift())if(L=n(o.resolve(L)),!r(y,L))try{s.mkdirSync(L,g),q=q||L,u(y,L,!0)}catch{const I=s.lstatSync(L);if(I.isDirectory()){u(y,L,!0);continue}else if(E){s.unlinkSync(L),s.mkdirSync(L,g),q=q||L,u(y,L,!0);continue}else if(I.isSymbolicLink())return new t(L,L+"/"+D.join("/"))}return A(q)},Yt.exports}var $s,ih;function sy(){if(ih)return $s;ih=1;const i=["|","<",">","?",":"],s=i.map(n=>String.fromCharCode(61440+n.charCodeAt(0))),o=new Map(i.map((n,t)=>[n,s[t]])),h=new Map(s.map((n,t)=>[n,i[t]]));return $s={encode:n=>i.reduce((t,e)=>t.split(e).join(o.get(e)),n),decode:n=>s.reduce((t,e)=>t.split(e).join(h.get(e)),n)},$s}var Ns,sh;function Jh(){if(sh)return Ns;sh=1;const i=Object.create(null),{hasOwnProperty:s}=Object.prototype;return Ns=o=>(s.call(i,o)||(i[o]=o.normalize("NFD")),i[o]),Ns}var Ds,oh;function ao(){return oh||(oh=1,Ds=i=>{let s=i.length-1,o=-1;for(;s>-1&&i.charAt(s)==="/";)o=s,s--;return o===-1?i:i.slice(0,o)}),Ds}var Ls,ah;function oy(){if(ah)return Ls;ah=1;const i=ct,s=Jh(),o=ao(),{join:h}=le,t=(process.env.TESTING_TAR_FAKE_PLATFORM||process.platform)==="win32";return Ls=()=>{const e=new Map,r=new Map,u=S=>S.split("/").slice(0,-1).reduce((a,f)=>(a.length&&(f=h(a[a.length-1],f)),a.push(f||"/"),a),[]),c=new Set,d=S=>{const g=r.get(S);if(!g)throw new Error("function does not have any path reservations");return{paths:g.paths.map(a=>e.get(a)),dirs:[...g.dirs].map(a=>e.get(a))}},v=S=>{const{paths:g,dirs:a}=d(S);return g.every(f=>f[0]===S)&&a.every(f=>f[0]instanceof Set&&f[0].has(S))},m=S=>c.has(S)||!v(S)?!1:(c.add(S),S(()=>R(S)),!0),R=S=>{if(!c.has(S))return!1;const{paths:g,dirs:a}=r.get(S),f=new Set;return g.forEach(l=>{const _=e.get(l);i.equal(_[0],S),_.length===1?e.delete(l):(_.shift(),typeof _[0]=="function"?f.add(_[0]):_[0].forEach(p=>f.add(p)))}),a.forEach(l=>{const _=e.get(l);i(_[0]instanceof Set),_[0].size===1&&_.length===1?e.delete(l):_[0].size===1?(_.shift(),f.add(_[0])):_[0].delete(S)}),c.delete(S),f.forEach(l=>m(l)),!0};return{check:v,reserve:(S,g)=>{S=t?["win32 parallelization disabled"]:S.map(f=>o(h(s(f))).toLowerCase());const a=new Set(S.map(f=>u(f)).reduce((f,l)=>f.concat(l)));return r.set(g,{dirs:a,paths:S}),S.forEach(f=>{const l=e.get(f);l?l.push(g):e.set(f,[g])}),a.forEach(f=>{const l=e.get(f);l?l[l.length-1]instanceof Set?l[l.length-1].add(g):l.push(new Set([g])):e.set(f,[new Set([g])])}),m(g)}}},Ls}var Fs,uh;function ay(){if(uh)return Fs;uh=1;const{isAbsolute:i,parse:s}=le.win32;return Fs=o=>{let h="",n=s(o);for(;i(o)||n.root;){const t=o.charAt(0)==="/"&&o.slice(0,4)!=="//?/"?"/":n.root;o=o.slice(t.length),h+=t,n=s(o)}return[h,o]},Fs}var qs,ch;function uy(){if(ch)return qs;ch=1;const s=(process.env.__FAKE_PLATFORM__||process.platform)==="win32",o=$e.__FAKE_TESTING_FS__||ge,{O_CREAT:h,O_TRUNC:n,O_WRONLY:t,UV_FS_O_FILEMAP:e=0}=o.constants,r=s&&!!e,u=512*1024,c=e|n|h|t;return qs=r?d=>d<u?c:"w":()=>"w",qs}var ks,lh;function cy(){if(lh)return ks;lh=1;const i=ct,s=Qg(),o=ge,h=Xh(),n=le,t=iy(),e=sy(),r=oy(),u=ay(),c=oo(),d=ao(),v=Jh(),m=Symbol("onEntry"),R=Symbol("checkFs"),w=Symbol("checkFs2"),S=Symbol("pruneCache"),g=Symbol("isReusable"),a=Symbol("makeFs"),f=Symbol("file"),l=Symbol("directory"),_=Symbol("link"),p=Symbol("symlink"),E=Symbol("hardlink"),y=Symbol("unsupported"),b=Symbol("checkPath"),A=Symbol("mkdir"),P=Symbol("onError"),D=Symbol("pending"),q=Symbol("pend"),$=Symbol("unpend"),L=Symbol("ended"),C=Symbol("maybeClose"),I=Symbol("skip"),M=Symbol("doChown"),U=Symbol("uid"),W=Symbol("gid"),H=Symbol("checkedCwd"),O=yh,x=uy(),ee=(process.env.TESTING_TAR_FAKE_PLATFORM||process.platform)==="win32",k=1024,N=(Z,T)=>{if(!ee)return o.unlink(Z,T);const X=Z+".DELETE."+O.randomBytes(16).toString("hex");o.rename(Z,X,Q=>{if(Q)return T(Q);o.unlink(X,T)})},j=Z=>{if(!ee)return o.unlinkSync(Z);const T=Z+".DELETE."+O.randomBytes(16).toString("hex");o.renameSync(Z,T),o.unlinkSync(T)},V=(Z,T,X)=>Z===Z>>>0?Z:T===T>>>0?T:X,F=Z=>d(c(v(Z))).toLowerCase(),B=(Z,T)=>{T=F(T);for(const X of Z.keys()){const Q=F(X);(Q===T||Q.indexOf(T+"/")===0)&&Z.delete(X)}},Y=Z=>{for(const T of Z.keys())Z.delete(T)};class J extends s{constructor(T){if(T||(T={}),T.ondone=X=>{this[L]=!0,this[C]()},super(T),this[H]=!1,this.reservations=r(),this.transform=typeof T.transform=="function"?T.transform:null,this.writable=!0,this.readable=!1,this[D]=0,this[L]=!1,this.dirCache=T.dirCache||new Map,typeof T.uid=="number"||typeof T.gid=="number"){if(typeof T.uid!="number"||typeof T.gid!="number")throw new TypeError("cannot set owner without number uid and gid");if(T.preserveOwner)throw new TypeError("cannot preserve owner in archive and also set owner explicitly");this.uid=T.uid,this.gid=T.gid,this.setOwner=!0}else this.uid=null,this.gid=null,this.setOwner=!1;T.preserveOwner===void 0&&typeof T.uid!="number"?this.preserveOwner=process.getuid&&process.getuid()===0:this.preserveOwner=!!T.preserveOwner,this.processUid=(this.preserveOwner||this.setOwner)&&process.getuid?process.getuid():null,this.processGid=(this.preserveOwner||this.setOwner)&&process.getgid?process.getgid():null,this.maxDepth=typeof T.maxDepth=="number"?T.maxDepth:k,this.forceChown=T.forceChown===!0,this.win32=!!T.win32||ee,this.newer=!!T.newer,this.keep=!!T.keep,this.noMtime=!!T.noMtime,this.preservePaths=!!T.preservePaths,this.unlink=!!T.unlink,this.cwd=c(n.resolve(T.cwd||process.cwd())),this.strip=+T.strip||0,this.processUmask=T.noChmod?0:process.umask(),this.umask=typeof T.umask=="number"?T.umask:this.processUmask,this.dmode=T.dmode||511&~this.umask,this.fmode=T.fmode||438&~this.umask,this.on("entry",X=>this[m](X))}warn(T,X,Q={}){return(T==="TAR_BAD_ARCHIVE"||T==="TAR_ABORT")&&(Q.recoverable=!1),super.warn(T,X,Q)}[C](){this[L]&&this[D]===0&&(this.emit("prefinish"),this.emit("finish"),this.emit("end"))}[b](T){const X=c(T.path),Q=X.split("/");if(this.strip){if(Q.length<this.strip)return!1;if(T.type==="Link"){const G=c(T.linkpath).split("/");if(G.length>=this.strip)T.linkpath=G.slice(this.strip).join("/");else return!1}Q.splice(0,this.strip),T.path=Q.join("/")}if(isFinite(this.maxDepth)&&Q.length>this.maxDepth)return this.warn("TAR_ENTRY_ERROR","path excessively deep",{entry:T,path:X,depth:Q.length,maxDepth:this.maxDepth}),!1;if(!this.preservePaths){if(Q.includes("..")||ee&&/^[a-z]:\.\.$/i.test(Q[0]))return this.warn("TAR_ENTRY_ERROR","path contains '..'",{entry:T,path:X}),!1;const[G,ne]=u(X);G&&(T.path=ne,this.warn("TAR_ENTRY_INFO",`stripping ${G} from absolute path`,{entry:T,path:X}))}if(n.isAbsolute(T.path)?T.absolute=c(n.resolve(T.path)):T.absolute=c(n.resolve(this.cwd,T.path)),!this.preservePaths&&T.absolute.indexOf(this.cwd+"/")!==0&&T.absolute!==this.cwd)return this.warn("TAR_ENTRY_ERROR","path escaped extraction target",{entry:T,path:c(T.path),resolvedPath:T.absolute,cwd:this.cwd}),!1;if(T.absolute===this.cwd&&T.type!=="Directory"&&T.type!=="GNUDumpDir")return!1;if(this.win32){const{root:G}=n.win32.parse(T.absolute);T.absolute=G+e.encode(T.absolute.slice(G.length));const{root:ne}=n.win32.parse(T.path);T.path=ne+e.encode(T.path.slice(ne.length))}return!0}[m](T){if(!this[b](T))return T.resume();switch(i.equal(typeof T.absolute,"string"),T.type){case"Directory":case"GNUDumpDir":T.mode&&(T.mode=T.mode|448);case"File":case"OldFile":case"ContiguousFile":case"Link":case"SymbolicLink":return this[R](T);case"CharacterDevice":case"BlockDevice":case"FIFO":default:return this[y](T)}}[P](T,X){T.name==="CwdError"?this.emit("error",T):(this.warn("TAR_ENTRY_ERROR",T,{entry:X}),this[$](),X.resume())}[A](T,X,Q){t(c(T),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:X,noChmod:this.noChmod},Q)}[M](T){return this.forceChown||this.preserveOwner&&(typeof T.uid=="number"&&T.uid!==this.processUid||typeof T.gid=="number"&&T.gid!==this.processGid)||typeof this.uid=="number"&&this.uid!==this.processUid||typeof this.gid=="number"&&this.gid!==this.processGid}[U](T){return V(this.uid,T.uid,this.processUid)}[W](T){return V(this.gid,T.gid,this.processGid)}[f](T,X){const Q=T.mode&4095||this.fmode,G=new h.WriteStream(T.absolute,{flags:x(T.size),mode:Q,autoClose:!1});G.on("error",ie=>{G.fd&&o.close(G.fd,()=>{}),G.write=()=>!0,this[P](ie,T),X()});let ne=1;const K=ie=>{if(ie){G.fd&&o.close(G.fd,()=>{}),this[P](ie,T),X();return}--ne===0&&o.close(G.fd,ue=>{ue?this[P](ue,T):this[$](),X()})};G.on("finish",ie=>{const ue=T.absolute,ce=G.fd;if(T.mtime&&!this.noMtime){ne++;const fe=T.atime||new Date,ye=T.mtime;o.futimes(ce,fe,ye,Qe=>Qe?o.utimes(ue,fe,ye,or=>K(or&&Qe)):K())}if(this[M](T)){ne++;const fe=this[U](T),ye=this[W](T);o.fchown(ce,fe,ye,Qe=>Qe?o.chown(ue,fe,ye,or=>K(or&&Qe)):K())}K()});const te=this.transform&&this.transform(T)||T;te!==T&&(te.on("error",ie=>{this[P](ie,T),X()}),T.pipe(te)),te.pipe(G)}[l](T,X){const Q=T.mode&4095||this.dmode;this[A](T.absolute,Q,G=>{if(G){this[P](G,T),X();return}let ne=1;const K=te=>{--ne===0&&(X(),this[$](),T.resume())};T.mtime&&!this.noMtime&&(ne++,o.utimes(T.absolute,T.atime||new Date,T.mtime,K)),this[M](T)&&(ne++,o.chown(T.absolute,this[U](T),this[W](T),K)),K()})}[y](T){T.unsupported=!0,this.warn("TAR_ENTRY_UNSUPPORTED",`unsupported entry type: ${T.type}`,{entry:T}),T.resume()}[p](T,X){this[_](T,T.linkpath,"symlink",X)}[E](T,X){const Q=c(n.resolve(this.cwd,T.linkpath));this[_](T,Q,"link",X)}[q](){this[D]++}[$](){this[D]--,this[C]()}[I](T){this[$](),T.resume()}[g](T,X){return T.type==="File"&&!this.unlink&&X.isFile()&&X.nlink<=1&&!ee}[R](T){this[q]();const X=[T.path];T.linkpath&&X.push(T.linkpath),this.reservations.reserve(X,Q=>this[w](T,Q))}[S](T){T.type==="SymbolicLink"?Y(this.dirCache):T.type!=="Directory"&&B(this.dirCache,T.absolute)}[w](T,X){this[S](T);const Q=te=>{this[S](T),X(te)},G=()=>{this[A](this.cwd,this.dmode,te=>{if(te){this[P](te,T),Q();return}this[H]=!0,ne()})},ne=()=>{if(T.absolute!==this.cwd){const te=c(n.dirname(T.absolute));if(te!==this.cwd)return this[A](te,this.dmode,ie=>{if(ie){this[P](ie,T),Q();return}K()})}K()},K=()=>{o.lstat(T.absolute,(te,ie)=>{if(ie&&(this.keep||this.newer&&ie.mtime>T.mtime)){this[I](T),Q();return}if(te||this[g](T,ie))return this[a](null,T,Q);if(ie.isDirectory()){if(T.type==="Directory"){const ue=!this.noChmod&&T.mode&&(ie.mode&4095)!==T.mode,ce=fe=>this[a](fe,T,Q);return ue?o.chmod(T.absolute,T.mode,ce):ce()}if(T.absolute!==this.cwd)return o.rmdir(T.absolute,ue=>this[a](ue,T,Q))}if(T.absolute===this.cwd)return this[a](null,T,Q);N(T.absolute,ue=>this[a](ue,T,Q))})};this[H]?ne():G()}[a](T,X,Q){if(T){this[P](T,X),Q();return}switch(X.type){case"File":case"OldFile":case"ContiguousFile":return this[f](X,Q);case"Link":return this[E](X,Q);case"SymbolicLink":return this[p](X,Q);case"Directory":case"GNUDumpDir":return this[l](X,Q)}}[_](T,X,Q,G){o[Q](X,T.absolute,ne=>{ne?this[P](ne,T):(this[$](),T.resume()),G()})}}const re=Z=>{try{return[null,Z()]}catch(T){return[T,null]}};class oe extends J{[a](T,X){return super[a](T,X,()=>{})}[R](T){if(this[S](T),!this[H]){const ne=this[A](this.cwd,this.dmode);if(ne)return this[P](ne,T);this[H]=!0}if(T.absolute!==this.cwd){const ne=c(n.dirname(T.absolute));if(ne!==this.cwd){const K=this[A](ne,this.dmode);if(K)return this[P](K,T)}}const[X,Q]=re(()=>o.lstatSync(T.absolute));if(Q&&(this.keep||this.newer&&Q.mtime>T.mtime))return this[I](T);if(X||this[g](T,Q))return this[a](null,T);if(Q.isDirectory()){if(T.type==="Directory"){const K=!this.noChmod&&T.mode&&(Q.mode&4095)!==T.mode,[te]=K?re(()=>{o.chmodSync(T.absolute,T.mode)}):[];return this[a](te,T)}const[ne]=re(()=>o.rmdirSync(T.absolute));this[a](ne,T)}const[G]=T.absolute===this.cwd?[]:re(()=>j(T.absolute));this[a](G,T)}[f](T,X){const Q=T.mode&4095||this.fmode,G=te=>{let ie;try{o.closeSync(ne)}catch(ue){ie=ue}(te||ie)&&this[P](te||ie,T),X()};let ne;try{ne=o.openSync(T.absolute,x(T.size),Q)}catch(te){return G(te)}const K=this.transform&&this.transform(T)||T;K!==T&&(K.on("error",te=>this[P](te,T)),T.pipe(K)),K.on("data",te=>{try{o.writeSync(ne,te,0,te.length)}catch(ie){G(ie)}}),K.on("end",te=>{let ie=null;if(T.mtime&&!this.noMtime){const ue=T.atime||new Date,ce=T.mtime;try{o.futimesSync(ne,ue,ce)}catch(fe){try{o.utimesSync(T.absolute,ue,ce)}catch{ie=fe}}}if(this[M](T)){const ue=this[U](T),ce=this[W](T);try{o.fchownSync(ne,ue,ce)}catch(fe){try{o.chownSync(T.absolute,ue,ce)}catch{ie=ie||fe}}}G(ie)})}[l](T,X){const Q=T.mode&4095||this.dmode,G=this[A](T.absolute,Q);if(G){this[P](G,T),X();return}if(T.mtime&&!this.noMtime)try{o.utimesSync(T.absolute,T.atime||new Date,T.mtime)}catch{}if(this[M](T))try{o.chownSync(T.absolute,this[U](T),this[W](T))}catch{}X(),T.resume()}[A](T,X){try{return t.sync(c(T),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:X})}catch(Q){return Q}}[_](T,X,Q,G){try{o[Q+"Sync"](X,T.absolute),G(),T.resume()}catch(ne){return this[P](ne,T)}}}return J.Sync=oe,ks=J,ks}var Ms,hh;function ly(){if(hh)return Ms;hh=1;const i=jg(),s=cy(),o=ge,h=Xh(),n=le,t=ao();Ms=(v,m,R)=>{typeof v=="function"?(R=v,m=null,v={}):Array.isArray(v)&&(m=v,v={}),typeof m=="function"&&(R=m,m=null),m?m=Array.from(m):m=[];const w=i(v);if(w.sync&&typeof R=="function")throw new TypeError("callback not supported for sync tar functions");if(!w.file&&typeof R=="function")throw new TypeError("callback only supported with file option");return m.length&&e(w,m),w.file&&w.sync?r(w):w.file?u(w,R):w.sync?c(w):d(w)};const e=(v,m)=>{const R=new Map(m.map(g=>[t(g),!0])),w=v.filter,S=(g,a)=>{const f=a||n.parse(g).root||".",l=g===f?!1:R.has(g)?R.get(g):S(n.dirname(g),f);return R.set(g,l),l};v.filter=w?(g,a)=>w(g,a)&&S(t(g)):g=>S(t(g))},r=v=>{const m=new s.Sync(v),R=v.file,w=o.statSync(R),S=v.maxReadSize||16*1024*1024;new h.ReadStreamSync(R,{readSize:S,size:w.size}).pipe(m)},u=(v,m)=>{const R=new s(v),w=v.maxReadSize||16*1024*1024,S=v.file,g=new Promise((a,f)=>{R.on("error",f),R.on("close",a),o.stat(S,(l,_)=>{if(l)f(l);else{const p=new h.ReadStream(S,{readSize:w,size:_.size});p.on("error",f),p.pipe(R)}})});return m?g.then(m,m):g},c=v=>new s.Sync(v),d=v=>new s(v);return Ms}var hy=ly();const fy=Ae(hy);async function Xt(i,s=3,o=1e3){for(let h=0;h!==s;h++)try{return await i()}catch(n){if(h===s-1)throw n;await dy(o)}throw new Error("Retry failed")}function dy(i){return new Promise(s=>{setTimeout(s,i)})}async function uo(i,s){try{const o=s.path??he(ff(),"cmake-ts",`${Math.random()}`,co(i)),h=co(o),n=cf(o);se.debug(`Downloading ${i} to ${o}`),await pe.ensureDir(n);const t=new Hg.DownloaderHelper(i,n,{fileName:h,timeout:s.timeout??-1,override:!0,retry:{maxRetries:3,delay:1e3}}),e=new Promise((u,c)=>{t.on("error",d=>{c(d)}),t.on("end",()=>{u()})}),r={filePath:o,hash:void 0};return await Promise.all([t.start(),e]),r.hash=s.hashType!==void 0?await py(o,s.hashType):void 0,r}catch(o){throw new Error(`Failed to download ${i}: ${o}`)}}async function py(i,s){const o=await pe.readFile(i),h=yh.createHash(s);return h.update(o),h.digest("hex")}async function my(i,s={}){const{filePath:o}=await uo(i,s);try{return await pe.readFile(o,"utf8")}finally{await pe.remove(o).catch(h=>{se.debug("Ignoring error removing temporary file",o,h)})}}async function _y(i,s){const{hash:o}=await uo(i,s);if(!Qh(o,s))throw new Error(`Checksum mismatch for download ${i}. Expected ${s.hashSum}, got ${o}`);return o}async function gy(i,s){const{filePath:o,hash:h}=await uo(i,s);try{if(!Qh(h,s))throw new Error(`Checksum mismatch for download ${i}. Expected ${s.hashSum}, got ${h}`);return await Xt(()=>fy({file:o,...s.extractOptions})),h}finally{(s.removeAfterExtract??!0)&&await pe.remove(o).catch(n=>{se.debug("Ignoring error removing temporary file",o,n)})}}function Qh(i,s){return s.hashType===void 0||s.hashSum===void 0||s.hashSum===i}function fh(i,s,o){const h=i.find(n=>n.getPath===o);return!!(h&&h.sum===s)}class yy{constructor(s){this.config=s}_abi=null;internalPath(){return he(qp,".cmake-ts",this.config.runtime,this.config.os,this.config.arch,`v${this.config.runtimeVersion}`)}externalPath(){return We(this.config).externalPath}winLibs(){return We(this.config).winLibs.map(s=>he(this.internalPath(),s.dir,s.name))}headerOnly(){return We(this.config).headerOnly}abi(){return this._abi}async checkDownloaded(){let s=!1,o=!0,h=await xe(this.internalPath());return h.isDirectory()||(s=!1),this.headerOnly()?(h=await xe(he(this.internalPath(),"include/node/node.h")),s=h.isFile()):(h=await xe(he(this.internalPath(),"src/node.h")),h.isFile()&&(h=await xe(he(this.internalPath(),"deps/v8/include/v8.h")),s=h.isFile())),this.config.os==="win32"&&(o=(await Promise.all(this.winLibs().map(e=>xe(e)))).every(e=>e.isFile())),s&&o}async determineABI(){const s=await Lg("*/node_version.h",{cwd:he(this.internalPath(),"include"),absolute:!0,onlyFiles:!0,braceExpansion:!1}),o=s.length;if(o===0)return Promise.reject(new Error(`couldn't find include/*/node_version.h in ${this.internalPath()}. Make sure you install the dependencies for building the package.`));if(o!==1)return Promise.reject(new Error(`more than one node_version.h was found in ${this.internalPath()}.`));const h=s[0];let n;try{n=await pe.readFile(h,"utf8")}catch(r){if(r instanceof Error)return Promise.reject(r);throw r}const t=n.match(/#define\s+NODE_MODULE_VERSION\s+(\d+)/);if(!t)return Promise.reject(new Error("Failed to find NODE_MODULE_VERSION macro"));const e=Number.parseInt(t[1],10);return Number.isNaN(e)?Promise.reject(new Error("Invalid version specified by NODE_MODULE_VERSION macro")):(this._abi=e,this.config.abi=e,this.config.libc=Mg(this.config.os),Promise.resolve())}async ensureDownloaded(){await this.checkDownloaded()||await this.download()}async download(){await pe.ensureDir(this.internalPath());const s=await this.downloadHashSums();await this.downloadTar(s),await this.downloadLibs(s)}async downloadHashSums(){if(this.config.runtime==="node"||this.config.runtime==="iojs"){const s=zt(this.externalPath(),"SHASUMS256.txt");return(await my(s)).split(`
`).map(h=>{const n=h.split(/\s+/);return{getPath:n[1],sum:n[0]}}).filter(h=>h.getPath&&h.sum)}return null}async downloadTar(s){const o=We(this.config).tarPath,h=zt(this.externalPath(),o),n=await gy(h,{hashType:s?"sha256":void 0,extractOptions:{cwd:this.internalPath(),strip:1,filter:t=>{if(t===this.internalPath())return!0;const e=lf(t);return e!==""&&e.toLowerCase()===".h"}}});if(s&&!fh(s,n,o))throw new Error("Checksum mismatch")}async downloadLibs(s){if(this.config.os!=="win32")return;const o=We(this.config);await Promise.all(o.winLibs.map(h=>this.downloadLib(h,s)))}async downloadLib(s,o){const h=s.dir?zt(s.dir,s.name):s.name,n=zt(this.externalPath(),h);await pe.ensureDir(he(this.internalPath(),s.dir));const t=await _y(n,{path:he(this.internalPath(),h),hashType:o?"sha256":void 0});if(o&&!fh(o,t,h))throw new Error("Checksum mismatch")}}async function vy(i){if(i.command.type==="error")return se.error("The given options are invalid"),null;if(i.command.type==="none")return[];if(i.help)return[];const s=qe(he(process.cwd(),"package.json")),o=await v_(s);if(o instanceof Error)return se.error(o),null;const h=await m_(i,o);if(h===null)return se.error("No configs to build"),null;for(const n of h)try{await Ey(n,i)}catch(t){return se.error("Error building config",n.name,t),null}return h}async function Ey(i,s){se.debug("config",JSON.stringify(i,null,2)),i.targetDirectory=qe(he(i.packageDirectory,i.targetDirectory)),se.debug("running in",i.packageDirectory,"command",s),se.debug("> Setting up staging directory... "),i.stagingDirectory=qe(he(i.packageDirectory,i.stagingDirectory)),await pe.pathExists(i.stagingDirectory)&&await Xt(()=>pe.remove(i.stagingDirectory)),await pe.ensureDir(i.stagingDirectory);const h=new yy(i);se.debug("> Distribution File Download... "),await h.ensureDownloaded(),se.debug("> Determining ABI... "),await h.determineABI(),se.debug("> Building directories... ");const n=he(i.os,i.arch,i.runtime,`${i.libc}-${h.abi()}-${i.buildType}`,i.addonSubdirectory),t=qe(he(i.stagingDirectory,n)),e=qe(he(i.targetDirectory,n));$_(i);const r=new Kp(i,h),[u,c]=await r.configureCommand(),[d,v]=r.buildCommand(t);se.info(Sy(i,h)),se.debug(`> Configure: ${u} ${c.map(a=>`"${a}"`).join(" ")} in ${t}`),await pe.ensureDir(t),await uc(u,c,t),se.debug(`> Build ${i.generatorBinary} ${v.map(a=>`"${a}"`).join(" ")} in ${t}`),await uc(d,v,t),se.debug(`> Copying ${i.projectName}.node to ${e}`);const m=he(e,`${i.projectName}.node`),R=i.generatorToUse.includes("Visual Studio")?he(t,i.buildType,`${i.projectName}.node`):he(t,`${i.projectName}.node`);await pe.ensureDir(e),await Xt(()=>pe.copy(R,m)),se.debug("Adding the built config to the manifest file...");const w=he(i.targetDirectory,"manifest.json");let S={};if(await pe.pathExists(w)){const a=await pe.readFile(w,"utf-8");S=JSON.parse(a)}S[Ry(i,i.packageDirectory)]=dh(i.targetDirectory,m);const g=JSON.stringify(S,null,2);await Xt(()=>pe.writeFile(w,g))}function Sy(i,s){return`${i.name} ${i.os} ${i.arch} ${i.libc} ${i.runtime} ${i.runtimeVersion} ABI ${s.abi()}
${i.generatorToUse} ${i.generatorFlags?.join(" ")??""} ${i.buildType} ${i.toolchainFile!==void 0?`toolchain ${i.toolchainFile}`:""}
  ${i.CMakeOptions.join(" ")}`}function Ry(i,s){return JSON.stringify(i,(o,h)=>typeof h=="string"&&h.startsWith(s)?dh(s,h):h)}async function wy(){const i=Af();return await vy(i)===null?1:0}wy().then(i=>{process.exit(i)}).catch(i=>(se.error(i),1));
//# sourceMappingURL=main.mjs.map
