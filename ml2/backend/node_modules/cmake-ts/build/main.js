#!/usr/bin/env node
"use strict";var tf=Object.create;var uo=Object.defineProperty;var rf=Object.getOwnPropertyDescriptor;var nf=Object.getOwnPropertyNames;var sf=Object.getPrototypeOf,of=Object.prototype.hasOwnProperty;var af=(n,s,o,h)=>{if(s&&typeof s=="object"||typeof s=="function")for(let i of nf(s))!of.call(n,i)&&i!==o&&uo(n,i,{get:()=>s[i],enumerable:!(h=rf(s,i))||h.enumerable});return n};var uf=(n,s,o)=>(o=n!=null?tf(sf(n)):{},af(s||!n||!n.__esModule?uo(o,"default",{value:n,enumerable:!0}):o,n));const Fe=require("events"),Kt=require("child_process"),Q=require("path"),pe=require("fs"),mh=require("process"),lf=require("constants"),qe=require("stream"),Xt=require("util"),ut=require("assert"),We=require("os"),cf=require("url"),hf=require("http"),ff=require("https"),_h=require("string_decoder"),df=require("buffer"),gh=require("zlib"),yh=require("crypto");var or=typeof document<"u"?document.currentScript:null;function pf(n){const s=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(n){for(const o in n)if(o!=="default"){const h=Object.getOwnPropertyDescriptor(n,o);Object.defineProperty(s,o,h.get?h:{enumerable:!0,get:()=>n[o]})}}return s.default=n,Object.freeze(s)}const vh=pf(Kt);var xe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function be(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function mf(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var s=n.default;if(typeof s=="function"){var o=function h(){return this instanceof h?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};o.prototype=s.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(n).forEach(function(h){var i=Object.getOwnPropertyDescriptor(n,h);Object.defineProperty(o,h,i.get?i:{enumerable:!0,get:function(){return n[h]}})}),o}var Ee={},lt={},ct={},lo;function Zt(){if(lo)return ct;lo=1;class n extends Error{constructor(h,i,t){super(t),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.code=i,this.exitCode=h,this.nestedError=void 0}}class s extends n{constructor(h){super(1,"commander.invalidArgument",h),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name}}return ct.CommanderError=n,ct.InvalidArgumentError=s,ct}var co;function js(){if(co)return lt;co=1;const{InvalidArgumentError:n}=Zt();class s{constructor(i,t){switch(this.description=t||"",this.variadic=!1,this.parseArg=void 0,this.defaultValue=void 0,this.defaultValueDescription=void 0,this.argChoices=void 0,i[0]){case"<":this.required=!0,this._name=i.slice(1,-1);break;case"[":this.required=!1,this._name=i.slice(1,-1);break;default:this.required=!0,this._name=i;break}this._name.length>3&&this._name.slice(-3)==="..."&&(this.variadic=!0,this._name=this._name.slice(0,-3))}name(){return this._name}_concatValue(i,t){return t===this.defaultValue||!Array.isArray(t)?[i]:t.concat(i)}default(i,t){return this.defaultValue=i,this.defaultValueDescription=t,this}argParser(i){return this.parseArg=i,this}choices(i){return this.argChoices=i.slice(),this.parseArg=(t,e)=>{if(!this.argChoices.includes(t))throw new n(`Allowed choices are ${this.argChoices.join(", ")}.`);return this.variadic?this._concatValue(t,e):t},this}argRequired(){return this.required=!0,this}argOptional(){return this.required=!1,this}}function o(h){const i=h.name()+(h.variadic===!0?"...":"");return h.required?"<"+i+">":"["+i+"]"}return lt.Argument=s,lt.humanReadableArgName=o,lt}var ht={},ft={},ho;function Eh(){if(ho)return ft;ho=1;const{humanReadableArgName:n}=js();class s{constructor(){this.helpWidth=void 0,this.minWidthToWrap=40,this.sortSubcommands=!1,this.sortOptions=!1,this.showGlobalOptions=!1}prepareContext(i){var t,e;this.helpWidth=(e=(t=this.helpWidth)!=null?t:i.helpWidth)!=null?e:80}visibleCommands(i){const t=i.commands.filter(r=>!r._hidden),e=i._getHelpCommand();return e&&!e._hidden&&t.push(e),this.sortSubcommands&&t.sort((r,u)=>r.name().localeCompare(u.name())),t}compareOptions(i,t){const e=r=>r.short?r.short.replace(/^-/,""):r.long.replace(/^--/,"");return e(i).localeCompare(e(t))}visibleOptions(i){const t=i.options.filter(r=>!r.hidden),e=i._getHelpOption();if(e&&!e.hidden){const r=e.short&&i._findOption(e.short),u=e.long&&i._findOption(e.long);!r&&!u?t.push(e):e.long&&!u?t.push(i.createOption(e.long,e.description)):e.short&&!r&&t.push(i.createOption(e.short,e.description))}return this.sortOptions&&t.sort(this.compareOptions),t}visibleGlobalOptions(i){if(!this.showGlobalOptions)return[];const t=[];for(let e=i.parent;e;e=e.parent){const r=e.options.filter(u=>!u.hidden);t.push(...r)}return this.sortOptions&&t.sort(this.compareOptions),t}visibleArguments(i){return i._argsDescription&&i.registeredArguments.forEach(t=>{t.description=t.description||i._argsDescription[t.name()]||""}),i.registeredArguments.find(t=>t.description)?i.registeredArguments:[]}subcommandTerm(i){const t=i.registeredArguments.map(e=>n(e)).join(" ");return i._name+(i._aliases[0]?"|"+i._aliases[0]:"")+(i.options.length?" [options]":"")+(t?" "+t:"")}optionTerm(i){return i.flags}argumentTerm(i){return i.name()}longestSubcommandTermLength(i,t){return t.visibleCommands(i).reduce((e,r)=>Math.max(e,this.displayWidth(t.styleSubcommandTerm(t.subcommandTerm(r)))),0)}longestOptionTermLength(i,t){return t.visibleOptions(i).reduce((e,r)=>Math.max(e,this.displayWidth(t.styleOptionTerm(t.optionTerm(r)))),0)}longestGlobalOptionTermLength(i,t){return t.visibleGlobalOptions(i).reduce((e,r)=>Math.max(e,this.displayWidth(t.styleOptionTerm(t.optionTerm(r)))),0)}longestArgumentTermLength(i,t){return t.visibleArguments(i).reduce((e,r)=>Math.max(e,this.displayWidth(t.styleArgumentTerm(t.argumentTerm(r)))),0)}commandUsage(i){let t=i._name;i._aliases[0]&&(t=t+"|"+i._aliases[0]);let e="";for(let r=i.parent;r;r=r.parent)e=r.name()+" "+e;return e+t+" "+i.usage()}commandDescription(i){return i.description()}subcommandDescription(i){return i.summary()||i.description()}optionDescription(i){const t=[];return i.argChoices&&t.push(`choices: ${i.argChoices.map(e=>JSON.stringify(e)).join(", ")}`),i.defaultValue!==void 0&&(i.required||i.optional||i.isBoolean()&&typeof i.defaultValue=="boolean")&&t.push(`default: ${i.defaultValueDescription||JSON.stringify(i.defaultValue)}`),i.presetArg!==void 0&&i.optional&&t.push(`preset: ${JSON.stringify(i.presetArg)}`),i.envVar!==void 0&&t.push(`env: ${i.envVar}`),t.length>0?`${i.description} (${t.join(", ")})`:i.description}argumentDescription(i){const t=[];if(i.argChoices&&t.push(`choices: ${i.argChoices.map(e=>JSON.stringify(e)).join(", ")}`),i.defaultValue!==void 0&&t.push(`default: ${i.defaultValueDescription||JSON.stringify(i.defaultValue)}`),t.length>0){const e=`(${t.join(", ")})`;return i.description?`${i.description} ${e}`:e}return i.description}formatHelp(i,t){var w;const e=t.padWidth(i,t),r=(w=t.helpWidth)!=null?w:80;function u(S,g){return t.formatItem(S,e,g,t)}let l=[`${t.styleTitle("Usage:")} ${t.styleUsage(t.commandUsage(i))}`,""];const d=t.commandDescription(i);d.length>0&&(l=l.concat([t.boxWrap(t.styleCommandDescription(d),r),""]));const v=t.visibleArguments(i).map(S=>u(t.styleArgumentTerm(t.argumentTerm(S)),t.styleArgumentDescription(t.argumentDescription(S))));v.length>0&&(l=l.concat([t.styleTitle("Arguments:"),...v,""]));const _=t.visibleOptions(i).map(S=>u(t.styleOptionTerm(t.optionTerm(S)),t.styleOptionDescription(t.optionDescription(S))));if(_.length>0&&(l=l.concat([t.styleTitle("Options:"),..._,""])),t.showGlobalOptions){const S=t.visibleGlobalOptions(i).map(g=>u(t.styleOptionTerm(t.optionTerm(g)),t.styleOptionDescription(t.optionDescription(g))));S.length>0&&(l=l.concat([t.styleTitle("Global Options:"),...S,""]))}const R=t.visibleCommands(i).map(S=>u(t.styleSubcommandTerm(t.subcommandTerm(S)),t.styleSubcommandDescription(t.subcommandDescription(S))));return R.length>0&&(l=l.concat([t.styleTitle("Commands:"),...R,""])),l.join(`
`)}displayWidth(i){return o(i).length}styleTitle(i){return i}styleUsage(i){return i.split(" ").map(t=>t==="[options]"?this.styleOptionText(t):t==="[command]"?this.styleSubcommandText(t):t[0]==="["||t[0]==="<"?this.styleArgumentText(t):this.styleCommandText(t)).join(" ")}styleCommandDescription(i){return this.styleDescriptionText(i)}styleOptionDescription(i){return this.styleDescriptionText(i)}styleSubcommandDescription(i){return this.styleDescriptionText(i)}styleArgumentDescription(i){return this.styleDescriptionText(i)}styleDescriptionText(i){return i}styleOptionTerm(i){return this.styleOptionText(i)}styleSubcommandTerm(i){return i.split(" ").map(t=>t==="[options]"?this.styleOptionText(t):t[0]==="["||t[0]==="<"?this.styleArgumentText(t):this.styleSubcommandText(t)).join(" ")}styleArgumentTerm(i){return this.styleArgumentText(i)}styleOptionText(i){return i}styleArgumentText(i){return i}styleSubcommandText(i){return i}styleCommandText(i){return i}padWidth(i,t){return Math.max(t.longestOptionTermLength(i,t),t.longestGlobalOptionTermLength(i,t),t.longestSubcommandTermLength(i,t),t.longestArgumentTermLength(i,t))}preformatted(i){return/\n[^\S\r\n]/.test(i)}formatItem(i,t,e,r){var S;const l=" ".repeat(2);if(!e)return l+i;const d=i.padEnd(t+i.length-r.displayWidth(i)),v=2,R=((S=this.helpWidth)!=null?S:80)-t-v-2;let w;return R<this.minWidthToWrap||r.preformatted(e)?w=e:w=r.boxWrap(e,R).replace(/\n/g,`
`+" ".repeat(t+v)),l+d+" ".repeat(v)+w.replace(/\n/g,`
${l}`)}boxWrap(i,t){if(t<this.minWidthToWrap)return i;const e=i.split(/\r\n|\n/),r=/[\s]*[^\s]+/g,u=[];return e.forEach(l=>{const d=l.match(r);if(d===null){u.push("");return}let v=[d.shift()],_=this.displayWidth(v[0]);d.forEach(R=>{const w=this.displayWidth(R);if(_+w<=t){v.push(R),_+=w;return}u.push(v.join(""));const S=R.trimStart();v=[S],_=this.displayWidth(S)}),u.push(v.join(""))}),u.join(`
`)}}function o(h){const i=/\x1b\[\d*(;\d*)*m/g;return h.replace(i,"")}return ft.Help=s,ft.stripColor=o,ft}var dt={},fo;function Sh(){if(fo)return dt;fo=1;const{InvalidArgumentError:n}=Zt();class s{constructor(e,r){this.flags=e,this.description=r||"",this.required=e.includes("<"),this.optional=e.includes("["),this.variadic=/\w\.\.\.[>\]]$/.test(e),this.mandatory=!1;const u=i(e);this.short=u.shortFlag,this.long=u.longFlag,this.negate=!1,this.long&&(this.negate=this.long.startsWith("--no-")),this.defaultValue=void 0,this.defaultValueDescription=void 0,this.presetArg=void 0,this.envVar=void 0,this.parseArg=void 0,this.hidden=!1,this.argChoices=void 0,this.conflictsWith=[],this.implied=void 0}default(e,r){return this.defaultValue=e,this.defaultValueDescription=r,this}preset(e){return this.presetArg=e,this}conflicts(e){return this.conflictsWith=this.conflictsWith.concat(e),this}implies(e){let r=e;return typeof e=="string"&&(r={[e]:!0}),this.implied=Object.assign(this.implied||{},r),this}env(e){return this.envVar=e,this}argParser(e){return this.parseArg=e,this}makeOptionMandatory(e=!0){return this.mandatory=!!e,this}hideHelp(e=!0){return this.hidden=!!e,this}_concatValue(e,r){return r===this.defaultValue||!Array.isArray(r)?[e]:r.concat(e)}choices(e){return this.argChoices=e.slice(),this.parseArg=(r,u)=>{if(!this.argChoices.includes(r))throw new n(`Allowed choices are ${this.argChoices.join(", ")}.`);return this.variadic?this._concatValue(r,u):r},this}name(){return this.long?this.long.replace(/^--/,""):this.short.replace(/^-/,"")}attributeName(){return this.negate?h(this.name().replace(/^no-/,"")):h(this.name())}is(e){return this.short===e||this.long===e}isBoolean(){return!this.required&&!this.optional&&!this.negate}}class o{constructor(e){this.positiveOptions=new Map,this.negativeOptions=new Map,this.dualOptions=new Set,e.forEach(r=>{r.negate?this.negativeOptions.set(r.attributeName(),r):this.positiveOptions.set(r.attributeName(),r)}),this.negativeOptions.forEach((r,u)=>{this.positiveOptions.has(u)&&this.dualOptions.add(u)})}valueFromOption(e,r){const u=r.attributeName();if(!this.dualOptions.has(u))return!0;const l=this.negativeOptions.get(u).presetArg,d=l!==void 0?l:!1;return r.negate===(d===e)}}function h(t){return t.split("-").reduce((e,r)=>e+r[0].toUpperCase()+r.slice(1))}function i(t){let e,r;const u=/^-[^-]$/,l=/^--[^-]/,d=t.split(/[ |,]+/).concat("guard");if(u.test(d[0])&&(e=d.shift()),l.test(d[0])&&(r=d.shift()),!e&&u.test(d[0])&&(e=d.shift()),!e&&l.test(d[0])&&(e=r,r=d.shift()),d[0].startsWith("-")){const v=d[0],_=`option creation failed due to '${v}' in option flags '${t}'`;throw/^-[^-][^-]/.test(v)?new Error(`${_}
- a short flag is a single dash and a single character
  - either use a single dash and a single character (for a short flag)
  - or use a double dash for a long option (and can have two, like '--ws, --workspace')`):u.test(v)?new Error(`${_}
- too many short flags`):l.test(v)?new Error(`${_}
- too many long flags`):new Error(`${_}
- unrecognised flag format`)}if(e===void 0&&r===void 0)throw new Error(`option creation failed due to no flags found in '${t}'.`);return{shortFlag:e,longFlag:r}}return dt.Option=s,dt.DualOptions=o,dt}var ar={},po;function _f(){if(po)return ar;po=1;const n=3;function s(h,i){if(Math.abs(h.length-i.length)>n)return Math.max(h.length,i.length);const t=[];for(let e=0;e<=h.length;e++)t[e]=[e];for(let e=0;e<=i.length;e++)t[0][e]=e;for(let e=1;e<=i.length;e++)for(let r=1;r<=h.length;r++){let u=1;h[r-1]===i[e-1]?u=0:u=1,t[r][e]=Math.min(t[r-1][e]+1,t[r][e-1]+1,t[r-1][e-1]+u),r>1&&e>1&&h[r-1]===i[e-2]&&h[r-2]===i[e-1]&&(t[r][e]=Math.min(t[r][e],t[r-2][e-2]+1))}return t[h.length][i.length]}function o(h,i){if(!i||i.length===0)return"";i=Array.from(new Set(i));const t=h.startsWith("--");t&&(h=h.slice(2),i=i.map(l=>l.slice(2)));let e=[],r=n;const u=.4;return i.forEach(l=>{if(l.length<=1)return;const d=s(h,l),v=Math.max(h.length,l.length);(v-d)/v>u&&(d<r?(r=d,e=[l]):d===r&&e.push(l))}),e.sort((l,d)=>l.localeCompare(d)),t&&(e=e.map(l=>`--${l}`)),e.length>1?`
(Did you mean one of ${e.join(", ")}?)`:e.length===1?`
(Did you mean ${e[0]}?)`:""}return ar.suggestSimilar=o,ar}var mo;function gf(){if(mo)return ht;mo=1;const n=Fe.EventEmitter,s=Kt,o=Q,h=pe,i=mh,{Argument:t,humanReadableArgName:e}=js(),{CommanderError:r}=Zt(),{Help:u,stripColor:l}=Eh(),{Option:d,DualOptions:v}=Sh(),{suggestSimilar:_}=_f();class R extends n{constructor(a){super(),this.commands=[],this.options=[],this.parent=null,this._allowUnknownOption=!1,this._allowExcessArguments=!1,this.registeredArguments=[],this._args=this.registeredArguments,this.args=[],this.rawArgs=[],this.processedArgs=[],this._scriptPath=null,this._name=a||"",this._optionValues={},this._optionValueSources={},this._storeOptionsAsProperties=!1,this._actionHandler=null,this._executableHandler=!1,this._executableFile=null,this._executableDir=null,this._defaultCommandName=null,this._exitCallback=null,this._aliases=[],this._combineFlagAndOptionalValue=!0,this._description="",this._summary="",this._argsDescription=void 0,this._enablePositionalOptions=!1,this._passThroughOptions=!1,this._lifeCycleHooks={},this._showHelpAfterError=!1,this._showSuggestionAfterError=!0,this._savedState=null,this._outputConfiguration={writeOut:f=>i.stdout.write(f),writeErr:f=>i.stderr.write(f),outputError:(f,c)=>c(f),getOutHelpWidth:()=>i.stdout.isTTY?i.stdout.columns:void 0,getErrHelpWidth:()=>i.stderr.isTTY?i.stderr.columns:void 0,getOutHasColors:()=>{var f,c,m;return(m=S())!=null?m:i.stdout.isTTY&&((c=(f=i.stdout).hasColors)==null?void 0:c.call(f))},getErrHasColors:()=>{var f,c,m;return(m=S())!=null?m:i.stderr.isTTY&&((c=(f=i.stderr).hasColors)==null?void 0:c.call(f))},stripColor:f=>l(f)},this._hidden=!1,this._helpOption=void 0,this._addImplicitHelpCommand=void 0,this._helpCommand=void 0,this._helpConfiguration={}}copyInheritedSettings(a){return this._outputConfiguration=a._outputConfiguration,this._helpOption=a._helpOption,this._helpCommand=a._helpCommand,this._helpConfiguration=a._helpConfiguration,this._exitCallback=a._exitCallback,this._storeOptionsAsProperties=a._storeOptionsAsProperties,this._combineFlagAndOptionalValue=a._combineFlagAndOptionalValue,this._allowExcessArguments=a._allowExcessArguments,this._enablePositionalOptions=a._enablePositionalOptions,this._showHelpAfterError=a._showHelpAfterError,this._showSuggestionAfterError=a._showSuggestionAfterError,this}_getCommandAndAncestors(){const a=[];for(let f=this;f;f=f.parent)a.push(f);return a}command(a,f,c){let m=f,p=c;typeof m=="object"&&m!==null&&(p=m,m=null),p=p||{};const[,E,y]=a.match(/([^ ]+) *(.*)/),b=this.createCommand(E);return m&&(b.description(m),b._executableHandler=!0),p.isDefault&&(this._defaultCommandName=b._name),b._hidden=!!(p.noHelp||p.hidden),b._executableFile=p.executableFile||null,y&&b.arguments(y),this._registerCommand(b),b.parent=this,b.copyInheritedSettings(this),m?this:b}createCommand(a){return new R(a)}createHelp(){return Object.assign(new u,this.configureHelp())}configureHelp(a){return a===void 0?this._helpConfiguration:(this._helpConfiguration=a,this)}configureOutput(a){return a===void 0?this._outputConfiguration:(Object.assign(this._outputConfiguration,a),this)}showHelpAfterError(a=!0){return typeof a!="string"&&(a=!!a),this._showHelpAfterError=a,this}showSuggestionAfterError(a=!0){return this._showSuggestionAfterError=!!a,this}addCommand(a,f){if(!a._name)throw new Error(`Command passed to .addCommand() must have a name
- specify the name in Command constructor or using .name()`);return f=f||{},f.isDefault&&(this._defaultCommandName=a._name),(f.noHelp||f.hidden)&&(a._hidden=!0),this._registerCommand(a),a.parent=this,a._checkForBrokenPassThrough(),this}createArgument(a,f){return new t(a,f)}argument(a,f,c,m){const p=this.createArgument(a,f);return typeof c=="function"?p.default(m).argParser(c):p.default(c),this.addArgument(p),this}arguments(a){return a.trim().split(/ +/).forEach(f=>{this.argument(f)}),this}addArgument(a){const f=this.registeredArguments.slice(-1)[0];if(f&&f.variadic)throw new Error(`only the last argument can be variadic '${f.name()}'`);if(a.required&&a.defaultValue!==void 0&&a.parseArg===void 0)throw new Error(`a default value for a required argument is never used: '${a.name()}'`);return this.registeredArguments.push(a),this}helpCommand(a,f){if(typeof a=="boolean")return this._addImplicitHelpCommand=a,this;a=a!=null?a:"help [command]";const[,c,m]=a.match(/([^ ]+) *(.*)/),p=f!=null?f:"display help for command",E=this.createCommand(c);return E.helpOption(!1),m&&E.arguments(m),p&&E.description(p),this._addImplicitHelpCommand=!0,this._helpCommand=E,this}addHelpCommand(a,f){return typeof a!="object"?(this.helpCommand(a,f),this):(this._addImplicitHelpCommand=!0,this._helpCommand=a,this)}_getHelpCommand(){var f;return((f=this._addImplicitHelpCommand)!=null?f:this.commands.length&&!this._actionHandler&&!this._findCommand("help"))?(this._helpCommand===void 0&&this.helpCommand(void 0,void 0),this._helpCommand):null}hook(a,f){const c=["preSubcommand","preAction","postAction"];if(!c.includes(a))throw new Error(`Unexpected value for event passed to hook : '${a}'.
Expecting one of '${c.join("', '")}'`);return this._lifeCycleHooks[a]?this._lifeCycleHooks[a].push(f):this._lifeCycleHooks[a]=[f],this}exitOverride(a){return a?this._exitCallback=a:this._exitCallback=f=>{if(f.code!=="commander.executeSubCommandAsync")throw f},this}_exit(a,f,c){this._exitCallback&&this._exitCallback(new r(a,f,c)),i.exit(a)}action(a){const f=c=>{const m=this.registeredArguments.length,p=c.slice(0,m);return this._storeOptionsAsProperties?p[m]=this:p[m]=this.opts(),p.push(this),a.apply(this,p)};return this._actionHandler=f,this}createOption(a,f){return new d(a,f)}_callParseArg(a,f,c,m){try{return a.parseArg(f,c)}catch(p){if(p.code==="commander.invalidArgument"){const E=`${m} ${p.message}`;this.error(E,{exitCode:p.exitCode,code:p.code})}throw p}}_registerOption(a){const f=a.short&&this._findOption(a.short)||a.long&&this._findOption(a.long);if(f){const c=a.long&&this._findOption(a.long)?a.long:a.short;throw new Error(`Cannot add option '${a.flags}'${this._name&&` to command '${this._name}'`} due to conflicting flag '${c}'
-  already used by option '${f.flags}'`)}this.options.push(a)}_registerCommand(a){const f=m=>[m.name()].concat(m.aliases()),c=f(a).find(m=>this._findCommand(m));if(c){const m=f(this._findCommand(c)).join("|"),p=f(a).join("|");throw new Error(`cannot add command '${p}' as already have command '${m}'`)}this.commands.push(a)}addOption(a){this._registerOption(a);const f=a.name(),c=a.attributeName();if(a.negate){const p=a.long.replace(/^--no-/,"--");this._findOption(p)||this.setOptionValueWithSource(c,a.defaultValue===void 0?!0:a.defaultValue,"default")}else a.defaultValue!==void 0&&this.setOptionValueWithSource(c,a.defaultValue,"default");const m=(p,E,y)=>{p==null&&a.presetArg!==void 0&&(p=a.presetArg);const b=this.getOptionValue(c);p!==null&&a.parseArg?p=this._callParseArg(a,p,b,E):p!==null&&a.variadic&&(p=a._concatValue(p,b)),p==null&&(a.negate?p=!1:a.isBoolean()||a.optional?p=!0:p=""),this.setOptionValueWithSource(c,p,y)};return this.on("option:"+f,p=>{const E=`error: option '${a.flags}' argument '${p}' is invalid.`;m(p,E,"cli")}),a.envVar&&this.on("optionEnv:"+f,p=>{const E=`error: option '${a.flags}' value '${p}' from env '${a.envVar}' is invalid.`;m(p,E,"env")}),this}_optionEx(a,f,c,m,p){if(typeof f=="object"&&f instanceof d)throw new Error("To add an Option object use addOption() instead of option() or requiredOption()");const E=this.createOption(f,c);if(E.makeOptionMandatory(!!a.mandatory),typeof m=="function")E.default(p).argParser(m);else if(m instanceof RegExp){const y=m;m=(b,A)=>{const P=y.exec(b);return P?P[0]:A},E.default(p).argParser(m)}else E.default(m);return this.addOption(E)}option(a,f,c,m){return this._optionEx({},a,f,c,m)}requiredOption(a,f,c,m){return this._optionEx({mandatory:!0},a,f,c,m)}combineFlagAndOptionalValue(a=!0){return this._combineFlagAndOptionalValue=!!a,this}allowUnknownOption(a=!0){return this._allowUnknownOption=!!a,this}allowExcessArguments(a=!0){return this._allowExcessArguments=!!a,this}enablePositionalOptions(a=!0){return this._enablePositionalOptions=!!a,this}passThroughOptions(a=!0){return this._passThroughOptions=!!a,this._checkForBrokenPassThrough(),this}_checkForBrokenPassThrough(){if(this.parent&&this._passThroughOptions&&!this.parent._enablePositionalOptions)throw new Error(`passThroughOptions cannot be used for '${this._name}' without turning on enablePositionalOptions for parent command(s)`)}storeOptionsAsProperties(a=!0){if(this.options.length)throw new Error("call .storeOptionsAsProperties() before adding options");if(Object.keys(this._optionValues).length)throw new Error("call .storeOptionsAsProperties() before setting option values");return this._storeOptionsAsProperties=!!a,this}getOptionValue(a){return this._storeOptionsAsProperties?this[a]:this._optionValues[a]}setOptionValue(a,f){return this.setOptionValueWithSource(a,f,void 0)}setOptionValueWithSource(a,f,c){return this._storeOptionsAsProperties?this[a]=f:this._optionValues[a]=f,this._optionValueSources[a]=c,this}getOptionValueSource(a){return this._optionValueSources[a]}getOptionValueSourceWithGlobals(a){let f;return this._getCommandAndAncestors().forEach(c=>{c.getOptionValueSource(a)!==void 0&&(f=c.getOptionValueSource(a))}),f}_prepareUserArgs(a,f){var m,p;if(a!==void 0&&!Array.isArray(a))throw new Error("first parameter to parse must be array or undefined");if(f=f||{},a===void 0&&f.from===void 0){(m=i.versions)!=null&&m.electron&&(f.from="electron");const E=(p=i.execArgv)!=null?p:[];(E.includes("-e")||E.includes("--eval")||E.includes("-p")||E.includes("--print"))&&(f.from="eval")}a===void 0&&(a=i.argv),this.rawArgs=a.slice();let c;switch(f.from){case void 0:case"node":this._scriptPath=a[1],c=a.slice(2);break;case"electron":i.defaultApp?(this._scriptPath=a[1],c=a.slice(2)):c=a.slice(1);break;case"user":c=a.slice(0);break;case"eval":c=a.slice(1);break;default:throw new Error(`unexpected parse option { from: '${f.from}' }`)}return!this._name&&this._scriptPath&&this.nameFromFilename(this._scriptPath),this._name=this._name||"program",c}parse(a,f){this._prepareForParse();const c=this._prepareUserArgs(a,f);return this._parseCommand([],c),this}async parseAsync(a,f){this._prepareForParse();const c=this._prepareUserArgs(a,f);return await this._parseCommand([],c),this}_prepareForParse(){this._savedState===null?this.saveStateBeforeParse():this.restoreStateBeforeParse()}saveStateBeforeParse(){this._savedState={_name:this._name,_optionValues:{...this._optionValues},_optionValueSources:{...this._optionValueSources}}}restoreStateBeforeParse(){if(this._storeOptionsAsProperties)throw new Error(`Can not call parse again when storeOptionsAsProperties is true.
- either make a new Command for each call to parse, or stop storing options as properties`);this._name=this._savedState._name,this._scriptPath=null,this.rawArgs=[],this._optionValues={...this._savedState._optionValues},this._optionValueSources={...this._savedState._optionValueSources},this.args=[],this.processedArgs=[]}_checkForMissingExecutable(a,f,c){if(h.existsSync(a))return;const m=f?`searched for local subcommand relative to directory '${f}'`:"no directory for search for local subcommand, use .executableDir() to supply a custom directory",p=`'${a}' does not exist
 - if '${c}' is not meant to be an executable command, remove description parameter from '.command()' and use '.description()' instead
 - if the default executable name is not suitable, use the executableFile option to supply a custom name or path
 - ${m}`;throw new Error(p)}_executeSubCommand(a,f){f=f.slice();let c=!1;const m=[".js",".ts",".tsx",".mjs",".cjs"];function p(P,D){const q=o.resolve(P,D);if(h.existsSync(q))return q;if(m.includes(o.extname(D)))return;const $=m.find(L=>h.existsSync(`${q}${L}`));if($)return`${q}${$}`}this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();let E=a._executableFile||`${this._name}-${a._name}`,y=this._executableDir||"";if(this._scriptPath){let P;try{P=h.realpathSync(this._scriptPath)}catch{P=this._scriptPath}y=o.resolve(o.dirname(P),y)}if(y){let P=p(y,E);if(!P&&!a._executableFile&&this._scriptPath){const D=o.basename(this._scriptPath,o.extname(this._scriptPath));D!==this._name&&(P=p(y,`${D}-${a._name}`))}E=P||E}c=m.includes(o.extname(E));let b;i.platform!=="win32"?c?(f.unshift(E),f=w(i.execArgv).concat(f),b=s.spawn(i.argv[0],f,{stdio:"inherit"})):b=s.spawn(E,f,{stdio:"inherit"}):(this._checkForMissingExecutable(E,y,a._name),f.unshift(E),f=w(i.execArgv).concat(f),b=s.spawn(i.execPath,f,{stdio:"inherit"})),b.killed||["SIGUSR1","SIGUSR2","SIGTERM","SIGINT","SIGHUP"].forEach(D=>{i.on(D,()=>{b.killed===!1&&b.exitCode===null&&b.kill(D)})});const A=this._exitCallback;b.on("close",P=>{P=P!=null?P:1,A?A(new r(P,"commander.executeSubCommandAsync","(close)")):i.exit(P)}),b.on("error",P=>{if(P.code==="ENOENT")this._checkForMissingExecutable(E,y,a._name);else if(P.code==="EACCES")throw new Error(`'${E}' not executable`);if(!A)i.exit(1);else{const D=new r(1,"commander.executeSubCommandAsync","(error)");D.nestedError=P,A(D)}}),this.runningCommand=b}_dispatchSubcommand(a,f,c){const m=this._findCommand(a);m||this.help({error:!0}),m._prepareForParse();let p;return p=this._chainOrCallSubCommandHook(p,m,"preSubcommand"),p=this._chainOrCall(p,()=>{if(m._executableHandler)this._executeSubCommand(m,f.concat(c));else return m._parseCommand(f,c)}),p}_dispatchHelpCommand(a){var c,m,p,E;a||this.help();const f=this._findCommand(a);return f&&!f._executableHandler&&f.help(),this._dispatchSubcommand(a,[],[(E=(p=(c=this._getHelpOption())==null?void 0:c.long)!=null?p:(m=this._getHelpOption())==null?void 0:m.short)!=null?E:"--help"])}_checkNumberOfArguments(){this.registeredArguments.forEach((a,f)=>{a.required&&this.args[f]==null&&this.missingArgument(a.name())}),!(this.registeredArguments.length>0&&this.registeredArguments[this.registeredArguments.length-1].variadic)&&this.args.length>this.registeredArguments.length&&this._excessArguments(this.args)}_processArguments(){const a=(c,m,p)=>{let E=m;if(m!==null&&c.parseArg){const y=`error: command-argument value '${m}' is invalid for argument '${c.name()}'.`;E=this._callParseArg(c,m,p,y)}return E};this._checkNumberOfArguments();const f=[];this.registeredArguments.forEach((c,m)=>{let p=c.defaultValue;c.variadic?m<this.args.length?(p=this.args.slice(m),c.parseArg&&(p=p.reduce((E,y)=>a(c,y,E),c.defaultValue))):p===void 0&&(p=[]):m<this.args.length&&(p=this.args[m],c.parseArg&&(p=a(c,p,c.defaultValue))),f[m]=p}),this.processedArgs=f}_chainOrCall(a,f){return a&&a.then&&typeof a.then=="function"?a.then(()=>f()):f()}_chainOrCallHooks(a,f){let c=a;const m=[];return this._getCommandAndAncestors().reverse().filter(p=>p._lifeCycleHooks[f]!==void 0).forEach(p=>{p._lifeCycleHooks[f].forEach(E=>{m.push({hookedCommand:p,callback:E})})}),f==="postAction"&&m.reverse(),m.forEach(p=>{c=this._chainOrCall(c,()=>p.callback(p.hookedCommand,this))}),c}_chainOrCallSubCommandHook(a,f,c){let m=a;return this._lifeCycleHooks[c]!==void 0&&this._lifeCycleHooks[c].forEach(p=>{m=this._chainOrCall(m,()=>p(this,f))}),m}_parseCommand(a,f){const c=this.parseOptions(f);if(this._parseOptionsEnv(),this._parseOptionsImplied(),a=a.concat(c.operands),f=c.unknown,this.args=a.concat(f),a&&this._findCommand(a[0]))return this._dispatchSubcommand(a[0],a.slice(1),f);if(this._getHelpCommand()&&a[0]===this._getHelpCommand().name())return this._dispatchHelpCommand(a[1]);if(this._defaultCommandName)return this._outputHelpIfRequested(f),this._dispatchSubcommand(this._defaultCommandName,a,f);this.commands.length&&this.args.length===0&&!this._actionHandler&&!this._defaultCommandName&&this.help({error:!0}),this._outputHelpIfRequested(c.unknown),this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();const m=()=>{c.unknown.length>0&&this.unknownOption(c.unknown[0])},p=`command:${this.name()}`;if(this._actionHandler){m(),this._processArguments();let E;return E=this._chainOrCallHooks(E,"preAction"),E=this._chainOrCall(E,()=>this._actionHandler(this.processedArgs)),this.parent&&(E=this._chainOrCall(E,()=>{this.parent.emit(p,a,f)})),E=this._chainOrCallHooks(E,"postAction"),E}if(this.parent&&this.parent.listenerCount(p))m(),this._processArguments(),this.parent.emit(p,a,f);else if(a.length){if(this._findCommand("*"))return this._dispatchSubcommand("*",a,f);this.listenerCount("command:*")?this.emit("command:*",a,f):this.commands.length?this.unknownCommand():(m(),this._processArguments())}else this.commands.length?(m(),this.help({error:!0})):(m(),this._processArguments())}_findCommand(a){if(a)return this.commands.find(f=>f._name===a||f._aliases.includes(a))}_findOption(a){return this.options.find(f=>f.is(a))}_checkForMissingMandatoryOptions(){this._getCommandAndAncestors().forEach(a=>{a.options.forEach(f=>{f.mandatory&&a.getOptionValue(f.attributeName())===void 0&&a.missingMandatoryOptionValue(f)})})}_checkForConflictingLocalOptions(){const a=this.options.filter(c=>{const m=c.attributeName();return this.getOptionValue(m)===void 0?!1:this.getOptionValueSource(m)!=="default"});a.filter(c=>c.conflictsWith.length>0).forEach(c=>{const m=a.find(p=>c.conflictsWith.includes(p.attributeName()));m&&this._conflictingOption(c,m)})}_checkForConflictingOptions(){this._getCommandAndAncestors().forEach(a=>{a._checkForConflictingLocalOptions()})}parseOptions(a){const f=[],c=[];let m=f;const p=a.slice();function E(b){return b.length>1&&b[0]==="-"}let y=null;for(;p.length;){const b=p.shift();if(b==="--"){m===c&&m.push(b),m.push(...p);break}if(y&&!E(b)){this.emit(`option:${y.name()}`,b);continue}if(y=null,E(b)){const A=this._findOption(b);if(A){if(A.required){const P=p.shift();P===void 0&&this.optionMissingArgument(A),this.emit(`option:${A.name()}`,P)}else if(A.optional){let P=null;p.length>0&&!E(p[0])&&(P=p.shift()),this.emit(`option:${A.name()}`,P)}else this.emit(`option:${A.name()}`);y=A.variadic?A:null;continue}}if(b.length>2&&b[0]==="-"&&b[1]!=="-"){const A=this._findOption(`-${b[1]}`);if(A){A.required||A.optional&&this._combineFlagAndOptionalValue?this.emit(`option:${A.name()}`,b.slice(2)):(this.emit(`option:${A.name()}`),p.unshift(`-${b.slice(2)}`));continue}}if(/^--[^=]+=/.test(b)){const A=b.indexOf("="),P=this._findOption(b.slice(0,A));if(P&&(P.required||P.optional)){this.emit(`option:${P.name()}`,b.slice(A+1));continue}}if(E(b)&&(m=c),(this._enablePositionalOptions||this._passThroughOptions)&&f.length===0&&c.length===0){if(this._findCommand(b)){f.push(b),p.length>0&&c.push(...p);break}else if(this._getHelpCommand()&&b===this._getHelpCommand().name()){f.push(b),p.length>0&&f.push(...p);break}else if(this._defaultCommandName){c.push(b),p.length>0&&c.push(...p);break}}if(this._passThroughOptions){m.push(b),p.length>0&&m.push(...p);break}m.push(b)}return{operands:f,unknown:c}}opts(){if(this._storeOptionsAsProperties){const a={},f=this.options.length;for(let c=0;c<f;c++){const m=this.options[c].attributeName();a[m]=m===this._versionOptionName?this._version:this[m]}return a}return this._optionValues}optsWithGlobals(){return this._getCommandAndAncestors().reduce((a,f)=>Object.assign(a,f.opts()),{})}error(a,f){this._outputConfiguration.outputError(`${a}
`,this._outputConfiguration.writeErr),typeof this._showHelpAfterError=="string"?this._outputConfiguration.writeErr(`${this._showHelpAfterError}
`):this._showHelpAfterError&&(this._outputConfiguration.writeErr(`
`),this.outputHelp({error:!0}));const c=f||{},m=c.exitCode||1,p=c.code||"commander.error";this._exit(m,p,a)}_parseOptionsEnv(){this.options.forEach(a=>{if(a.envVar&&a.envVar in i.env){const f=a.attributeName();(this.getOptionValue(f)===void 0||["default","config","env"].includes(this.getOptionValueSource(f)))&&(a.required||a.optional?this.emit(`optionEnv:${a.name()}`,i.env[a.envVar]):this.emit(`optionEnv:${a.name()}`))}})}_parseOptionsImplied(){const a=new v(this.options),f=c=>this.getOptionValue(c)!==void 0&&!["default","implied"].includes(this.getOptionValueSource(c));this.options.filter(c=>c.implied!==void 0&&f(c.attributeName())&&a.valueFromOption(this.getOptionValue(c.attributeName()),c)).forEach(c=>{Object.keys(c.implied).filter(m=>!f(m)).forEach(m=>{this.setOptionValueWithSource(m,c.implied[m],"implied")})})}missingArgument(a){const f=`error: missing required argument '${a}'`;this.error(f,{code:"commander.missingArgument"})}optionMissingArgument(a){const f=`error: option '${a.flags}' argument missing`;this.error(f,{code:"commander.optionMissingArgument"})}missingMandatoryOptionValue(a){const f=`error: required option '${a.flags}' not specified`;this.error(f,{code:"commander.missingMandatoryOptionValue"})}_conflictingOption(a,f){const c=E=>{const y=E.attributeName(),b=this.getOptionValue(y),A=this.options.find(D=>D.negate&&y===D.attributeName()),P=this.options.find(D=>!D.negate&&y===D.attributeName());return A&&(A.presetArg===void 0&&b===!1||A.presetArg!==void 0&&b===A.presetArg)?A:P||E},m=E=>{const y=c(E),b=y.attributeName();return this.getOptionValueSource(b)==="env"?`environment variable '${y.envVar}'`:`option '${y.flags}'`},p=`error: ${m(a)} cannot be used with ${m(f)}`;this.error(p,{code:"commander.conflictingOption"})}unknownOption(a){if(this._allowUnknownOption)return;let f="";if(a.startsWith("--")&&this._showSuggestionAfterError){let m=[],p=this;do{const E=p.createHelp().visibleOptions(p).filter(y=>y.long).map(y=>y.long);m=m.concat(E),p=p.parent}while(p&&!p._enablePositionalOptions);f=_(a,m)}const c=`error: unknown option '${a}'${f}`;this.error(c,{code:"commander.unknownOption"})}_excessArguments(a){if(this._allowExcessArguments)return;const f=this.registeredArguments.length,c=f===1?"":"s",p=`error: too many arguments${this.parent?` for '${this.name()}'`:""}. Expected ${f} argument${c} but got ${a.length}.`;this.error(p,{code:"commander.excessArguments"})}unknownCommand(){const a=this.args[0];let f="";if(this._showSuggestionAfterError){const m=[];this.createHelp().visibleCommands(this).forEach(p=>{m.push(p.name()),p.alias()&&m.push(p.alias())}),f=_(a,m)}const c=`error: unknown command '${a}'${f}`;this.error(c,{code:"commander.unknownCommand"})}version(a,f,c){if(a===void 0)return this._version;this._version=a,f=f||"-V, --version",c=c||"output the version number";const m=this.createOption(f,c);return this._versionOptionName=m.attributeName(),this._registerOption(m),this.on("option:"+m.name(),()=>{this._outputConfiguration.writeOut(`${a}
`),this._exit(0,"commander.version",a)}),this}description(a,f){return a===void 0&&f===void 0?this._description:(this._description=a,f&&(this._argsDescription=f),this)}summary(a){return a===void 0?this._summary:(this._summary=a,this)}alias(a){var m;if(a===void 0)return this._aliases[0];let f=this;if(this.commands.length!==0&&this.commands[this.commands.length-1]._executableHandler&&(f=this.commands[this.commands.length-1]),a===f._name)throw new Error("Command alias can't be the same as its name");const c=(m=this.parent)==null?void 0:m._findCommand(a);if(c){const p=[c.name()].concat(c.aliases()).join("|");throw new Error(`cannot add alias '${a}' to command '${this.name()}' as already have command '${p}'`)}return f._aliases.push(a),this}aliases(a){return a===void 0?this._aliases:(a.forEach(f=>this.alias(f)),this)}usage(a){if(a===void 0){if(this._usage)return this._usage;const f=this.registeredArguments.map(c=>e(c));return[].concat(this.options.length||this._helpOption!==null?"[options]":[],this.commands.length?"[command]":[],this.registeredArguments.length?f:[]).join(" ")}return this._usage=a,this}name(a){return a===void 0?this._name:(this._name=a,this)}nameFromFilename(a){return this._name=o.basename(a,o.extname(a)),this}executableDir(a){return a===void 0?this._executableDir:(this._executableDir=a,this)}helpInformation(a){const f=this.createHelp(),c=this._getOutputContext(a);f.prepareContext({error:c.error,helpWidth:c.helpWidth,outputHasColors:c.hasColors});const m=f.formatHelp(this,f);return c.hasColors?m:this._outputConfiguration.stripColor(m)}_getOutputContext(a){a=a||{};const f=!!a.error;let c,m,p;return f?(c=y=>this._outputConfiguration.writeErr(y),m=this._outputConfiguration.getErrHasColors(),p=this._outputConfiguration.getErrHelpWidth()):(c=y=>this._outputConfiguration.writeOut(y),m=this._outputConfiguration.getOutHasColors(),p=this._outputConfiguration.getOutHelpWidth()),{error:f,write:y=>(m||(y=this._outputConfiguration.stripColor(y)),c(y)),hasColors:m,helpWidth:p}}outputHelp(a){var E;let f;typeof a=="function"&&(f=a,a=void 0);const c=this._getOutputContext(a),m={error:c.error,write:c.write,command:this};this._getCommandAndAncestors().reverse().forEach(y=>y.emit("beforeAllHelp",m)),this.emit("beforeHelp",m);let p=this.helpInformation({error:c.error});if(f&&(p=f(p),typeof p!="string"&&!Buffer.isBuffer(p)))throw new Error("outputHelp callback must return a string or a Buffer");c.write(p),(E=this._getHelpOption())!=null&&E.long&&this.emit(this._getHelpOption().long),this.emit("afterHelp",m),this._getCommandAndAncestors().forEach(y=>y.emit("afterAllHelp",m))}helpOption(a,f){var c;return typeof a=="boolean"?(a?this._helpOption=(c=this._helpOption)!=null?c:void 0:this._helpOption=null,this):(a=a!=null?a:"-h, --help",f=f!=null?f:"display help for command",this._helpOption=this.createOption(a,f),this)}_getHelpOption(){return this._helpOption===void 0&&this.helpOption(void 0,void 0),this._helpOption}addHelpOption(a){return this._helpOption=a,this}help(a){var c;this.outputHelp(a);let f=Number((c=i.exitCode)!=null?c:0);f===0&&a&&typeof a!="function"&&a.error&&(f=1),this._exit(f,"commander.help","(outputHelp)")}addHelpText(a,f){const c=["beforeAll","before","after","afterAll"];if(!c.includes(a))throw new Error(`Unexpected value for position to addHelpText.
Expecting one of '${c.join("', '")}'`);const m=`${a}Help`;return this.on(m,p=>{let E;typeof f=="function"?E=f({error:p.error,command:p.command}):E=f,E&&p.write(`${E}
`)}),this}_outputHelpIfRequested(a){const f=this._getHelpOption();f&&a.find(m=>f.is(m))&&(this.outputHelp(),this._exit(0,"commander.helpDisplayed","(outputHelp)"))}}function w(g){return g.map(a=>{if(!a.startsWith("--inspect"))return a;let f,c="127.0.0.1",m="9229",p;return(p=a.match(/^(--inspect(-brk)?)$/))!==null?f=p[1]:(p=a.match(/^(--inspect(-brk|-port)?)=([^:]+)$/))!==null?(f=p[1],/^\d+$/.test(p[3])?m=p[3]:c=p[3]):(p=a.match(/^(--inspect(-brk|-port)?)=([^:]+):(\d+)$/))!==null&&(f=p[1],c=p[3],m=p[4]),f&&m!=="0"?`${f}=${c}:${parseInt(m)+1}`:a})}function S(){if(i.env.NO_COLOR||i.env.FORCE_COLOR==="0"||i.env.FORCE_COLOR==="false")return!1;if(i.env.FORCE_COLOR||i.env.CLICOLOR_FORCE!==void 0)return!0}return ht.Command=R,ht.useColor=S,ht}var _o;function yf(){if(_o)return Ee;_o=1;const{Argument:n}=js(),{Command:s}=gf(),{CommanderError:o,InvalidArgumentError:h}=Zt(),{Help:i}=Eh(),{Option:t}=Sh();return Ee.program=new s,Ee.createCommand=e=>new s(e),Ee.createOption=(e,r)=>new t(e,r),Ee.createArgument=(e,r)=>new n(e,r),Ee.Command=s,Ee.Option=t,Ee.Argument=n,Ee.Help=i,Ee.CommanderError=o,Ee.InvalidArgumentError=h,Ee.InvalidOptionArgumentError=h,Ee}var vf=yf();const Ef=be(vf),{program:Ry,createCommand:wy,createArgument:Oy,createOption:by,CommanderError:Ay,InvalidArgumentError:Ty,InvalidOptionArgumentError:Py,Command:Sf,Argument:Cy,Option:Iy,Help:xy}=Ef;function Jt(n){const s=process.env[n];if(typeof s=="string"&&s.length>0&&s!=="undefined"&&s!=="null")return s}class Rf{level=2;setLevel(s="info"){this.level=s==="trace"?4:s==="debug"?3:s==="info"?2:s==="warn"?1:s==="error"?0:-1}error(...s){this.level>=0&&console.error("\x1B[31m[ERROR cmake-ts]\x1B[0m",...s)}warn(...s){this.level>=1&&console.warn("\x1B[33m[WARN cmake-ts]\x1B[0m",...s)}info(...s){this.level>=2&&console.info("\x1B[32m[INFO cmake-ts]\x1B[0m",...s)}log(...s){return this.info(...s)}debug(...s){this.level>=3&&console.debug("\x1B[34m[DEBUG cmake-ts]\x1B[0m",...s)}trace(...s){this.level>=4&&console.trace("\x1B[34m[TRACE cmake-ts]\x1B[0m",...s)}}const ae=new Rf;function wf(n){const s=new Sf("cmake-ts"),o=Jt("CMAKETSDEBUG"),h=o==="true"||o==="1",i={command:{type:"none"}};s.exitOverride(d=>{d.exitCode!==0&&d.code!=="commander.help"&&(ae.error(d),i.command.type="error")}).description("A CMake-based build system for native NodeJS and Electron addons.").usage("[build or help] [options]").option("--logger <level>","Set the log level (trace, debug, info, warn, error, off)",h?"debug":"info").showHelpAfterError(!1).showSuggestionAfterError(!0);const t=s.command("build").description("Build the project").option("--config, --configs <configs...>","\n    Named config(s) to build, which could be from default configs or the ones defined in the config file (package.json)\n   \n     If no config is provided, it will build for the current runtime on the current system with the Release build type\n   \n    The default configs are combinations of `<Runtime>`, `<BuildType>`, `<Platform>`, and `<Architecture>`.\n   \n     - `<Runtime>`: the runtime to use\n   \n       e.g.: `node`, `electron`, `iojs`\n   \n     - `<BuildType>`: the cmake build type (optimization level)\n   \n       e.g.: `debug`, `release`, `relwithdebinfo`, or `minsizerel`\n   \n     - `<Platform>`: the target platform\n   \n       e.g.: `win32`, `linux`, `darwin`, `aix`, `android`, `freebsd`, `haiku`, `openbsd`, `sunos`, `cygwin`, `netbsd`\n   \n     - `<Architecture>`: the target architecture\n   \n       e.g.: `x64`, `arm64`, `ia32`, `arm`, `loong64`, `mips`, `mipsel`, `ppc`, `ppc64`, `riscv64`, `s390`, `s390x`\n   \n      Any combination of `<BuildType>`, `<Runtime>`, `<Platform>`, and `<Architecture>` is valid. Some examples:\n   \n       - `release`\n       - `debug`\n       - `relwithdebinfo`\n       - `node-release`\n       - `node-debug`\n       - `electron-release`\n       - `electron-debug`\n       - `win32-x64`\n       - `win32-x64-debug`\n       - `linux-x64-debug`\n       - `linux-x64-node-debug`\n       - `linux-x64-electron-release`\n       - `darwin-x64-node-release`\n       - `darwin-arm64-node-release`\n       - `darwin-arm64-electron-relwithdebinfo`\n\n    To explicitly indicate cross-compilation, prefix the config name with `cross-`:\n\n       - `cross-win32-ia32-node-release`\n       - `cross-linux-arm64-node-release`\n       - `cross-darwin-x64-electron-relwithdebinfo`\n   \n    You can also define your own configs in the config file (package.json).\n   \n     - `<ConfigName>`: the name of the config\n   \n       e.g.: `my-config`\n   \n     The configs can also be in format of `named-<property>`, which builds the configs that match the property.\n   \n       - `named-os`: build all the configs in the config file that have the same OS\n       - `named-os-dev`: build all the configs in the config file that have the same OS and `dev` is true\n       - `named-all`: build all the configs in the config file\n   \n   \n     The configs can be combined with `,` or multiple `--config` flags. They will be merged together.\n",[]).option("--project-name <name>","The name of the built node addon.").option("--addon-subdirectory <subdirectory>","The subdirectory of the package which is being built.").option("--package-directory <directory>","The directory of the package which is being built.").option("--target-directory <directory>","The directory where the binaries will end.").option("--staging-directory <directory>","The directory where intermediate files will end up.").action(()=>{i.command.type="build"}),e={all:!1,nativeonly:!1,osonly:!1,devOsOnly:!1,namedConfigs:void 0};s.command("all",{hidden:!0}).description("(deprecated) Build all configurations. Use `build --configs named-all` instead.").action(()=>{e.all=!0,i.command.type="build"}),s.command("nativeonly",{hidden:!0}).description("(deprecated) Building only for the current runtime. Use `build` instead.").action(()=>{e.nativeonly=!0,i.command.type="build"}),s.command("osonly",{hidden:!0}).description("(deprecated) Building only for the current OS. Use `build --configs named-os` instead.").action(()=>{e.osonly=!0,i.command.type="build"}),s.command("dev-os-only",{hidden:!0}).description("(deprecated) Build only dev OS configurations. Use `build --configs named-os-dev` instead.").action(()=>{e.devOsOnly=!0,i.command.type="build"}),s.command("named-configs <configs...>",{hidden:!0}).description("(deprecated) Build only named configurations. Use `build --configs <configs...>` instead").action(d=>{e.namedConfigs=d,i.command.type="build"}),s.parse(n);const r={...i,...e,...s.opts()};ae.setLevel(r.logger);const u=()=>{ae.debug("args",JSON.stringify(r,null,2))},l=t.opts();return r.command.type==="build"?(Of(l,r),u(),{command:{type:"build",options:l},help:r.help,logger:r.logger}):(u(),r)}function Of(n,s){s.namedConfigs!==void 0&&(n.configs=s.namedConfigs.flatMap(o=>o.split(",")),ae.warn("The --named-configs option is deprecated. Use --configs instead.")),s.nativeonly&&(n.configs.push("release"),ae.warn("The --nativeonly option is deprecated. Use --configs release instead.")),s.osonly&&(n.configs.push("named-os"),ae.warn("The --osonly option is deprecated. Use --configs named-os instead.")),s.devOsOnly&&(n.configs.push("named-os-dev"),ae.warn("The --dev-os-only option is deprecated. Use --configs named-os-dev instead.")),s.all&&(n.configs.push("named-all"),ae.warn("The --all option is deprecated. Use --configs named-all instead."))}var ur={},pt={},go;function Se(){return go||(go=1,pt.fromCallback=function(n){return Object.defineProperty(function(...s){if(typeof s[s.length-1]=="function")n.apply(this,s);else return new Promise((o,h)=>{s.push((i,t)=>i!=null?h(i):o(t)),n.apply(this,s)})},"name",{value:n.name})},pt.fromPromise=function(n){return Object.defineProperty(function(...s){const o=s[s.length-1];if(typeof o!="function")return n.apply(this,s);s.pop(),n.apply(this,s).then(h=>o(null,h),o)},"name",{value:n.name})}),pt}var lr,yo;function bf(){if(yo)return lr;yo=1;var n=lf,s=process.cwd,o=null,h=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return o||(o=s.call(process)),o};try{process.cwd()}catch{}if(typeof process.chdir=="function"){var i=process.chdir;process.chdir=function(e){o=null,i.call(process,e)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,i)}lr=t;function t(e){n.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&r(e),e.lutimes||u(e),e.chown=v(e.chown),e.fchown=v(e.fchown),e.lchown=v(e.lchown),e.chmod=l(e.chmod),e.fchmod=l(e.fchmod),e.lchmod=l(e.lchmod),e.chownSync=_(e.chownSync),e.fchownSync=_(e.fchownSync),e.lchownSync=_(e.lchownSync),e.chmodSync=d(e.chmodSync),e.fchmodSync=d(e.fchmodSync),e.lchmodSync=d(e.lchmodSync),e.stat=R(e.stat),e.fstat=R(e.fstat),e.lstat=R(e.lstat),e.statSync=w(e.statSync),e.fstatSync=w(e.fstatSync),e.lstatSync=w(e.lstatSync),e.chmod&&!e.lchmod&&(e.lchmod=function(g,a,f){f&&process.nextTick(f)},e.lchmodSync=function(){}),e.chown&&!e.lchown&&(e.lchown=function(g,a,f,c){c&&process.nextTick(c)},e.lchownSync=function(){}),h==="win32"&&(e.rename=typeof e.rename!="function"?e.rename:function(g){function a(f,c,m){var p=Date.now(),E=0;g(f,c,function y(b){if(b&&(b.code==="EACCES"||b.code==="EPERM"||b.code==="EBUSY")&&Date.now()-p<6e4){setTimeout(function(){e.stat(c,function(A,P){A&&A.code==="ENOENT"?g(f,c,y):m(b)})},E),E<100&&(E+=10);return}m&&m(b)})}return Object.setPrototypeOf&&Object.setPrototypeOf(a,g),a}(e.rename)),e.read=typeof e.read!="function"?e.read:function(g){function a(f,c,m,p,E,y){var b;if(y&&typeof y=="function"){var A=0;b=function(P,D,q){if(P&&P.code==="EAGAIN"&&A<10)return A++,g.call(e,f,c,m,p,E,b);y.apply(this,arguments)}}return g.call(e,f,c,m,p,E,b)}return Object.setPrototypeOf&&Object.setPrototypeOf(a,g),a}(e.read),e.readSync=typeof e.readSync!="function"?e.readSync:function(g){return function(a,f,c,m,p){for(var E=0;;)try{return g.call(e,a,f,c,m,p)}catch(y){if(y.code==="EAGAIN"&&E<10){E++;continue}throw y}}}(e.readSync);function r(g){g.lchmod=function(a,f,c){g.open(a,n.O_WRONLY|n.O_SYMLINK,f,function(m,p){if(m){c&&c(m);return}g.fchmod(p,f,function(E){g.close(p,function(y){c&&c(E||y)})})})},g.lchmodSync=function(a,f){var c=g.openSync(a,n.O_WRONLY|n.O_SYMLINK,f),m=!0,p;try{p=g.fchmodSync(c,f),m=!1}finally{if(m)try{g.closeSync(c)}catch{}else g.closeSync(c)}return p}}function u(g){n.hasOwnProperty("O_SYMLINK")&&g.futimes?(g.lutimes=function(a,f,c,m){g.open(a,n.O_SYMLINK,function(p,E){if(p){m&&m(p);return}g.futimes(E,f,c,function(y){g.close(E,function(b){m&&m(y||b)})})})},g.lutimesSync=function(a,f,c){var m=g.openSync(a,n.O_SYMLINK),p,E=!0;try{p=g.futimesSync(m,f,c),E=!1}finally{if(E)try{g.closeSync(m)}catch{}else g.closeSync(m)}return p}):g.futimes&&(g.lutimes=function(a,f,c,m){m&&process.nextTick(m)},g.lutimesSync=function(){})}function l(g){return g&&function(a,f,c){return g.call(e,a,f,function(m){S(m)&&(m=null),c&&c.apply(this,arguments)})}}function d(g){return g&&function(a,f){try{return g.call(e,a,f)}catch(c){if(!S(c))throw c}}}function v(g){return g&&function(a,f,c,m){return g.call(e,a,f,c,function(p){S(p)&&(p=null),m&&m.apply(this,arguments)})}}function _(g){return g&&function(a,f,c){try{return g.call(e,a,f,c)}catch(m){if(!S(m))throw m}}}function R(g){return g&&function(a,f,c){typeof f=="function"&&(c=f,f=null);function m(p,E){E&&(E.uid<0&&(E.uid+=4294967296),E.gid<0&&(E.gid+=4294967296)),c&&c.apply(this,arguments)}return f?g.call(e,a,f,m):g.call(e,a,m)}}function w(g){return g&&function(a,f){var c=f?g.call(e,a,f):g.call(e,a);return c&&(c.uid<0&&(c.uid+=4294967296),c.gid<0&&(c.gid+=4294967296)),c}}function S(g){if(!g||g.code==="ENOSYS")return!0;var a=!process.getuid||process.getuid()!==0;return!!(a&&(g.code==="EINVAL"||g.code==="EPERM"))}}return lr}var cr,vo;function Af(){if(vo)return cr;vo=1;var n=qe.Stream;cr=s;function s(o){return{ReadStream:h,WriteStream:i};function h(t,e){if(!(this instanceof h))return new h(t,e);n.call(this);var r=this;this.path=t,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,e=e||{};for(var u=Object.keys(e),l=0,d=u.length;l<d;l++){var v=u[l];this[v]=e[v]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){r._read()});return}o.open(this.path,this.flags,this.mode,function(_,R){if(_){r.emit("error",_),r.readable=!1;return}r.fd=R,r.emit("open",R),r._read()})}function i(t,e){if(!(this instanceof i))return new i(t,e);n.call(this),this.path=t,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,e=e||{};for(var r=Object.keys(e),u=0,l=r.length;u<l;u++){var d=r[u];this[d]=e[d]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=o.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}return cr}var hr,Eo;function Tf(){if(Eo)return hr;Eo=1,hr=s;var n=Object.getPrototypeOf||function(o){return o.__proto__};function s(o){if(o===null||typeof o!="object")return o;if(o instanceof Object)var h={__proto__:n(o)};else var h=Object.create(null);return Object.getOwnPropertyNames(o).forEach(function(i){Object.defineProperty(h,i,Object.getOwnPropertyDescriptor(o,i))}),h}return hr}var mt,So;function ve(){if(So)return mt;So=1;var n=pe,s=bf(),o=Af(),h=Tf(),i=Xt,t,e;typeof Symbol=="function"&&typeof Symbol.for=="function"?(t=Symbol.for("graceful-fs.queue"),e=Symbol.for("graceful-fs.previous")):(t="___graceful-fs.queue",e="___graceful-fs.previous");function r(){}function u(g,a){Object.defineProperty(g,t,{get:function(){return a}})}var l=r;if(i.debuglog?l=i.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(l=function(){var g=i.format.apply(i,arguments);g="GFS4: "+g.split(/\n/).join(`
GFS4: `),console.error(g)}),!n[t]){var d=xe[t]||[];u(n,d),n.close=function(g){function a(f,c){return g.call(n,f,function(m){m||w(),typeof c=="function"&&c.apply(this,arguments)})}return Object.defineProperty(a,e,{value:g}),a}(n.close),n.closeSync=function(g){function a(f){g.apply(n,arguments),w()}return Object.defineProperty(a,e,{value:g}),a}(n.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){l(n[t]),ut.equal(n[t].length,0)})}xe[t]||u(xe,n[t]),mt=v(h(n)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!n.__patched&&(mt=v(n),n.__patched=!0);function v(g){s(g),g.gracefulify=v,g.createReadStream=O,g.createWriteStream=x;var a=g.readFile;g.readFile=f;function f(k,N,H){return typeof N=="function"&&(H=N,N=null),V(k,N,H);function V(F,B,Y,J){return a(F,B,function(re){re&&(re.code==="EMFILE"||re.code==="ENFILE")?_([V,[F,B,Y],re,J||Date.now(),Date.now()]):typeof Y=="function"&&Y.apply(this,arguments)})}}var c=g.writeFile;g.writeFile=m;function m(k,N,H,V){return typeof H=="function"&&(V=H,H=null),F(k,N,H,V);function F(B,Y,J,re,oe){return c(B,Y,J,function(Z){Z&&(Z.code==="EMFILE"||Z.code==="ENFILE")?_([F,[B,Y,J,re],Z,oe||Date.now(),Date.now()]):typeof re=="function"&&re.apply(this,arguments)})}}var p=g.appendFile;p&&(g.appendFile=E);function E(k,N,H,V){return typeof H=="function"&&(V=H,H=null),F(k,N,H,V);function F(B,Y,J,re,oe){return p(B,Y,J,function(Z){Z&&(Z.code==="EMFILE"||Z.code==="ENFILE")?_([F,[B,Y,J,re],Z,oe||Date.now(),Date.now()]):typeof re=="function"&&re.apply(this,arguments)})}}var y=g.copyFile;y&&(g.copyFile=b);function b(k,N,H,V){return typeof H=="function"&&(V=H,H=0),F(k,N,H,V);function F(B,Y,J,re,oe){return y(B,Y,J,function(Z){Z&&(Z.code==="EMFILE"||Z.code==="ENFILE")?_([F,[B,Y,J,re],Z,oe||Date.now(),Date.now()]):typeof re=="function"&&re.apply(this,arguments)})}}var A=g.readdir;g.readdir=D;var P=/^v[0-5]\./;function D(k,N,H){typeof N=="function"&&(H=N,N=null);var V=P.test(process.version)?function(Y,J,re,oe){return A(Y,F(Y,J,re,oe))}:function(Y,J,re,oe){return A(Y,J,F(Y,J,re,oe))};return V(k,N,H);function F(B,Y,J,re){return function(oe,Z){oe&&(oe.code==="EMFILE"||oe.code==="ENFILE")?_([V,[B,Y,J],oe,re||Date.now(),Date.now()]):(Z&&Z.sort&&Z.sort(),typeof J=="function"&&J.call(this,oe,Z))}}}if(process.version.substr(0,4)==="v0.8"){var q=o(g);M=q.ReadStream,W=q.WriteStream}var $=g.ReadStream;$&&(M.prototype=Object.create($.prototype),M.prototype.open=U);var L=g.WriteStream;L&&(W.prototype=Object.create(L.prototype),W.prototype.open=j),Object.defineProperty(g,"ReadStream",{get:function(){return M},set:function(k){M=k},enumerable:!0,configurable:!0}),Object.defineProperty(g,"WriteStream",{get:function(){return W},set:function(k){W=k},enumerable:!0,configurable:!0});var C=M;Object.defineProperty(g,"FileReadStream",{get:function(){return C},set:function(k){C=k},enumerable:!0,configurable:!0});var I=W;Object.defineProperty(g,"FileWriteStream",{get:function(){return I},set:function(k){I=k},enumerable:!0,configurable:!0});function M(k,N){return this instanceof M?($.apply(this,arguments),this):M.apply(Object.create(M.prototype),arguments)}function U(){var k=this;ee(k.path,k.flags,k.mode,function(N,H){N?(k.autoClose&&k.destroy(),k.emit("error",N)):(k.fd=H,k.emit("open",H),k.read())})}function W(k,N){return this instanceof W?(L.apply(this,arguments),this):W.apply(Object.create(W.prototype),arguments)}function j(){var k=this;ee(k.path,k.flags,k.mode,function(N,H){N?(k.destroy(),k.emit("error",N)):(k.fd=H,k.emit("open",H))})}function O(k,N){return new g.ReadStream(k,N)}function x(k,N){return new g.WriteStream(k,N)}var z=g.open;g.open=ee;function ee(k,N,H,V){return typeof H=="function"&&(V=H,H=null),F(k,N,H,V);function F(B,Y,J,re,oe){return z(B,Y,J,function(Z,T){Z&&(Z.code==="EMFILE"||Z.code==="ENFILE")?_([F,[B,Y,J,re],Z,oe||Date.now(),Date.now()]):typeof re=="function"&&re.apply(this,arguments)})}}return g}function _(g){l("ENQUEUE",g[0].name,g[1]),n[t].push(g),S()}var R;function w(){for(var g=Date.now(),a=0;a<n[t].length;++a)n[t][a].length>2&&(n[t][a][3]=g,n[t][a][4]=g);S()}function S(){if(clearTimeout(R),R=void 0,n[t].length!==0){var g=n[t].shift(),a=g[0],f=g[1],c=g[2],m=g[3],p=g[4];if(m===void 0)l("RETRY",a.name,f),a.apply(null,f);else if(Date.now()-m>=6e4){l("TIMEOUT",a.name,f);var E=f.pop();typeof E=="function"&&E.call(null,c)}else{var y=Date.now()-p,b=Math.max(p-m,1),A=Math.min(b*1.2,100);y>=A?(l("RETRY",a.name,f),a.apply(null,f.concat([m]))):n[t].push(g)}R===void 0&&(R=setTimeout(S,0))}}return mt}var Ro;function ze(){return Ro||(Ro=1,function(n){const s=Se().fromCallback,o=ve(),h=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(i=>typeof o[i]=="function");Object.assign(n,o),h.forEach(i=>{n[i]=s(o[i])}),n.exists=function(i,t){return typeof t=="function"?o.exists(i,t):new Promise(e=>o.exists(i,e))},n.read=function(i,t,e,r,u,l){return typeof l=="function"?o.read(i,t,e,r,u,l):new Promise((d,v)=>{o.read(i,t,e,r,u,(_,R,w)=>{if(_)return v(_);d({bytesRead:R,buffer:w})})})},n.write=function(i,t,...e){return typeof e[e.length-1]=="function"?o.write(i,t,...e):new Promise((r,u)=>{o.write(i,t,...e,(l,d,v)=>{if(l)return u(l);r({bytesWritten:d,buffer:v})})})},typeof o.writev=="function"&&(n.writev=function(i,t,...e){return typeof e[e.length-1]=="function"?o.writev(i,t,...e):new Promise((r,u)=>{o.writev(i,t,...e,(l,d,v)=>{if(l)return u(l);r({bytesWritten:d,buffers:v})})})}),typeof o.realpath.native=="function"?n.realpath.native=s(o.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")}(ur)),ur}var _t={},fr={},wo;function Pf(){if(wo)return fr;wo=1;const n=Q;return fr.checkPath=function(o){if(process.platform==="win32"&&/[<>:"|?*]/.test(o.replace(n.parse(o).root,""))){const i=new Error(`Path contains invalid characters: ${o}`);throw i.code="EINVAL",i}},fr}var Oo;function Cf(){if(Oo)return _t;Oo=1;const n=ze(),{checkPath:s}=Pf(),o=h=>{const i={mode:511};return typeof h=="number"?h:{...i,...h}.mode};return _t.makeDir=async(h,i)=>(s(h),n.mkdir(h,{mode:o(i),recursive:!0})),_t.makeDirSync=(h,i)=>(s(h),n.mkdirSync(h,{mode:o(i),recursive:!0})),_t}var dr,bo;function Oe(){if(bo)return dr;bo=1;const n=Se().fromPromise,{makeDir:s,makeDirSync:o}=Cf(),h=n(s);return dr={mkdirs:h,mkdirsSync:o,mkdirp:h,mkdirpSync:o,ensureDir:h,ensureDirSync:o},dr}var pr,Ao;function ke(){if(Ao)return pr;Ao=1;const n=Se().fromPromise,s=ze();function o(h){return s.access(h).then(()=>!0).catch(()=>!1)}return pr={pathExists:n(o),pathExistsSync:s.existsSync},pr}var mr,To;function Rh(){if(To)return mr;To=1;const n=ve();function s(h,i,t,e){n.open(h,"r+",(r,u)=>{if(r)return e(r);n.futimes(u,i,t,l=>{n.close(u,d=>{e&&e(l||d)})})})}function o(h,i,t){const e=n.openSync(h,"r+");return n.futimesSync(e,i,t),n.closeSync(e)}return mr={utimesMillis:s,utimesMillisSync:o},mr}var _r,Po;function Ye(){if(Po)return _r;Po=1;const n=ze(),s=Q,o=Xt;function h(_,R,w){const S=w.dereference?g=>n.stat(g,{bigint:!0}):g=>n.lstat(g,{bigint:!0});return Promise.all([S(_),S(R).catch(g=>{if(g.code==="ENOENT")return null;throw g})]).then(([g,a])=>({srcStat:g,destStat:a}))}function i(_,R,w){let S;const g=w.dereference?f=>n.statSync(f,{bigint:!0}):f=>n.lstatSync(f,{bigint:!0}),a=g(_);try{S=g(R)}catch(f){if(f.code==="ENOENT")return{srcStat:a,destStat:null};throw f}return{srcStat:a,destStat:S}}function t(_,R,w,S,g){o.callbackify(h)(_,R,S,(a,f)=>{if(a)return g(a);const{srcStat:c,destStat:m}=f;if(m){if(l(c,m)){const p=s.basename(_),E=s.basename(R);return w==="move"&&p!==E&&p.toLowerCase()===E.toLowerCase()?g(null,{srcStat:c,destStat:m,isChangingCase:!0}):g(new Error("Source and destination must not be the same."))}if(c.isDirectory()&&!m.isDirectory())return g(new Error(`Cannot overwrite non-directory '${R}' with directory '${_}'.`));if(!c.isDirectory()&&m.isDirectory())return g(new Error(`Cannot overwrite directory '${R}' with non-directory '${_}'.`))}return c.isDirectory()&&d(_,R)?g(new Error(v(_,R,w))):g(null,{srcStat:c,destStat:m})})}function e(_,R,w,S){const{srcStat:g,destStat:a}=i(_,R,S);if(a){if(l(g,a)){const f=s.basename(_),c=s.basename(R);if(w==="move"&&f!==c&&f.toLowerCase()===c.toLowerCase())return{srcStat:g,destStat:a,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(g.isDirectory()&&!a.isDirectory())throw new Error(`Cannot overwrite non-directory '${R}' with directory '${_}'.`);if(!g.isDirectory()&&a.isDirectory())throw new Error(`Cannot overwrite directory '${R}' with non-directory '${_}'.`)}if(g.isDirectory()&&d(_,R))throw new Error(v(_,R,w));return{srcStat:g,destStat:a}}function r(_,R,w,S,g){const a=s.resolve(s.dirname(_)),f=s.resolve(s.dirname(w));if(f===a||f===s.parse(f).root)return g();n.stat(f,{bigint:!0},(c,m)=>c?c.code==="ENOENT"?g():g(c):l(R,m)?g(new Error(v(_,w,S))):r(_,R,f,S,g))}function u(_,R,w,S){const g=s.resolve(s.dirname(_)),a=s.resolve(s.dirname(w));if(a===g||a===s.parse(a).root)return;let f;try{f=n.statSync(a,{bigint:!0})}catch(c){if(c.code==="ENOENT")return;throw c}if(l(R,f))throw new Error(v(_,w,S));return u(_,R,a,S)}function l(_,R){return R.ino&&R.dev&&R.ino===_.ino&&R.dev===_.dev}function d(_,R){const w=s.resolve(_).split(s.sep).filter(g=>g),S=s.resolve(R).split(s.sep).filter(g=>g);return w.reduce((g,a,f)=>g&&S[f]===a,!0)}function v(_,R,w){return`Cannot ${w} '${_}' to a subdirectory of itself, '${R}'.`}return _r={checkPaths:t,checkPathsSync:e,checkParentPaths:r,checkParentPathsSync:u,isSrcSubdir:d,areIdentical:l},_r}var gr,Co;function If(){if(Co)return gr;Co=1;const n=ve(),s=Q,o=Oe().mkdirs,h=ke().pathExists,i=Rh().utimesMillis,t=Ye();function e(D,q,$,L){typeof $=="function"&&!L?(L=$,$={}):typeof $=="function"&&($={filter:$}),L=L||function(){},$=$||{},$.clobber="clobber"in $?!!$.clobber:!0,$.overwrite="overwrite"in $?!!$.overwrite:$.clobber,$.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0001"),t.checkPaths(D,q,"copy",$,(C,I)=>{if(C)return L(C);const{srcStat:M,destStat:U}=I;t.checkParentPaths(D,M,q,"copy",W=>W?L(W):$.filter?u(r,U,D,q,$,L):r(U,D,q,$,L))})}function r(D,q,$,L,C){const I=s.dirname($);h(I,(M,U)=>{if(M)return C(M);if(U)return d(D,q,$,L,C);o(I,W=>W?C(W):d(D,q,$,L,C))})}function u(D,q,$,L,C,I){Promise.resolve(C.filter($,L)).then(M=>M?D(q,$,L,C,I):I(),M=>I(M))}function l(D,q,$,L,C){return L.filter?u(d,D,q,$,L,C):d(D,q,$,L,C)}function d(D,q,$,L,C){(L.dereference?n.stat:n.lstat)(q,(M,U)=>M?C(M):U.isDirectory()?m(U,D,q,$,L,C):U.isFile()||U.isCharacterDevice()||U.isBlockDevice()?v(U,D,q,$,L,C):U.isSymbolicLink()?A(D,q,$,L,C):U.isSocket()?C(new Error(`Cannot copy a socket file: ${q}`)):U.isFIFO()?C(new Error(`Cannot copy a FIFO pipe: ${q}`)):C(new Error(`Unknown file: ${q}`)))}function v(D,q,$,L,C,I){return q?_(D,$,L,C,I):R(D,$,L,C,I)}function _(D,q,$,L,C){if(L.overwrite)n.unlink($,I=>I?C(I):R(D,q,$,L,C));else return L.errorOnExist?C(new Error(`'${$}' already exists`)):C()}function R(D,q,$,L,C){n.copyFile(q,$,I=>I?C(I):L.preserveTimestamps?w(D.mode,q,$,C):f($,D.mode,C))}function w(D,q,$,L){return S(D)?g($,D,C=>C?L(C):a(D,q,$,L)):a(D,q,$,L)}function S(D){return(D&128)===0}function g(D,q,$){return f(D,q|128,$)}function a(D,q,$,L){c(q,$,C=>C?L(C):f($,D,L))}function f(D,q,$){return n.chmod(D,q,$)}function c(D,q,$){n.stat(D,(L,C)=>L?$(L):i(q,C.atime,C.mtime,$))}function m(D,q,$,L,C,I){return q?E($,L,C,I):p(D.mode,$,L,C,I)}function p(D,q,$,L,C){n.mkdir($,I=>{if(I)return C(I);E(q,$,L,M=>M?C(M):f($,D,C))})}function E(D,q,$,L){n.readdir(D,(C,I)=>C?L(C):y(I,D,q,$,L))}function y(D,q,$,L,C){const I=D.pop();return I?b(D,I,q,$,L,C):C()}function b(D,q,$,L,C,I){const M=s.join($,q),U=s.join(L,q);t.checkPaths(M,U,"copy",C,(W,j)=>{if(W)return I(W);const{destStat:O}=j;l(O,M,U,C,x=>x?I(x):y(D,$,L,C,I))})}function A(D,q,$,L,C){n.readlink(q,(I,M)=>{if(I)return C(I);if(L.dereference&&(M=s.resolve(process.cwd(),M)),D)n.readlink($,(U,W)=>U?U.code==="EINVAL"||U.code==="UNKNOWN"?n.symlink(M,$,C):C(U):(L.dereference&&(W=s.resolve(process.cwd(),W)),t.isSrcSubdir(M,W)?C(new Error(`Cannot copy '${M}' to a subdirectory of itself, '${W}'.`)):D.isDirectory()&&t.isSrcSubdir(W,M)?C(new Error(`Cannot overwrite '${W}' with '${M}'.`)):P(M,$,C)));else return n.symlink(M,$,C)})}function P(D,q,$){n.unlink(q,L=>L?$(L):n.symlink(D,q,$))}return gr=e,gr}var yr,Io;function xf(){if(Io)return yr;Io=1;const n=ve(),s=Q,o=Oe().mkdirsSync,h=Rh().utimesMillisSync,i=Ye();function t(y,b,A){typeof A=="function"&&(A={filter:A}),A=A||{},A.clobber="clobber"in A?!!A.clobber:!0,A.overwrite="overwrite"in A?!!A.overwrite:A.clobber,A.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0002");const{srcStat:P,destStat:D}=i.checkPathsSync(y,b,"copy",A);return i.checkParentPathsSync(y,P,b,"copy"),e(D,y,b,A)}function e(y,b,A,P){if(P.filter&&!P.filter(b,A))return;const D=s.dirname(A);return n.existsSync(D)||o(D),u(y,b,A,P)}function r(y,b,A,P){if(!(P.filter&&!P.filter(b,A)))return u(y,b,A,P)}function u(y,b,A,P){const q=(P.dereference?n.statSync:n.lstatSync)(b);if(q.isDirectory())return a(q,y,b,A,P);if(q.isFile()||q.isCharacterDevice()||q.isBlockDevice())return l(q,y,b,A,P);if(q.isSymbolicLink())return p(y,b,A,P);throw q.isSocket()?new Error(`Cannot copy a socket file: ${b}`):q.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${b}`):new Error(`Unknown file: ${b}`)}function l(y,b,A,P,D){return b?d(y,A,P,D):v(y,A,P,D)}function d(y,b,A,P){if(P.overwrite)return n.unlinkSync(A),v(y,b,A,P);if(P.errorOnExist)throw new Error(`'${A}' already exists`)}function v(y,b,A,P){return n.copyFileSync(b,A),P.preserveTimestamps&&_(y.mode,b,A),S(A,y.mode)}function _(y,b,A){return R(y)&&w(A,y),g(b,A)}function R(y){return(y&128)===0}function w(y,b){return S(y,b|128)}function S(y,b){return n.chmodSync(y,b)}function g(y,b){const A=n.statSync(y);return h(b,A.atime,A.mtime)}function a(y,b,A,P,D){return b?c(A,P,D):f(y.mode,A,P,D)}function f(y,b,A,P){return n.mkdirSync(A),c(b,A,P),S(A,y)}function c(y,b,A){n.readdirSync(y).forEach(P=>m(P,y,b,A))}function m(y,b,A,P){const D=s.join(b,y),q=s.join(A,y),{destStat:$}=i.checkPathsSync(D,q,"copy",P);return r($,D,q,P)}function p(y,b,A,P){let D=n.readlinkSync(b);if(P.dereference&&(D=s.resolve(process.cwd(),D)),y){let q;try{q=n.readlinkSync(A)}catch($){if($.code==="EINVAL"||$.code==="UNKNOWN")return n.symlinkSync(D,A);throw $}if(P.dereference&&(q=s.resolve(process.cwd(),q)),i.isSrcSubdir(D,q))throw new Error(`Cannot copy '${D}' to a subdirectory of itself, '${q}'.`);if(n.statSync(A).isDirectory()&&i.isSrcSubdir(q,D))throw new Error(`Cannot overwrite '${q}' with '${D}'.`);return E(D,A)}else return n.symlinkSync(D,A)}function E(y,b){return n.unlinkSync(b),n.symlinkSync(y,b)}return yr=t,yr}var vr,xo;function Hs(){if(xo)return vr;xo=1;const n=Se().fromCallback;return vr={copy:n(If()),copySync:xf()},vr}var Er,$o;function $f(){if($o)return Er;$o=1;const n=ve(),s=Q,o=ut,h=process.platform==="win32";function i(w){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(g=>{w[g]=w[g]||n[g],g=g+"Sync",w[g]=w[g]||n[g]}),w.maxBusyTries=w.maxBusyTries||3}function t(w,S,g){let a=0;typeof S=="function"&&(g=S,S={}),o(w,"rimraf: missing path"),o.strictEqual(typeof w,"string","rimraf: path should be a string"),o.strictEqual(typeof g,"function","rimraf: callback function required"),o(S,"rimraf: invalid options argument provided"),o.strictEqual(typeof S,"object","rimraf: options should be object"),i(S),e(w,S,function f(c){if(c){if((c.code==="EBUSY"||c.code==="ENOTEMPTY"||c.code==="EPERM")&&a<S.maxBusyTries){a++;const m=a*100;return setTimeout(()=>e(w,S,f),m)}c.code==="ENOENT"&&(c=null)}g(c)})}function e(w,S,g){o(w),o(S),o(typeof g=="function"),S.lstat(w,(a,f)=>{if(a&&a.code==="ENOENT")return g(null);if(a&&a.code==="EPERM"&&h)return r(w,S,a,g);if(f&&f.isDirectory())return l(w,S,a,g);S.unlink(w,c=>{if(c){if(c.code==="ENOENT")return g(null);if(c.code==="EPERM")return h?r(w,S,c,g):l(w,S,c,g);if(c.code==="EISDIR")return l(w,S,c,g)}return g(c)})})}function r(w,S,g,a){o(w),o(S),o(typeof a=="function"),S.chmod(w,438,f=>{f?a(f.code==="ENOENT"?null:g):S.stat(w,(c,m)=>{c?a(c.code==="ENOENT"?null:g):m.isDirectory()?l(w,S,g,a):S.unlink(w,a)})})}function u(w,S,g){let a;o(w),o(S);try{S.chmodSync(w,438)}catch(f){if(f.code==="ENOENT")return;throw g}try{a=S.statSync(w)}catch(f){if(f.code==="ENOENT")return;throw g}a.isDirectory()?_(w,S,g):S.unlinkSync(w)}function l(w,S,g,a){o(w),o(S),o(typeof a=="function"),S.rmdir(w,f=>{f&&(f.code==="ENOTEMPTY"||f.code==="EEXIST"||f.code==="EPERM")?d(w,S,a):f&&f.code==="ENOTDIR"?a(g):a(f)})}function d(w,S,g){o(w),o(S),o(typeof g=="function"),S.readdir(w,(a,f)=>{if(a)return g(a);let c=f.length,m;if(c===0)return S.rmdir(w,g);f.forEach(p=>{t(s.join(w,p),S,E=>{if(!m){if(E)return g(m=E);--c===0&&S.rmdir(w,g)}})})})}function v(w,S){let g;S=S||{},i(S),o(w,"rimraf: missing path"),o.strictEqual(typeof w,"string","rimraf: path should be a string"),o(S,"rimraf: missing options"),o.strictEqual(typeof S,"object","rimraf: options should be object");try{g=S.lstatSync(w)}catch(a){if(a.code==="ENOENT")return;a.code==="EPERM"&&h&&u(w,S,a)}try{g&&g.isDirectory()?_(w,S,null):S.unlinkSync(w)}catch(a){if(a.code==="ENOENT")return;if(a.code==="EPERM")return h?u(w,S,a):_(w,S,a);if(a.code!=="EISDIR")throw a;_(w,S,a)}}function _(w,S,g){o(w),o(S);try{S.rmdirSync(w)}catch(a){if(a.code==="ENOTDIR")throw g;if(a.code==="ENOTEMPTY"||a.code==="EEXIST"||a.code==="EPERM")R(w,S);else if(a.code!=="ENOENT")throw a}}function R(w,S){if(o(w),o(S),S.readdirSync(w).forEach(g=>v(s.join(w,g),S)),h){const g=Date.now();do try{return S.rmdirSync(w,S)}catch{}while(Date.now()-g<500)}else return S.rmdirSync(w,S)}return Er=t,t.sync=v,Er}var Sr,No;function Qt(){if(No)return Sr;No=1;const n=ve(),s=Se().fromCallback,o=$f();function h(t,e){if(n.rm)return n.rm(t,{recursive:!0,force:!0},e);o(t,e)}function i(t){if(n.rmSync)return n.rmSync(t,{recursive:!0,force:!0});o.sync(t)}return Sr={remove:s(h),removeSync:i},Sr}var Rr,Do;function Nf(){if(Do)return Rr;Do=1;const n=Se().fromPromise,s=ze(),o=Q,h=Oe(),i=Qt(),t=n(async function(u){let l;try{l=await s.readdir(u)}catch{return h.mkdirs(u)}return Promise.all(l.map(d=>i.remove(o.join(u,d))))});function e(r){let u;try{u=s.readdirSync(r)}catch{return h.mkdirsSync(r)}u.forEach(l=>{l=o.join(r,l),i.removeSync(l)})}return Rr={emptyDirSync:e,emptydirSync:e,emptyDir:t,emptydir:t},Rr}var wr,Lo;function Df(){if(Lo)return wr;Lo=1;const n=Se().fromCallback,s=Q,o=ve(),h=Oe();function i(e,r){function u(){o.writeFile(e,"",l=>{if(l)return r(l);r()})}o.stat(e,(l,d)=>{if(!l&&d.isFile())return r();const v=s.dirname(e);o.stat(v,(_,R)=>{if(_)return _.code==="ENOENT"?h.mkdirs(v,w=>{if(w)return r(w);u()}):r(_);R.isDirectory()?u():o.readdir(v,w=>{if(w)return r(w)})})})}function t(e){let r;try{r=o.statSync(e)}catch{}if(r&&r.isFile())return;const u=s.dirname(e);try{o.statSync(u).isDirectory()||o.readdirSync(u)}catch(l){if(l&&l.code==="ENOENT")h.mkdirsSync(u);else throw l}o.writeFileSync(e,"")}return wr={createFile:n(i),createFileSync:t},wr}var Or,Fo;function Lf(){if(Fo)return Or;Fo=1;const n=Se().fromCallback,s=Q,o=ve(),h=Oe(),i=ke().pathExists,{areIdentical:t}=Ye();function e(u,l,d){function v(_,R){o.link(_,R,w=>{if(w)return d(w);d(null)})}o.lstat(l,(_,R)=>{o.lstat(u,(w,S)=>{if(w)return w.message=w.message.replace("lstat","ensureLink"),d(w);if(R&&t(S,R))return d(null);const g=s.dirname(l);i(g,(a,f)=>{if(a)return d(a);if(f)return v(u,l);h.mkdirs(g,c=>{if(c)return d(c);v(u,l)})})})})}function r(u,l){let d;try{d=o.lstatSync(l)}catch{}try{const R=o.lstatSync(u);if(d&&t(R,d))return}catch(R){throw R.message=R.message.replace("lstat","ensureLink"),R}const v=s.dirname(l);return o.existsSync(v)||h.mkdirsSync(v),o.linkSync(u,l)}return Or={createLink:n(e),createLinkSync:r},Or}var br,qo;function Ff(){if(qo)return br;qo=1;const n=Q,s=ve(),o=ke().pathExists;function h(t,e,r){if(n.isAbsolute(t))return s.lstat(t,u=>u?(u.message=u.message.replace("lstat","ensureSymlink"),r(u)):r(null,{toCwd:t,toDst:t}));{const u=n.dirname(e),l=n.join(u,t);return o(l,(d,v)=>d?r(d):v?r(null,{toCwd:l,toDst:t}):s.lstat(t,_=>_?(_.message=_.message.replace("lstat","ensureSymlink"),r(_)):r(null,{toCwd:t,toDst:n.relative(u,t)})))}}function i(t,e){let r;if(n.isAbsolute(t)){if(r=s.existsSync(t),!r)throw new Error("absolute srcpath does not exist");return{toCwd:t,toDst:t}}else{const u=n.dirname(e),l=n.join(u,t);if(r=s.existsSync(l),r)return{toCwd:l,toDst:t};if(r=s.existsSync(t),!r)throw new Error("relative srcpath does not exist");return{toCwd:t,toDst:n.relative(u,t)}}}return br={symlinkPaths:h,symlinkPathsSync:i},br}var Ar,ko;function qf(){if(ko)return Ar;ko=1;const n=ve();function s(h,i,t){if(t=typeof i=="function"?i:t,i=typeof i=="function"?!1:i,i)return t(null,i);n.lstat(h,(e,r)=>{if(e)return t(null,"file");i=r&&r.isDirectory()?"dir":"file",t(null,i)})}function o(h,i){let t;if(i)return i;try{t=n.lstatSync(h)}catch{return"file"}return t&&t.isDirectory()?"dir":"file"}return Ar={symlinkType:s,symlinkTypeSync:o},Ar}var Tr,Mo;function kf(){if(Mo)return Tr;Mo=1;const n=Se().fromCallback,s=Q,o=ze(),h=Oe(),i=h.mkdirs,t=h.mkdirsSync,e=Ff(),r=e.symlinkPaths,u=e.symlinkPathsSync,l=qf(),d=l.symlinkType,v=l.symlinkTypeSync,_=ke().pathExists,{areIdentical:R}=Ye();function w(a,f,c,m){m=typeof c=="function"?c:m,c=typeof c=="function"?!1:c,o.lstat(f,(p,E)=>{!p&&E.isSymbolicLink()?Promise.all([o.stat(a),o.stat(f)]).then(([y,b])=>{if(R(y,b))return m(null);S(a,f,c,m)}):S(a,f,c,m)})}function S(a,f,c,m){r(a,f,(p,E)=>{if(p)return m(p);a=E.toDst,d(E.toCwd,c,(y,b)=>{if(y)return m(y);const A=s.dirname(f);_(A,(P,D)=>{if(P)return m(P);if(D)return o.symlink(a,f,b,m);i(A,q=>{if(q)return m(q);o.symlink(a,f,b,m)})})})})}function g(a,f,c){let m;try{m=o.lstatSync(f)}catch{}if(m&&m.isSymbolicLink()){const b=o.statSync(a),A=o.statSync(f);if(R(b,A))return}const p=u(a,f);a=p.toDst,c=v(p.toCwd,c);const E=s.dirname(f);return o.existsSync(E)||t(E),o.symlinkSync(a,f,c)}return Tr={createSymlink:n(w),createSymlinkSync:g},Tr}var Pr,Bo;function Mf(){if(Bo)return Pr;Bo=1;const{createFile:n,createFileSync:s}=Df(),{createLink:o,createLinkSync:h}=Lf(),{createSymlink:i,createSymlinkSync:t}=kf();return Pr={createFile:n,createFileSync:s,ensureFile:n,ensureFileSync:s,createLink:o,createLinkSync:h,ensureLink:o,ensureLinkSync:h,createSymlink:i,createSymlinkSync:t,ensureSymlink:i,ensureSymlinkSync:t},Pr}var Cr,jo;function Us(){if(jo)return Cr;jo=1;function n(o,{EOL:h=`
`,finalEOL:i=!0,replacer:t=null,spaces:e}={}){const r=i?h:"";return JSON.stringify(o,t,e).replace(/\n/g,h)+r}function s(o){return Buffer.isBuffer(o)&&(o=o.toString("utf8")),o.replace(/^\uFEFF/,"")}return Cr={stringify:n,stripBom:s},Cr}var Ir,Ho;function Bf(){if(Ho)return Ir;Ho=1;let n;try{n=ve()}catch{n=pe}const s=Se(),{stringify:o,stripBom:h}=Us();async function i(v,_={}){typeof _=="string"&&(_={encoding:_});const R=_.fs||n,w="throws"in _?_.throws:!0;let S=await s.fromCallback(R.readFile)(v,_);S=h(S);let g;try{g=JSON.parse(S,_?_.reviver:null)}catch(a){if(w)throw a.message=`${v}: ${a.message}`,a;return null}return g}const t=s.fromPromise(i);function e(v,_={}){typeof _=="string"&&(_={encoding:_});const R=_.fs||n,w="throws"in _?_.throws:!0;try{let S=R.readFileSync(v,_);return S=h(S),JSON.parse(S,_.reviver)}catch(S){if(w)throw S.message=`${v}: ${S.message}`,S;return null}}async function r(v,_,R={}){const w=R.fs||n,S=o(_,R);await s.fromCallback(w.writeFile)(v,S,R)}const u=s.fromPromise(r);function l(v,_,R={}){const w=R.fs||n,S=o(_,R);return w.writeFileSync(v,S,R)}return Ir={readFile:t,readFileSync:e,writeFile:u,writeFileSync:l},Ir}var xr,Uo;function jf(){if(Uo)return xr;Uo=1;const n=Bf();return xr={readJson:n.readFile,readJsonSync:n.readFileSync,writeJson:n.writeFile,writeJsonSync:n.writeFileSync},xr}var $r,Vo;function Vs(){if(Vo)return $r;Vo=1;const n=Se().fromCallback,s=ve(),o=Q,h=Oe(),i=ke().pathExists;function t(r,u,l,d){typeof l=="function"&&(d=l,l="utf8");const v=o.dirname(r);i(v,(_,R)=>{if(_)return d(_);if(R)return s.writeFile(r,u,l,d);h.mkdirs(v,w=>{if(w)return d(w);s.writeFile(r,u,l,d)})})}function e(r,...u){const l=o.dirname(r);if(s.existsSync(l))return s.writeFileSync(r,...u);h.mkdirsSync(l),s.writeFileSync(r,...u)}return $r={outputFile:n(t),outputFileSync:e},$r}var Nr,Go;function Hf(){if(Go)return Nr;Go=1;const{stringify:n}=Us(),{outputFile:s}=Vs();async function o(h,i,t={}){const e=n(i,t);await s(h,e,t)}return Nr=o,Nr}var Dr,Wo;function Uf(){if(Wo)return Dr;Wo=1;const{stringify:n}=Us(),{outputFileSync:s}=Vs();function o(h,i,t){const e=n(i,t);s(h,e,t)}return Dr=o,Dr}var Lr,zo;function Vf(){if(zo)return Lr;zo=1;const n=Se().fromPromise,s=jf();return s.outputJson=n(Hf()),s.outputJsonSync=Uf(),s.outputJSON=s.outputJson,s.outputJSONSync=s.outputJsonSync,s.writeJSON=s.writeJson,s.writeJSONSync=s.writeJsonSync,s.readJSON=s.readJson,s.readJSONSync=s.readJsonSync,Lr=s,Lr}var Fr,Yo;function Gf(){if(Yo)return Fr;Yo=1;const n=ve(),s=Q,o=Hs().copy,h=Qt().remove,i=Oe().mkdirp,t=ke().pathExists,e=Ye();function r(_,R,w,S){typeof w=="function"&&(S=w,w={}),w=w||{};const g=w.overwrite||w.clobber||!1;e.checkPaths(_,R,"move",w,(a,f)=>{if(a)return S(a);const{srcStat:c,isChangingCase:m=!1}=f;e.checkParentPaths(_,c,R,"move",p=>{if(p)return S(p);if(u(R))return l(_,R,g,m,S);i(s.dirname(R),E=>E?S(E):l(_,R,g,m,S))})})}function u(_){const R=s.dirname(_);return s.parse(R).root===R}function l(_,R,w,S,g){if(S)return d(_,R,w,g);if(w)return h(R,a=>a?g(a):d(_,R,w,g));t(R,(a,f)=>a?g(a):f?g(new Error("dest already exists.")):d(_,R,w,g))}function d(_,R,w,S){n.rename(_,R,g=>g?g.code!=="EXDEV"?S(g):v(_,R,w,S):S())}function v(_,R,w,S){o(_,R,{overwrite:w,errorOnExist:!0},a=>a?S(a):h(_,S))}return Fr=r,Fr}var qr,Ko;function Wf(){if(Ko)return qr;Ko=1;const n=ve(),s=Q,o=Hs().copySync,h=Qt().removeSync,i=Oe().mkdirpSync,t=Ye();function e(v,_,R){R=R||{};const w=R.overwrite||R.clobber||!1,{srcStat:S,isChangingCase:g=!1}=t.checkPathsSync(v,_,"move",R);return t.checkParentPathsSync(v,S,_,"move"),r(_)||i(s.dirname(_)),u(v,_,w,g)}function r(v){const _=s.dirname(v);return s.parse(_).root===_}function u(v,_,R,w){if(w)return l(v,_,R);if(R)return h(_),l(v,_,R);if(n.existsSync(_))throw new Error("dest already exists.");return l(v,_,R)}function l(v,_,R){try{n.renameSync(v,_)}catch(w){if(w.code!=="EXDEV")throw w;return d(v,_,R)}}function d(v,_,R){return o(v,_,{overwrite:R,errorOnExist:!0}),h(v)}return qr=e,qr}var kr,Xo;function zf(){if(Xo)return kr;Xo=1;const n=Se().fromCallback;return kr={move:n(Gf()),moveSync:Wf()},kr}var Mr,Zo;function Yf(){return Zo||(Zo=1,Mr={...ze(),...Hs(),...Nf(),...Mf(),...Vf(),...Oe(),...zf(),...Vs(),...ke(),...Qt()}),Mr}var de=Yf(),Br,Jo;function Kf(){if(Jo)return Br;Jo=1;var n=We;return Br=n.homedir||function(){var o=process.env.HOME,h=process.env.LOGNAME||process.env.USER||process.env.LNAME||process.env.USERNAME;return process.platform==="win32"?process.env.USERPROFILE||process.env.HOMEDRIVE+process.env.HOMEPATH||o||null:process.platform==="darwin"?o||(h?"/Users/"+h:null):process.platform==="linux"?o||(process.getuid()===0?"/root":h?"/home/"+h:null):o||null},Br}var jr,Qo;function Xf(){return Qo||(Qo=1,jr=function(){var n=Error.prepareStackTrace;Error.prepareStackTrace=function(o,h){return h};var s=new Error().stack;return Error.prepareStackTrace=n,s[2].getFileName()}),jr}var Ue={exports:{}},ea;function Zf(){if(ea)return Ue.exports;ea=1;var n=process.platform==="win32",s=/^(((?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?[\\\/]?)(?:[^\\\/]*[\\\/])*)((\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))[\\\/]*$/,o={};function h(r){return s.exec(r).slice(1)}o.parse=function(r){if(typeof r!="string")throw new TypeError("Parameter 'pathString' must be a string, not "+typeof r);var u=h(r);if(!u||u.length!==5)throw new TypeError("Invalid path '"+r+"'");return{root:u[1],dir:u[0]===u[1]?u[0]:u[0].slice(0,-1),base:u[2],ext:u[4],name:u[3]}};var i=/^((\/?)(?:[^\/]*\/)*)((\.{1,2}|[^\/]+?|)(\.[^.\/]*|))[\/]*$/,t={};function e(r){return i.exec(r).slice(1)}return t.parse=function(r){if(typeof r!="string")throw new TypeError("Parameter 'pathString' must be a string, not "+typeof r);var u=e(r);if(!u||u.length!==5)throw new TypeError("Invalid path '"+r+"'");return{root:u[1],dir:u[0].slice(0,-1),base:u[2],ext:u[4],name:u[3]}},n?Ue.exports=o.parse:Ue.exports=t.parse,Ue.exports.posix=t.parse,Ue.exports.win32=o.parse,Ue.exports}var Hr,ta;function Jf(){if(ta)return Hr;ta=1;var n=Q,s=n.parse||Zf(),o=function(i,t){var e="/";/^([A-Za-z]:)/.test(i)?e="":/^\\\\/.test(i)&&(e="\\\\");for(var r=[i],u=s(i);u.dir!==r[r.length-1];)r.push(u.dir),u=s(u.dir);return r.reduce(function(l,d){return l.concat(t.map(function(v){return n.resolve(e,d,v)}))},[])};return Hr=function(i,t,e){var r=t&&t.moduleDirectory?[].concat(t.moduleDirectory):["node_modules"];if(t&&typeof t.paths=="function")return t.paths(e,i,function(){return o(i,r)},t);var u=o(i,r);return t&&t.paths?u.concat(t.paths):u},Hr}var Ur,ra;function Qf(){return ra||(ra=1,Ur=function(n,s){return s||{}}),Ur}var Vr,na;function ed(){if(na)return Vr;na=1;var n="Function.prototype.bind called on incompatible ",s=Object.prototype.toString,o=Math.max,h="[object Function]",i=function(u,l){for(var d=[],v=0;v<u.length;v+=1)d[v]=u[v];for(var _=0;_<l.length;_+=1)d[_+u.length]=l[_];return d},t=function(u,l){for(var d=[],v=l,_=0;v<u.length;v+=1,_+=1)d[_]=u[v];return d},e=function(r,u){for(var l="",d=0;d<r.length;d+=1)l+=r[d],d+1<r.length&&(l+=u);return l};return Vr=function(u){var l=this;if(typeof l!="function"||s.apply(l)!==h)throw new TypeError(n+l);for(var d=t(arguments,1),v,_=function(){if(this instanceof v){var a=l.apply(this,i(d,arguments));return Object(a)===a?a:this}return l.apply(u,i(d,arguments))},R=o(0,l.length-d.length),w=[],S=0;S<R;S++)w[S]="$"+S;if(v=Function("binder","return function ("+e(w,",")+"){ return binder.apply(this,arguments); }")(_),l.prototype){var g=function(){};g.prototype=l.prototype,v.prototype=new g,g.prototype=null}return v},Vr}var Gr,ia;function td(){if(ia)return Gr;ia=1;var n=ed();return Gr=Function.prototype.bind||n,Gr}var Wr,sa;function rd(){if(sa)return Wr;sa=1;var n=Function.prototype.call,s=Object.prototype.hasOwnProperty,o=td();return Wr=o.call(n,s),Wr}const nd=!0,id=">= 8",sd=">= 0.5 && < 0.9.7",od=!0,ad=!0,ud=">= 0.5",ld=!0,cd=!0,hd=!0,fd=">= 1 && < 8",dd="< 8",pd=!0,md=[">= 14.17 && < 15",">= 15.1"],_d=!0,gd=">= 0.7.12",yd=!0,vd="< 6",Ed=!0,Sd=">= 0.11.1",Rd=">= 0.11.1",wd=">= 0.11.1",Od=">= 0.11.1",bd=">= 0.11.1",Ad=">= 0.11.1",Td=!0,Pd=">= 8.8",Cd=!0,Id=">= 8",xd="< 8",$d=!0,Nd=!0,Dd=!0,Ld=!0,Fd=">= 8.5",qd=">= 1",kd=">= 0.5",Md=!0,Bd=!0,jd=!0,Hd=">= 0.11.5 && < 3",Ud=">= 0.9.4",Vd=">= 0.9.4",Gd=">= 1.4.1",Wd=">= 0.9.4",zd=">= 0.9.4",Yd=">= 0.9.4",Kd=!0,Xd=!0,Zd=[">= 0.4 && < 0.7",">= 0.8"],Jd=!0,Qd=">= 0.11.13",ep=">= 0.11.3 && < 10",tp=">= 0.11.3",rp=!0,np=">= 10",ip=!0,sp=!0,op=!0,ap=">= 1",up=!0,lp=[">= 13.4 && < 13.5",">= 18.17 && < 19",">= 20"],cp=">= 11.7",hp=">= 0.5",fp={assert:nd,"node:assert":[">= 14.18 && < 15",">= 16"],"assert/strict":">= 15","node:assert/strict":">= 16",async_hooks:id,"node:async_hooks":[">= 14.18 && < 15",">= 16"],buffer_ieee754:sd,buffer:od,"node:buffer":[">= 14.18 && < 15",">= 16"],child_process:ad,"node:child_process":[">= 14.18 && < 15",">= 16"],cluster:ud,"node:cluster":[">= 14.18 && < 15",">= 16"],console:ld,"node:console":[">= 14.18 && < 15",">= 16"],constants:cd,"node:constants":[">= 14.18 && < 15",">= 16"],crypto:hd,"node:crypto":[">= 14.18 && < 15",">= 16"],_debug_agent:fd,_debugger:dd,dgram:pd,"node:dgram":[">= 14.18 && < 15",">= 16"],diagnostics_channel:md,"node:diagnostics_channel":[">= 14.18 && < 15",">= 16"],dns:_d,"node:dns":[">= 14.18 && < 15",">= 16"],"dns/promises":">= 15","node:dns/promises":">= 16",domain:gd,"node:domain":[">= 14.18 && < 15",">= 16"],events:yd,"node:events":[">= 14.18 && < 15",">= 16"],freelist:vd,fs:Ed,"node:fs":[">= 14.18 && < 15",">= 16"],"fs/promises":[">= 10 && < 10.1",">= 14"],"node:fs/promises":[">= 14.18 && < 15",">= 16"],_http_agent:Sd,"node:_http_agent":[">= 14.18 && < 15",">= 16"],_http_client:Rd,"node:_http_client":[">= 14.18 && < 15",">= 16"],_http_common:wd,"node:_http_common":[">= 14.18 && < 15",">= 16"],_http_incoming:Od,"node:_http_incoming":[">= 14.18 && < 15",">= 16"],_http_outgoing:bd,"node:_http_outgoing":[">= 14.18 && < 15",">= 16"],_http_server:Ad,"node:_http_server":[">= 14.18 && < 15",">= 16"],http:Td,"node:http":[">= 14.18 && < 15",">= 16"],http2:Pd,"node:http2":[">= 14.18 && < 15",">= 16"],https:Cd,"node:https":[">= 14.18 && < 15",">= 16"],inspector:Id,"node:inspector":[">= 14.18 && < 15",">= 16"],"inspector/promises":[">= 19"],"node:inspector/promises":[">= 19"],_linklist:xd,module:$d,"node:module":[">= 14.18 && < 15",">= 16"],net:Nd,"node:net":[">= 14.18 && < 15",">= 16"],"node-inspect/lib/_inspect":">= 7.6 && < 12","node-inspect/lib/internal/inspect_client":">= 7.6 && < 12","node-inspect/lib/internal/inspect_repl":">= 7.6 && < 12",os:Dd,"node:os":[">= 14.18 && < 15",">= 16"],path:Ld,"node:path":[">= 14.18 && < 15",">= 16"],"path/posix":">= 15.3","node:path/posix":">= 16","path/win32":">= 15.3","node:path/win32":">= 16",perf_hooks:Fd,"node:perf_hooks":[">= 14.18 && < 15",">= 16"],process:qd,"node:process":[">= 14.18 && < 15",">= 16"],punycode:kd,"node:punycode":[">= 14.18 && < 15",">= 16"],querystring:Md,"node:querystring":[">= 14.18 && < 15",">= 16"],readline:Bd,"node:readline":[">= 14.18 && < 15",">= 16"],"readline/promises":">= 17","node:readline/promises":">= 17",repl:jd,"node:repl":[">= 14.18 && < 15",">= 16"],"node:sea":[">= 20.12 && < 21",">= 21.7"],smalloc:Hd,"node:sqlite":[">= 22.13 && < 23",">= 23.4"],_stream_duplex:Ud,"node:_stream_duplex":[">= 14.18 && < 15",">= 16"],_stream_transform:Vd,"node:_stream_transform":[">= 14.18 && < 15",">= 16"],_stream_wrap:Gd,"node:_stream_wrap":[">= 14.18 && < 15",">= 16"],_stream_passthrough:Wd,"node:_stream_passthrough":[">= 14.18 && < 15",">= 16"],_stream_readable:zd,"node:_stream_readable":[">= 14.18 && < 15",">= 16"],_stream_writable:Yd,"node:_stream_writable":[">= 14.18 && < 15",">= 16"],stream:Kd,"node:stream":[">= 14.18 && < 15",">= 16"],"stream/consumers":">= 16.7","node:stream/consumers":">= 16.7","stream/promises":">= 15","node:stream/promises":">= 16","stream/web":">= 16.5","node:stream/web":">= 16.5",string_decoder:Xd,"node:string_decoder":[">= 14.18 && < 15",">= 16"],sys:Zd,"node:sys":[">= 14.18 && < 15",">= 16"],"test/reporters":">= 19.9 && < 20.2","node:test/reporters":[">= 18.17 && < 19",">= 19.9",">= 20"],"test/mock_loader":">= 22.3 && < 22.7","node:test/mock_loader":">= 22.3 && < 22.7","node:test":[">= 16.17 && < 17",">= 18"],timers:Jd,"node:timers":[">= 14.18 && < 15",">= 16"],"timers/promises":">= 15","node:timers/promises":">= 16",_tls_common:Qd,"node:_tls_common":[">= 14.18 && < 15",">= 16"],_tls_legacy:ep,_tls_wrap:tp,"node:_tls_wrap":[">= 14.18 && < 15",">= 16"],tls:rp,"node:tls":[">= 14.18 && < 15",">= 16"],trace_events:np,"node:trace_events":[">= 14.18 && < 15",">= 16"],tty:ip,"node:tty":[">= 14.18 && < 15",">= 16"],url:sp,"node:url":[">= 14.18 && < 15",">= 16"],util:op,"node:util":[">= 14.18 && < 15",">= 16"],"util/types":">= 15.3","node:util/types":">= 16","v8/tools/arguments":">= 10 && < 12","v8/tools/codemap":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/consarray":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/csvparser":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/logreader":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/profile_view":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/splaytree":[">= 4.4 && < 5",">= 5.2 && < 12"],v8:ap,"node:v8":[">= 14.18 && < 15",">= 16"],vm:up,"node:vm":[">= 14.18 && < 15",">= 16"],wasi:lp,"node:wasi":[">= 18.17 && < 19",">= 20"],worker_threads:cp,"node:worker_threads":[">= 14.18 && < 15",">= 16"],zlib:hp,"node:zlib":[">= 14.18 && < 15",">= 16"]};var zr,oa;function dp(){if(oa)return zr;oa=1;var n=rd();function s(t,e){for(var r=t.split("."),u=e.split(" "),l=u.length>1?u[0]:"=",d=(u.length>1?u[1]:u[0]).split("."),v=0;v<3;++v){var _=parseInt(r[v]||0,10),R=parseInt(d[v]||0,10);if(_!==R)return l==="<"?_<R:l===">="?_>=R:!1}return l===">="}function o(t,e){var r=e.split(/ ?&& ?/);if(r.length===0)return!1;for(var u=0;u<r.length;++u)if(!s(t,r[u]))return!1;return!0}function h(t,e){if(typeof e=="boolean")return e;var r=typeof t>"u"?process.versions&&process.versions.node:t;if(typeof r!="string")throw new TypeError(typeof t>"u"?"Unable to determine current node version":"If provided, a valid node version is required");if(e&&typeof e=="object"){for(var u=0;u<e.length;++u)if(o(r,e[u]))return!0;return!1}return o(r,e)}var i=fp;return zr=function(e,r){return n(i,e)&&h(r,i[e])},zr}var Yr,aa;function pp(){if(aa)return Yr;aa=1;var n=pe,s=Kf(),o=Q,h=Xf(),i=Jf(),t=Qf(),e=dp(),r=process.platform!=="win32"&&n.realpath&&typeof n.realpath.native=="function"?n.realpath.native:n.realpath,u=s(),l=function(){return[o.join(u,".node_modules"),o.join(u,".node_libraries")]},d=function(a,f){n.stat(a,function(c,m){return c?c.code==="ENOENT"||c.code==="ENOTDIR"?f(null,!1):f(c):f(null,m.isFile()||m.isFIFO())})},v=function(a,f){n.stat(a,function(c,m){return c?c.code==="ENOENT"||c.code==="ENOTDIR"?f(null,!1):f(c):f(null,m.isDirectory())})},_=function(a,f){r(a,function(c,m){c&&c.code!=="ENOENT"?f(c):f(null,c?a:m)})},R=function(a,f,c,m){c&&c.preserveSymlinks===!1?a(f,m):m(null,f)},w=function(a,f,c){a(f,function(m,p){if(m)c(m);else try{var E=JSON.parse(p);c(null,E)}catch{c(null)}})},S=function(a,f,c){for(var m=i(f,c,a),p=0;p<m.length;p++)m[p]=o.join(m[p],a);return m};return Yr=function(a,f,c){var m=c,p=f;if(typeof f=="function"&&(m=p,p={}),typeof a!="string"){var E=new TypeError("Path must be a string.");return process.nextTick(function(){m(E)})}p=t(a,p);var y=p.isFile||d,b=p.isDirectory||v,A=p.readFile||n.readFile,P=p.realpath||_,D=p.readPackage||w;if(p.readFile&&p.readPackage){var q=new TypeError("`readFile` and `readPackage` are mutually exclusive.");return process.nextTick(function(){m(q)})}var $=p.packageIterator,L=p.extensions||[".js"],C=p.includeCoreModules!==!1,I=p.basedir||o.dirname(h()),M=p.filename||I;p.paths=p.paths||l();var U=o.resolve(I);R(P,U,p,function(H,V){H?m(H):j(V)});var W;function j(H){if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(a))W=o.resolve(H,a),(a==="."||a===".."||a.slice(-1)==="/")&&(W+="/"),/\/$/.test(a)&&W===H?ee(W,p.package,O):x(W,p.package,O);else{if(C&&e(a))return m(null,a);N(a,H,function(V,F,B){if(V)m(V);else{if(F)return R(P,F,p,function(J,re){J?m(J):m(null,re,B)});var Y=new Error("Cannot find module '"+a+"' from '"+M+"'");Y.code="MODULE_NOT_FOUND",m(Y)}})}}function O(H,V,F){H?m(H):V?m(null,V,F):ee(W,function(B,Y,J){if(B)m(B);else if(Y)R(P,Y,p,function(oe,Z){oe?m(oe):m(null,Z,J)});else{var re=new Error("Cannot find module '"+a+"' from '"+M+"'");re.code="MODULE_NOT_FOUND",m(re)}})}function x(H,V,F){var B=V,Y=F;typeof B=="function"&&(Y=B,B=void 0);var J=[""].concat(L);re(J,H,B);function re(oe,Z,T){if(oe.length===0)return Y(null,void 0,T);var X=Z+oe[0],te=T;te?G(null,te):z(o.dirname(X),G);function G(K,ne,se){if(te=ne,K)return Y(K);if(se&&te&&p.pathFilter){var le=o.relative(se,X),ce=le.slice(0,le.length-oe[0].length),he=p.pathFilter(te,Z,ce);if(he)return re([""].concat(L.slice()),o.resolve(se,he),te)}y(X,ie)}function ie(K,ne){if(K)return Y(K);if(ne)return Y(null,X,te);re(oe.slice(1),Z,te)}}}function z(H,V){if(H===""||H==="/"||process.platform==="win32"&&/^\w:[/\\]*$/.test(H)||/[/\\]node_modules[/\\]*$/.test(H))return V(null);R(P,H,p,function(F,B){if(F)return z(o.dirname(H),V);var Y=o.join(B,"package.json");y(Y,function(J,re){if(!re)return z(o.dirname(H),V);D(A,Y,function(oe,Z){oe&&V(oe);var T=Z;T&&p.packageFilter&&(T=p.packageFilter(T,Y)),V(null,T,H)})})})}function ee(H,V,F){var B=F,Y=V;typeof Y=="function"&&(B=Y,Y=p.package),R(P,H,p,function(J,re){if(J)return B(J);var oe=o.join(re,"package.json");y(oe,function(Z,T){if(Z)return B(Z);if(!T)return x(o.join(H,"index"),Y,B);D(A,oe,function(X,te){if(X)return B(X);var G=te;if(G&&p.packageFilter&&(G=p.packageFilter(G,oe)),G&&G.main){if(typeof G.main!="string"){var ie=new TypeError("package “"+G.name+"” `main` must be a string");return ie.code="INVALID_PACKAGE_MAIN",B(ie)}(G.main==="."||G.main==="./")&&(G.main="index"),x(o.resolve(H,G.main),G,function(K,ne,se){if(K)return B(K);if(ne)return B(null,ne,se);if(!se)return x(o.join(H,"index"),se,B);var le=o.resolve(H,se.main);ee(le,se,function(ce,he,ge){if(ce)return B(ce);if(he)return B(null,he,ge);x(o.join(H,"index"),ge,B)})});return}x(o.join(H,"/index"),G,B)})})})}function k(H,V){if(V.length===0)return H(null,void 0);var F=V[0];b(o.dirname(F),B);function B(re,oe){if(re)return H(re);if(!oe)return k(H,V.slice(1));x(F,p.package,Y)}function Y(re,oe,Z){if(re)return H(re);if(oe)return H(null,oe,Z);ee(F,p.package,J)}function J(re,oe,Z){if(re)return H(re);if(oe)return H(null,oe,Z);k(H,V.slice(1))}}function N(H,V,F){var B=function(){return S(H,V,p)};k(F,$?$(H,V,B,p):B())}},Yr}var Kr,ua;function mp(){return ua||(ua=1,Kr=pp()),Kr}var _p=mp();const gp=be(_p);async function yp(){if(typeof require=="function")return require;const{createRequire:n}=await import("module");return n(typeof document>"u"?require("url").pathToFileURL(__filename).href:or&&or.tagName.toUpperCase()==="SCRIPT"&&or.src||new URL("main.js",document.baseURI).href)}async function vp(n){try{const s=await yp();let o=null;const h=console.log;console.log=t=>{o=t};const i=s(n);if(console.log=h,typeof i=="string")return i;if(typeof i=="object"){if(typeof i.include_dir=="string")return i.include_dir;if(typeof i.include=="string")return i.include;if(o!==null)return o}}catch{}return n}async function Ep(n,s){try{const o=await Sp(s,n);if(o!==void 0)return o}catch{}return null}function Sp(n,s){return new Promise(o=>{gp(n,{basedir:s},(h,i)=>{if(h)throw h;return o(i)})})}async function Ie(n,s){try{return await de.stat(n,s)}catch{return new Rp}}class Rp{isFile=()=>!1;isDirectory=()=>!1;isBlockDevice=()=>!1;isCharacterDevice=()=>!1;isSymbolicLink=()=>!1;isFIFO=()=>!1;isSocket=()=>!1}async function wh(n,s){if(!await wp(n))return null;const h=Q.join(n,"node_modules",s);return await Op(h,s==="node-addon-api"?"napi.h":`${s}.h`)?(ae.debug(`Found package "${s}" at path ${h}!`),h):wh(bp(n),s)}async function wp(n){const s=Q.join(n,"package.json"),o=Q.join(n,"node_modules");return(await Ie(s)).isFile()||(await Ie(o)).isDirectory()}async function Op(n,s){const o=Q.join(n,s);return(await Ie(o)).isFile()}function bp(n){let s=n;const o=s.split(Q.sep),h=o[o.length-2];return h&&h.charAt(0)==="@"&&(s=Q.join(s,"..")),s=Q.join(s,"..",".."),Q.normalize(s)}async function Ap(n,s){if(await de.pathExists(s))return s;const o=await Ep(n,s);return typeof o=="string"?vp(o):wh(n,s)}var Xr,la;function er(){return la||(la=1,Xr=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...s)=>console.error("SEMVER",...s):()=>{}),Xr}var Zr,ca;function Gs(){if(ca)return Zr;ca=1;const n="2.0.0",s=256,o=Number.MAX_SAFE_INTEGER||9007199254740991,h=16,i=s-6;return Zr={MAX_LENGTH:s,MAX_SAFE_COMPONENT_LENGTH:h,MAX_SAFE_BUILD_LENGTH:i,MAX_SAFE_INTEGER:o,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:n,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},Zr}var gt={exports:{}},ha;function Ws(){return ha||(ha=1,function(n,s){const{MAX_SAFE_COMPONENT_LENGTH:o,MAX_SAFE_BUILD_LENGTH:h,MAX_LENGTH:i}=Gs(),t=er();s=n.exports={};const e=s.re=[],r=s.safeRe=[],u=s.src=[],l=s.safeSrc=[],d=s.t={};let v=0;const _="[a-zA-Z0-9-]",R=[["\\s",1],["\\d",i],[_,h]],w=g=>{for(const[a,f]of R)g=g.split(`${a}*`).join(`${a}{0,${f}}`).split(`${a}+`).join(`${a}{1,${f}}`);return g},S=(g,a,f)=>{const c=w(a),m=v++;t(g,m,a),d[g]=m,u[m]=a,l[m]=c,e[m]=new RegExp(a,f?"g":void 0),r[m]=new RegExp(c,f?"g":void 0)};S("NUMERICIDENTIFIER","0|[1-9]\\d*"),S("NUMERICIDENTIFIERLOOSE","\\d+"),S("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${_}*`),S("MAINVERSION",`(${u[d.NUMERICIDENTIFIER]})\\.(${u[d.NUMERICIDENTIFIER]})\\.(${u[d.NUMERICIDENTIFIER]})`),S("MAINVERSIONLOOSE",`(${u[d.NUMERICIDENTIFIERLOOSE]})\\.(${u[d.NUMERICIDENTIFIERLOOSE]})\\.(${u[d.NUMERICIDENTIFIERLOOSE]})`),S("PRERELEASEIDENTIFIER",`(?:${u[d.NUMERICIDENTIFIER]}|${u[d.NONNUMERICIDENTIFIER]})`),S("PRERELEASEIDENTIFIERLOOSE",`(?:${u[d.NUMERICIDENTIFIERLOOSE]}|${u[d.NONNUMERICIDENTIFIER]})`),S("PRERELEASE",`(?:-(${u[d.PRERELEASEIDENTIFIER]}(?:\\.${u[d.PRERELEASEIDENTIFIER]})*))`),S("PRERELEASELOOSE",`(?:-?(${u[d.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${u[d.PRERELEASEIDENTIFIERLOOSE]})*))`),S("BUILDIDENTIFIER",`${_}+`),S("BUILD",`(?:\\+(${u[d.BUILDIDENTIFIER]}(?:\\.${u[d.BUILDIDENTIFIER]})*))`),S("FULLPLAIN",`v?${u[d.MAINVERSION]}${u[d.PRERELEASE]}?${u[d.BUILD]}?`),S("FULL",`^${u[d.FULLPLAIN]}$`),S("LOOSEPLAIN",`[v=\\s]*${u[d.MAINVERSIONLOOSE]}${u[d.PRERELEASELOOSE]}?${u[d.BUILD]}?`),S("LOOSE",`^${u[d.LOOSEPLAIN]}$`),S("GTLT","((?:<|>)?=?)"),S("XRANGEIDENTIFIERLOOSE",`${u[d.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),S("XRANGEIDENTIFIER",`${u[d.NUMERICIDENTIFIER]}|x|X|\\*`),S("XRANGEPLAIN",`[v=\\s]*(${u[d.XRANGEIDENTIFIER]})(?:\\.(${u[d.XRANGEIDENTIFIER]})(?:\\.(${u[d.XRANGEIDENTIFIER]})(?:${u[d.PRERELEASE]})?${u[d.BUILD]}?)?)?`),S("XRANGEPLAINLOOSE",`[v=\\s]*(${u[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[d.XRANGEIDENTIFIERLOOSE]})(?:${u[d.PRERELEASELOOSE]})?${u[d.BUILD]}?)?)?`),S("XRANGE",`^${u[d.GTLT]}\\s*${u[d.XRANGEPLAIN]}$`),S("XRANGELOOSE",`^${u[d.GTLT]}\\s*${u[d.XRANGEPLAINLOOSE]}$`),S("COERCEPLAIN",`(^|[^\\d])(\\d{1,${o}})(?:\\.(\\d{1,${o}}))?(?:\\.(\\d{1,${o}}))?`),S("COERCE",`${u[d.COERCEPLAIN]}(?:$|[^\\d])`),S("COERCEFULL",u[d.COERCEPLAIN]+`(?:${u[d.PRERELEASE]})?(?:${u[d.BUILD]})?(?:$|[^\\d])`),S("COERCERTL",u[d.COERCE],!0),S("COERCERTLFULL",u[d.COERCEFULL],!0),S("LONETILDE","(?:~>?)"),S("TILDETRIM",`(\\s*)${u[d.LONETILDE]}\\s+`,!0),s.tildeTrimReplace="$1~",S("TILDE",`^${u[d.LONETILDE]}${u[d.XRANGEPLAIN]}$`),S("TILDELOOSE",`^${u[d.LONETILDE]}${u[d.XRANGEPLAINLOOSE]}$`),S("LONECARET","(?:\\^)"),S("CARETTRIM",`(\\s*)${u[d.LONECARET]}\\s+`,!0),s.caretTrimReplace="$1^",S("CARET",`^${u[d.LONECARET]}${u[d.XRANGEPLAIN]}$`),S("CARETLOOSE",`^${u[d.LONECARET]}${u[d.XRANGEPLAINLOOSE]}$`),S("COMPARATORLOOSE",`^${u[d.GTLT]}\\s*(${u[d.LOOSEPLAIN]})$|^$`),S("COMPARATOR",`^${u[d.GTLT]}\\s*(${u[d.FULLPLAIN]})$|^$`),S("COMPARATORTRIM",`(\\s*)${u[d.GTLT]}\\s*(${u[d.LOOSEPLAIN]}|${u[d.XRANGEPLAIN]})`,!0),s.comparatorTrimReplace="$1$2$3",S("HYPHENRANGE",`^\\s*(${u[d.XRANGEPLAIN]})\\s+-\\s+(${u[d.XRANGEPLAIN]})\\s*$`),S("HYPHENRANGELOOSE",`^\\s*(${u[d.XRANGEPLAINLOOSE]})\\s+-\\s+(${u[d.XRANGEPLAINLOOSE]})\\s*$`),S("STAR","(<|>)?=?\\s*\\*"),S("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),S("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(gt,gt.exports)),gt.exports}var Jr,fa;function zs(){if(fa)return Jr;fa=1;const n=Object.freeze({loose:!0}),s=Object.freeze({});return Jr=h=>h?typeof h!="object"?n:h:s,Jr}var Qr,da;function Tp(){if(da)return Qr;da=1;const n=/^[0-9]+$/,s=(h,i)=>{const t=n.test(h),e=n.test(i);return t&&e&&(h=+h,i=+i),h===i?0:t&&!e?-1:e&&!t?1:h<i?-1:1};return Qr={compareIdentifiers:s,rcompareIdentifiers:(h,i)=>s(i,h)},Qr}var en,pa;function Ys(){if(pa)return en;pa=1;const n=er(),{MAX_LENGTH:s,MAX_SAFE_INTEGER:o}=Gs(),{safeRe:h,safeSrc:i,t}=Ws(),e=zs(),{compareIdentifiers:r}=Tp();class u{constructor(d,v){if(v=e(v),d instanceof u){if(d.loose===!!v.loose&&d.includePrerelease===!!v.includePrerelease)return d;d=d.version}else if(typeof d!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof d}".`);if(d.length>s)throw new TypeError(`version is longer than ${s} characters`);n("SemVer",d,v),this.options=v,this.loose=!!v.loose,this.includePrerelease=!!v.includePrerelease;const _=d.trim().match(v.loose?h[t.LOOSE]:h[t.FULL]);if(!_)throw new TypeError(`Invalid Version: ${d}`);if(this.raw=d,this.major=+_[1],this.minor=+_[2],this.patch=+_[3],this.major>o||this.major<0)throw new TypeError("Invalid major version");if(this.minor>o||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>o||this.patch<0)throw new TypeError("Invalid patch version");_[4]?this.prerelease=_[4].split(".").map(R=>{if(/^[0-9]+$/.test(R)){const w=+R;if(w>=0&&w<o)return w}return R}):this.prerelease=[],this.build=_[5]?_[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(d){if(n("SemVer.compare",this.version,this.options,d),!(d instanceof u)){if(typeof d=="string"&&d===this.version)return 0;d=new u(d,this.options)}return d.version===this.version?0:this.compareMain(d)||this.comparePre(d)}compareMain(d){return d instanceof u||(d=new u(d,this.options)),r(this.major,d.major)||r(this.minor,d.minor)||r(this.patch,d.patch)}comparePre(d){if(d instanceof u||(d=new u(d,this.options)),this.prerelease.length&&!d.prerelease.length)return-1;if(!this.prerelease.length&&d.prerelease.length)return 1;if(!this.prerelease.length&&!d.prerelease.length)return 0;let v=0;do{const _=this.prerelease[v],R=d.prerelease[v];if(n("prerelease compare",v,_,R),_===void 0&&R===void 0)return 0;if(R===void 0)return 1;if(_===void 0)return-1;if(_===R)continue;return r(_,R)}while(++v)}compareBuild(d){d instanceof u||(d=new u(d,this.options));let v=0;do{const _=this.build[v],R=d.build[v];if(n("build compare",v,_,R),_===void 0&&R===void 0)return 0;if(R===void 0)return 1;if(_===void 0)return-1;if(_===R)continue;return r(_,R)}while(++v)}inc(d,v,_){if(d.startsWith("pre")){if(!v&&_===!1)throw new Error("invalid increment argument: identifier is empty");if(v){const R=new RegExp(`^${this.options.loose?i[t.PRERELEASELOOSE]:i[t.PRERELEASE]}$`),w=`-${v}`.match(R);if(!w||w[1]!==v)throw new Error(`invalid identifier: ${v}`)}}switch(d){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",v,_);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",v,_);break;case"prepatch":this.prerelease.length=0,this.inc("patch",v,_),this.inc("pre",v,_);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",v,_),this.inc("pre",v,_);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const R=Number(_)?1:0;if(this.prerelease.length===0)this.prerelease=[R];else{let w=this.prerelease.length;for(;--w>=0;)typeof this.prerelease[w]=="number"&&(this.prerelease[w]++,w=-2);if(w===-1){if(v===this.prerelease.join(".")&&_===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(R)}}if(v){let w=[v,R];_===!1&&(w=[v]),r(this.prerelease[0],v)===0?isNaN(this.prerelease[1])&&(this.prerelease=w):this.prerelease=w}break}default:throw new Error(`invalid increment argument: ${d}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return en=u,en}var tn,ma;function Ke(){if(ma)return tn;ma=1;const n=Ys();return tn=(o,h,i)=>new n(o,i).compare(new n(h,i)),tn}var rn,_a;function Oh(){if(_a)return rn;_a=1;const n=Ke();return rn=(o,h,i)=>n(o,h,i)>=0,rn}var Pp=Oh();const Cp=be(Pp);var nn,ga;function bh(){if(ga)return nn;ga=1;const n=Ke();return nn=(o,h,i)=>n(o,h,i)<0,nn}var Ip=bh();const xp=be(Ip);var fh;const Ah=(fh=Jt("NVM_NODEJS_ORG_MIRROR"))!=null?fh:"https://nodejs.org/dist";var dh;const $p=(dh=Jt("NVM_IOJS_ORG_MIRROR"))!=null?dh:"https://iojs.org/dist";var ph;const Np=(ph=Jt("ELECTRON_MIRROR"))!=null?ph:"https://artifacts.electronjs.org/headers/dist",Dp=process.env[We.platform()==="win32"?"USERPROFILE":"HOME"];function Ge(n){switch(n.runtime){case"node":return(xp(n.runtimeVersion,"4.0.0")?Lp:Fp)(n);case"iojs":return{externalPath:`${$p}/v${n.runtimeVersion}/`,winLibs:[{dir:n.arch==="x64"||n.arch==="arm64"?"win-x64":"win-x86",name:`${n.runtime}.lib`}],tarPath:`${n.runtime}-v${n.runtimeVersion}.tar.gz`,headerOnly:!1};case"electron":return{externalPath:`${Np}/v${n.runtimeVersion}/`,winLibs:[{dir:n.arch==="x64"?"x64":n.arch==="arm64"?"arm64":"",name:"node.lib"}],tarPath:`node-v${n.runtimeVersion}.tar.gz`,headerOnly:Cp(n.runtimeVersion,"4.0.0-alpha")};default:throw new Error(`Unsupported runtime ${n.runtime}`)}}function Lp(n){return{externalPath:`${Ah}/v${n.runtimeVersion}/`,winLibs:[{dir:n.arch==="x64"||n.arch==="arm64"?"x64":"",name:`${n.runtime}.lib`}],tarPath:`${n.runtime}-v${n.runtimeVersion}.tar.gz`,headerOnly:!1}}function Fp(n){return{externalPath:`${Ah}/v${n.runtimeVersion}/`,winLibs:[{dir:n.arch==="x64"?"win-x64":n.arch==="arm64"?"win-arm64":n.arch==="ia32"?"win-x86":"",name:`${n.runtime}.lib`}],tarPath:`${n.runtime}-v${n.runtimeVersion}-headers.tar.gz`,headerOnly:!0}}const Th=process.env["ProgramFiles(x86)"],qp=[process.env["ProgramFiles(x86)"],process.env.ProgramFiles],kp=["Enterprise","Professional","Community","BuildTools"],Mp=["2022","2019","2017"],Bp=`${Th}\\Microsoft Visual Studio\\Installer`;function jp(n,s){try{return`${Kt.execSync(`vswhere -products * ${s} -prerelease -property installationPath`).toString().trim()}\\${n}`}catch(o){ae.debug(`vswhere failed: ${o}`)}return null}function Hp(n){let o=jp("VC\\Auxiliary\\Build\\vcvarsall.bat","-latest");if(o!==null&&pe.existsSync(o))return ae.debug(`Found with vswhere: ${o}`),o;ae.debug("Not found with vswhere");const h=Mp;for(const i of qp)for(const t of h)for(const e of kp)if(o=`${i}\\Microsoft Visual Studio\\${t}\\${e}\\VC\\Auxiliary\\Build\\vcvarsall.bat`,ae.debug(`Trying standard location: ${o}`),pe.existsSync(o))return ae.debug(`Found standard location: ${o}`),o;if(ae.debug("Not found in standard locations"),o=`${Th}\\Microsoft Visual C++ Build Tools\\vcbuildtools.bat`,pe.existsSync(o))return ae.debug(`Found VS 2015: ${o}`),o;throw ae.debug(`Not found in VS 2015 location: ${o}`),new Error("Microsoft Visual Studio not found")}function Up(n){return["PATH","INCLUDE","LIB","LIBPATH"].includes(n.toUpperCase())}function Vp(n){return n.split(";").filter((s,o,h)=>h.indexOf(s)===o).join(";")}function ya(n){switch(n){case"ia32":return"x86";case"x64":return"amd64";default:return n}}function Gp(n,s){if(process.platform!=="win32")return;const o=ya(process.arch),h=ya(n),i=o===h?h:`${o}_${h}`;ae.debug(`Setting up MSVC for ${i}`),console.group(),process.env.PATH+=Q.delimiter+Bp;const t=[i],e=`"${Hp()}" ${t.join(" ")}`;ae.debug(`vcvars command-line: ${e}`);const u=Kt.execSync(`set && cls && ${e} && cls && set`,{shell:"cmd"}).toString().split("\f"),l=u[0].split(`\r
`),d=u[1].split(`\r
`),v=u[2].split(`\r
`),_=d.filter(w=>!!(w.match(/^\[ERROR.*]/)&&!w.match(/Error in script usage. The correct usage is:$/)));if(_.length>0)throw new Error(`invalid parameters\r
${_.join(`\r
`)}`);const R={};for(const w of l){const[S,g]=w.split("=");R[S]=g}for(const w of v){if(!w.includes("="))continue;let[S,g]=w.split("=");const a=R[S];g!==a&&(ae.debug(`Setting env var ${S}=${g}`),Up(S)&&(g=Vp(g)),process.env[S]=g)}console.groupEnd()}class Wp{constructor(s,o){this.config=s,this.rtd=o}async configureCommand(){const s=[this.config.packageDirectory,"--no-warn-unused-cli"],o=await this.buildDefines();for(const[h,i]of o)s.push(`-D${h}=${i}`);return this.config.generatorToUse!=="native"&&(s.push("-G",this.config.generatorToUse),this.config.generatorFlags!==void 0&&s.push(...this.config.generatorFlags)),[this.config.cmakeToUse,s]}buildCommand(s){return[this.config.cmakeToUse,["--build",s,"--config",this.config.buildType,"--parallel"]]}async buildDefines(){var t,e;const s=Ge(this.config),o=[];if(o.push(["CMAKE_BUILD_TYPE",this.config.buildType]),this.config.toolchainFile!==void 0&&o.push(["CMAKE_TOOLCHAIN_FILE",Q.resolve(this.config.toolchainFile)]),this.config.os==="win32"){const r=this.rtd.winLibs();r.length&&o.push(["CMAKE_JS_LIB",r.join(";")])}else this.config.os==="darwin"&&o.push(["CMAKE_JS_CXX_FLAGS","-undefined dynamic_lookup"]);const h=[];s.headerOnly?h.push(Q.join(this.rtd.internalPath(),"/include/node")):h.push(Q.join(this.rtd.internalPath(),"/src"),Q.join(this.rtd.internalPath(),"/deps/v8/include"),Q.join(this.rtd.internalPath(),"/deps/uv/include")),((t=this.config.nodeAPI)==null?void 0:t.includes("nan"))===!0&&ae.warn(`Specified nodeAPI ${this.config.nodeAPI} seems to be nan - The usage of nan is discouraged due to subtle and hard-to-fix ABI issues! Consider using node-addon-api / N-API instead!`),this.config.nodeAPI===void 0&&ae.warn('NodeAPI was not specified. The default changed from "nan" to "node-addon-api" in v0.3.0! Please make sure this is intended.');const i=await Ap(this.config.packageDirectory,(e=this.config.nodeAPI)!=null?e:"node-addon-api");if(this.config.nodeAPI!==void 0&&i===null&&ae.warn(`NodeAPI was specified, but module "${this.config.nodeAPI}" could not be found!`),i!==null&&h.push(i),o.push(["CMAKE_JS_INC",h.join(";")]),o.push(["NODE_RUNTIME",this.config.runtime],["NODE_ARCH",this.config.arch],["NODE_PLATFORM",this.config.os],["NODE_RUNTIMEVERSION",this.config.runtimeVersion],["NODE_ABI_VERSION",`${this.rtd.abi()}`]),o.push(["CMAKE_JS_DEFINES",this.config.additionalDefines.join(";")]),this.config.cross===!0){const r=Ph(this.config.arch,this.config.os),u=zp(this.config.os);if(ae.info(`Cross-compiling for ${u}/${r}`),o.push(["CMAKE_SYSTEM_PROCESSOR",r],["CMAKE_SYSTEM_NAME",u]),u==="Darwin"&&o.push(["CMAKE_OSX_ARCHITECTURES",r]),this.config.os==="win32"){const l=this.config.generatorToUse.includes("Visual Studio");try{Gp(this.config.arch),l&&(ae.debug("Removing the generator flags in favour of the vcvarsall.bat script"),this.config.generatorFlags=void 0)}catch(d){ae.warn(`Failed to setup MSVC variables for ${this.config.arch}: ${d}.`),l&&(ae.debug("Setting the CMake generator platform to the target architecture"),o.push(["CMAKE_GENERATOR_PLATFORM",r]))}}}if(this.config.CMakeOptions.length!==0)for(const r of this.config.CMakeOptions)o.push([r.name,r.value.replace(/\$ROOT\$/g,Q.resolve(this.config.packageDirectory))]);return o}}function Ph(n,s){return s in sn&&n in sn[s]?sn[s][n]:s==="win32"?n.toUpperCase():n}const sn={win32:{arm64:"arm64",x64:"AMD64",ia32:"X86"},darwin:{arm64:"arm64",x64:"x86_64",ppc64:"powerpc64",ppc:"powerpc"},linux:{arm64:"aarch64",x64:"x86_64",ia32:"i386",arm:"arm",loong64:"loong64",mips:"mips",mipsel:"mipsel",ppc64:"ppc64"}};function zp(n){return n in va?va[n]:n.toUpperCase()}const va={win32:"Windows",darwin:"Darwin",linux:"Linux",android:"Android",openbsd:"OpenBSD",freebsd:"FreeBSD",netbsd:"NetBSD",cygwin:"CYGWIN",aix:"AIX",sunos:"SunOS",haiku:"Haiku"};var on,Ea;function Yp(){if(Ea)return on;Ea=1,on=h,h.sync=i;var n=pe;function s(t,e){var r=e.pathExt!==void 0?e.pathExt:process.env.PATHEXT;if(!r||(r=r.split(";"),r.indexOf("")!==-1))return!0;for(var u=0;u<r.length;u++){var l=r[u].toLowerCase();if(l&&t.substr(-l.length).toLowerCase()===l)return!0}return!1}function o(t,e,r){return!t.isSymbolicLink()&&!t.isFile()?!1:s(e,r)}function h(t,e,r){n.stat(t,function(u,l){r(u,u?!1:o(l,t,e))})}function i(t,e){return o(n.statSync(t),t,e)}return on}var an,Sa;function Kp(){if(Sa)return an;Sa=1,an=s,s.sync=o;var n=pe;function s(t,e,r){n.stat(t,function(u,l){r(u,u?!1:h(l,e))})}function o(t,e){return h(n.statSync(t),e)}function h(t,e){return t.isFile()&&i(t,e)}function i(t,e){var r=t.mode,u=t.uid,l=t.gid,d=e.uid!==void 0?e.uid:process.getuid&&process.getuid(),v=e.gid!==void 0?e.gid:process.getgid&&process.getgid(),_=parseInt("100",8),R=parseInt("010",8),w=parseInt("001",8),S=_|R,g=r&w||r&R&&l===v||r&_&&u===d||r&S&&d===0;return g}return an}var un,Ra;function Xp(){if(Ra)return un;Ra=1;var n;process.platform==="win32"||xe.TESTING_WINDOWS?n=Yp():n=Kp(),un=s,s.sync=o;function s(h,i,t){if(typeof i=="function"&&(t=i,i={}),!t){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(e,r){s(h,i||{},function(u,l){u?r(u):e(l)})})}n(h,i||{},function(e,r){e&&(e.code==="EACCES"||i&&i.ignoreErrors)&&(e=null,r=!1),t(e,r)})}function o(h,i){try{return n.sync(h,i||{})}catch(t){if(i&&i.ignoreErrors||t.code==="EACCES")return!1;throw t}}return un}var ln,wa;function Zp(){if(wa)return ln;wa=1;const n=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",s=Q,o=n?";":":",h=Xp(),i=u=>Object.assign(new Error(`not found: ${u}`),{code:"ENOENT"}),t=(u,l)=>{const d=l.colon||o,v=u.match(/\//)||n&&u.match(/\\/)?[""]:[...n?[process.cwd()]:[],...(l.path||process.env.PATH||"").split(d)],_=n?l.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",R=n?_.split(d):[""];return n&&u.indexOf(".")!==-1&&R[0]!==""&&R.unshift(""),{pathEnv:v,pathExt:R,pathExtExe:_}},e=(u,l,d)=>{typeof l=="function"&&(d=l,l={}),l||(l={});const{pathEnv:v,pathExt:_,pathExtExe:R}=t(u,l),w=[],S=a=>new Promise((f,c)=>{if(a===v.length)return l.all&&w.length?f(w):c(i(u));const m=v[a],p=/^".*"$/.test(m)?m.slice(1,-1):m,E=s.join(p,u),y=!p&&/^\.[\\\/]/.test(u)?u.slice(0,2)+E:E;f(g(y,a,0))}),g=(a,f,c)=>new Promise((m,p)=>{if(c===_.length)return m(S(f+1));const E=_[c];h(a+E,{pathExt:R},(y,b)=>{if(!y&&b)if(l.all)w.push(a+E);else return m(a+E);return m(g(a,f,c+1))})});return d?S(0).then(a=>d(null,a),d):S(0)},r=(u,l)=>{l=l||{};const{pathEnv:d,pathExt:v,pathExtExe:_}=t(u,l),R=[];for(let w=0;w<d.length;w++){const S=d[w],g=/^".*"$/.test(S)?S.slice(1,-1):S,a=s.join(g,u),f=!g&&/^\.[\\\/]/.test(u)?u.slice(0,2)+a:a;for(let c=0;c<v.length;c++){const m=f+v[c];try{if(h.sync(m,{pathExt:_}))if(l.all)R.push(m);else return m}catch{}}}if(l.all&&R.length)return R;if(l.nothrow)return null;throw i(u)};return ln=e,e.sync=r,ln}var Jp=Zp();const Ch=be(Jp);var cn,Oa;function Qp(){return Oa||(Oa=1,cn=function(){}),cn}var hn,ba;function Me(){if(ba)return hn;ba=1;var n=Qp()();return hn=function(s){return s!==n&&s!==null},hn}var fn,Aa;function Ih(){if(Aa)return fn;Aa=1;var n=Me(),s=Array.prototype.forEach,o=Object.create,h=function(i,t){var e;for(e in i)t[e]=i[e]};return fn=function(i){var t=o(null);return s.call(arguments,function(e){n(e)&&h(Object(e),t)}),t},fn}var dn,Ta;function em(){return Ta||(Ta=1,dn=function(){var n=Math.sign;return typeof n!="function"?!1:n(10)===1&&n(-20)===-1}),dn}var pn,Pa;function tm(){return Pa||(Pa=1,pn=function(n){return n=Number(n),isNaN(n)||n===0?n:n>0?1:-1}),pn}var mn,Ca;function rm(){return Ca||(Ca=1,mn=em()()?Math.sign:tm()),mn}var _n,Ia;function nm(){if(Ia)return _n;Ia=1;var n=rm(),s=Math.abs,o=Math.floor;return _n=function(h){return isNaN(h)?0:(h=Number(h),h===0||!isFinite(h)?h:n(h)*o(s(h)))},_n}var gn,xa;function Be(){if(xa)return gn;xa=1;var n=nm(),s=Math.max;return gn=function(o){return s(0,n(o))},gn}var yn,$a;function xh(){if($a)return yn;$a=1;var n=Be();return yn=function(s,o,h){var i;return isNaN(s)?(i=o,i>=0?h&&i?i-1:i:1):s===!1?!1:n(s)},yn}var vn,Na;function $e(){return Na||(Na=1,vn=function(n){if(typeof n!="function")throw new TypeError(n+" is not a function");return n}),vn}var En,Da;function Xe(){if(Da)return En;Da=1;var n=Me();return En=function(s){if(!n(s))throw new TypeError("Cannot use null or undefined");return s},En}var Sn,La;function im(){if(La)return Sn;La=1;var n=$e(),s=Xe(),o=Function.prototype.bind,h=Function.prototype.call,i=Object.keys,t=Object.prototype.propertyIsEnumerable;return Sn=function(e,r){return function(u,l){var d,v=arguments[2],_=arguments[3];return u=Object(s(u)),n(l),d=i(u),_&&d.sort(typeof _=="function"?o.call(_,u):void 0),typeof e!="function"&&(e=d[e]),h.call(e,d,function(R,w){return t.call(u,R)?h.call(l,v,u[R],R,u,w):r})}},Sn}var Rn,Fa;function tr(){return Fa||(Fa=1,Rn=im()("forEach")),Rn}var qa={},ka;function je(){return ka||(ka=1),qa}var wn={exports:{}},On,Ma;function sm(){return Ma||(Ma=1,On=function(){var n=Object.assign,s;return typeof n!="function"?!1:(s={foo:"raz"},n(s,{bar:"dwa"},{trzy:"trzy"}),s.foo+s.bar+s.trzy==="razdwatrzy")}),On}var bn,Ba;function om(){return Ba||(Ba=1,bn=function(){try{return Object.keys("primitive"),!0}catch{return!1}}),bn}var An,ja;function am(){if(ja)return An;ja=1;var n=Me(),s=Object.keys;return An=function(o){return s(n(o)?Object(o):o)},An}var Tn,Ha;function um(){return Ha||(Ha=1,Tn=om()()?Object.keys:am()),Tn}var Pn,Ua;function lm(){if(Ua)return Pn;Ua=1;var n=um(),s=Xe(),o=Math.max;return Pn=function(h,i){var t,e,r=o(arguments.length,2),u;for(h=Object(s(h)),u=function(l){try{h[l]=i[l]}catch(d){t||(t=d)}},e=1;e<r;++e)i=arguments[e],n(i).forEach(u);if(t!==void 0)throw t;return h},Pn}var Cn,Va;function $h(){return Va||(Va=1,Cn=sm()()?Object.assign:lm()),Cn}var In,Ga;function cm(){if(Ga)return In;Ga=1;var n=Me(),s={function:!0,object:!0};return In=function(o){return n(o)&&s[typeof o]||!1},In}var Wa;function hm(){return Wa||(Wa=1,function(n){var s=$h(),o=cm(),h=Me(),i=Error.captureStackTrace;n.exports=function(t){var e=new Error(t),r=arguments[1],u=arguments[2];return h(u)||o(r)&&(u=r,r=null),h(u)&&s(e,u),h(r)&&(e.code=r),i&&i(e,n.exports),e}}(wn)),wn.exports}var yt={exports:{}},xn,za;function Nh(){if(za)return xn;za=1;var n=Xe(),s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,h=Object.getOwnPropertyNames,i=Object.getOwnPropertySymbols;return xn=function(t,e){var r,u=Object(n(e));if(t=Object(n(t)),h(u).forEach(function(l){try{s(t,l,o(e,l))}catch(d){r=d}}),typeof i=="function"&&i(u).forEach(function(l){try{s(t,l,o(e,l))}catch(d){r=d}}),r!==void 0)throw r;return t},xn}var Ya;function Dh(){if(Ya)return yt.exports;Ya=1;var n=Be(),s=function(e,r){return r},o,h,i,t;try{Object.defineProperty(s,"length",{configurable:!0,writable:!1,enumerable:!1,value:1})}catch{}return s.length===1?(o={configurable:!0,writable:!1,enumerable:!1},h=Object.defineProperty,yt.exports=function(e,r){return r=n(r),e.length===r?e:(o.value=r,h(e,"length",o))}):(t=Nh(),i=function(){var e=[];return function(r){var u,l=0;if(e[r])return e[r];for(u=[];r--;)u.push("a"+(++l).toString(36));return new Function("fn","return function ("+u.join(", ")+") { return fn.apply(this, arguments); };")}}(),yt.exports=function(e,r){var u;if(r=n(r),e.length===r)return e;u=i(r)(e);try{t(u,e)}catch{}return u}),yt.exports}var $n={exports:{}},Nn,Ka;function Lh(){if(Ka)return Nn;Ka=1;var n=void 0;return Nn=function(s){return s!==n&&s!==null},Nn}var Dn,Xa;function fm(){if(Xa)return Dn;Xa=1;var n=Lh(),s={object:!0,function:!0,undefined:!0};return Dn=function(o){return n(o)?hasOwnProperty.call(s,typeof o):!1},Dn}var Ln,Za;function dm(){if(Za)return Ln;Za=1;var n=fm();return Ln=function(s){if(!n(s))return!1;try{return s.constructor?s.constructor.prototype===s:!1}catch{return!1}},Ln}var Fn,Ja;function pm(){if(Ja)return Fn;Ja=1;var n=dm();return Fn=function(s){if(typeof s!="function"||!hasOwnProperty.call(s,"length"))return!1;try{if(typeof s.length!="number"||typeof s.call!="function"||typeof s.apply!="function")return!1}catch{return!1}return!n(s)},Fn}var qn,Qa;function mm(){if(Qa)return qn;Qa=1;var n=pm(),s=/^\s*class[\s{/}]/,o=Function.prototype.toString;return qn=function(h){return!(!n(h)||s.test(o.call(h)))},qn}var kn,eu;function _m(){if(eu)return kn;eu=1;var n="razdwatrzy";return kn=function(){return typeof n.contains!="function"?!1:n.contains("dwa")===!0&&n.contains("foo")===!1},kn}var Mn,tu;function gm(){if(tu)return Mn;tu=1;var n=String.prototype.indexOf;return Mn=function(s){return n.call(this,s,arguments[1])>-1},Mn}var Bn,ru;function ym(){return ru||(ru=1,Bn=_m()()?String.prototype.contains:gm()),Bn}var nu;function He(){if(nu)return $n.exports;nu=1;var n=Lh(),s=mm(),o=$h(),h=Ih(),i=ym(),t=$n.exports=function(e,r){var u,l,d,v,_;return arguments.length<2||typeof e!="string"?(v=r,r=e,e=null):v=arguments[2],n(e)?(u=i.call(e,"c"),l=i.call(e,"e"),d=i.call(e,"w")):(u=d=!0,l=!1),_={value:r,configurable:u,enumerable:l,writable:d},v?o(h(v),_):_};return t.gs=function(e,r,u){var l,d,v,_;return typeof e!="string"?(v=u,u=r,r=e,e=null):v=arguments[3],n(r)?s(r)?n(u)?s(u)||(v=u,u=void 0):u=void 0:(v=r,r=u=void 0):r=void 0,n(e)?(l=i.call(e,"c"),d=i.call(e,"e")):(l=!0,d=!1),_={get:r,set:u,configurable:l,enumerable:d},v?o(h(v),_):_},$n.exports}var vt={exports:{}},iu;function vm(){return iu||(iu=1,function(n,s){var o=He(),h=$e(),i=Function.prototype.apply,t=Function.prototype.call,e=Object.create,r=Object.defineProperty,u=Object.defineProperties,l=Object.prototype.hasOwnProperty,d={configurable:!0,enumerable:!1,writable:!0},v,_,R,w,S,g,a;v=function(f,c){var m;return h(c),l.call(this,"__ee__")?m=this.__ee__:(m=d.value=e(null),r(this,"__ee__",d),d.value=null),m[f]?typeof m[f]=="object"?m[f].push(c):m[f]=[m[f],c]:m[f]=c,this},_=function(f,c){var m,p;return h(c),p=this,v.call(this,f,m=function(){R.call(p,f,m),i.call(c,this,arguments)}),m.__eeOnceListener__=c,this},R=function(f,c){var m,p,E,y;if(h(c),!l.call(this,"__ee__"))return this;if(m=this.__ee__,!m[f])return this;if(p=m[f],typeof p=="object")for(y=0;E=p[y];++y)(E===c||E.__eeOnceListener__===c)&&(p.length===2?m[f]=p[y?0:1]:p.splice(y,1));else(p===c||p.__eeOnceListener__===c)&&delete m[f];return this},w=function(f){var c,m,p,E,y;if(l.call(this,"__ee__")&&(E=this.__ee__[f],!!E))if(typeof E=="object"){for(m=arguments.length,y=new Array(m-1),c=1;c<m;++c)y[c-1]=arguments[c];for(E=E.slice(),c=0;p=E[c];++c)i.call(p,this,y)}else switch(arguments.length){case 1:t.call(E,this);break;case 2:t.call(E,this,arguments[1]);break;case 3:t.call(E,this,arguments[1],arguments[2]);break;default:for(m=arguments.length,y=new Array(m-1),c=1;c<m;++c)y[c-1]=arguments[c];i.call(E,this,y)}},S={on:v,once:_,off:R,emit:w},g={on:o(v),once:o(_),off:o(R),emit:o(w)},a=u({},g),n.exports=s=function(f){return f==null?e(a):u(Object(f),g)},s.methods=S}(vt,vt.exports)),vt.exports}var jn,su;function Em(){return su||(su=1,jn=function(){var n=Array.from,s,o;return typeof n!="function"?!1:(s=["raz","dwa"],o=n(s),!!(o&&o!==s&&o[1]==="dwa"))}),jn}var Hn,ou;function Sm(){return ou||(ou=1,Hn=function(){return typeof globalThis!="object"||!globalThis?!1:globalThis.Array===Array}),Hn}var Un,au;function Rm(){if(au)return Un;au=1;var n=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};return Un=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return n()}try{return __global__||n()}finally{delete Object.prototype.__global__}}(),Un}var Vn,uu;function rr(){return uu||(uu=1,Vn=Sm()()?globalThis:Rm()),Vn}var Gn,lu;function wm(){if(lu)return Gn;lu=1;var n=rr(),s={object:!0,symbol:!0};return Gn=function(){var o=n.Symbol,h;if(typeof o!="function")return!1;h=o("test symbol");try{String(h)}catch{return!1}return!(!s[typeof o.iterator]||!s[typeof o.toPrimitive]||!s[typeof o.toStringTag])},Gn}var Wn,cu;function Om(){return cu||(cu=1,Wn=function(n){return n?typeof n=="symbol"?!0:!n.constructor||n.constructor.name!=="Symbol"?!1:n[n.constructor.toStringTag]==="Symbol":!1}),Wn}var zn,hu;function Fh(){if(hu)return zn;hu=1;var n=Om();return zn=function(s){if(!n(s))throw new TypeError(s+" is not a symbol");return s},zn}var Yn,fu;function bm(){if(fu)return Yn;fu=1;var n=He(),s=Object.create,o=Object.defineProperty,h=Object.prototype,i=s(null);return Yn=function(t){for(var e=0,r,u;i[t+(e||"")];)++e;return t+=e||"",i[t]=!0,r="@@"+t,o(h,r,n.gs(null,function(l){u||(u=!0,o(this,r,n(l)),u=!1)})),r},Yn}var Kn,du;function Am(){if(du)return Kn;du=1;var n=He(),s=rr().Symbol;return Kn=function(o){return Object.defineProperties(o,{hasInstance:n("",s&&s.hasInstance||o("hasInstance")),isConcatSpreadable:n("",s&&s.isConcatSpreadable||o("isConcatSpreadable")),iterator:n("",s&&s.iterator||o("iterator")),match:n("",s&&s.match||o("match")),replace:n("",s&&s.replace||o("replace")),search:n("",s&&s.search||o("search")),species:n("",s&&s.species||o("species")),split:n("",s&&s.split||o("split")),toPrimitive:n("",s&&s.toPrimitive||o("toPrimitive")),toStringTag:n("",s&&s.toStringTag||o("toStringTag")),unscopables:n("",s&&s.unscopables||o("unscopables"))})},Kn}var Xn,pu;function Tm(){if(pu)return Xn;pu=1;var n=He(),s=Fh(),o=Object.create(null);return Xn=function(h){return Object.defineProperties(h,{for:n(function(i){return o[i]?o[i]:o[i]=h(String(i))}),keyFor:n(function(i){var t;s(i);for(t in o)if(o[t]===i)return t})})},Xn}var Zn,mu;function Pm(){if(mu)return Zn;mu=1;var n=He(),s=Fh(),o=rr().Symbol,h=bm(),i=Am(),t=Tm(),e=Object.create,r=Object.defineProperties,u=Object.defineProperty,l,d,v;if(typeof o=="function")try{String(o()),v=!0}catch{}else o=null;return d=function(R){if(this instanceof d)throw new TypeError("Symbol is not a constructor");return l(R)},Zn=l=function _(R){var w;if(this instanceof _)throw new TypeError("Symbol is not a constructor");return v?o(R):(w=e(d.prototype),R=R===void 0?"":String(R),r(w,{__description__:n("",R),__name__:n("",h(R))}))},i(l),t(l),r(d.prototype,{constructor:n(l),toString:n("",function(){return this.__name__})}),r(l.prototype,{toString:n(function(){return"Symbol ("+s(this).__description__+")"}),valueOf:n(function(){return s(this)})}),u(l.prototype,l.toPrimitive,n("",function(){var _=s(this);return typeof _=="symbol"?_:_.toString()})),u(l.prototype,l.toStringTag,n("c","Symbol")),u(d.prototype,l.toStringTag,n("c",l.prototype[l.toStringTag])),u(d.prototype,l.toPrimitive,n("c",l.prototype[l.toPrimitive])),Zn}var Jn,_u;function Cm(){return _u||(_u=1,Jn=wm()()?rr().Symbol:Pm()),Jn}var Qn,gu;function Im(){if(gu)return Qn;gu=1;var n=Object.prototype.toString,s=n.call(function(){return arguments}());return Qn=function(o){return n.call(o)===s},Qn}var ei,yu;function xm(){if(yu)return ei;yu=1;var n=Object.prototype.toString,s=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);return ei=function(o){return typeof o=="function"&&s(n.call(o))},ei}var ti,vu;function $m(){if(vu)return ti;vu=1;var n=Object.prototype.toString,s=n.call("");return ti=function(o){return typeof o=="string"||o&&typeof o=="object"&&(o instanceof String||n.call(o)===s)||!1},ti}var ri,Eu;function Nm(){if(Eu)return ri;Eu=1;var n=Cm().iterator,s=Im(),o=xm(),h=Be(),i=$e(),t=Xe(),e=Me(),r=$m(),u=Array.isArray,l=Function.prototype.call,d={configurable:!0,enumerable:!0,writable:!0,value:null},v=Object.defineProperty;return ri=function(_){var R=arguments[1],w=arguments[2],S,g,a,f,c,m,p,E,y,b;if(_=Object(t(_)),e(R)&&i(R),!this||this===Array||!o(this)){if(!R){if(s(_))return c=_.length,c!==1?Array.apply(null,_):(f=new Array(1),f[0]=_[0],f);if(u(_)){for(f=new Array(c=_.length),g=0;g<c;++g)f[g]=_[g];return f}}f=[]}else S=this;if(!u(_)){if((y=_[n])!==void 0){for(p=i(y).call(_),S&&(f=new S),E=p.next(),g=0;!E.done;)b=R?l.call(R,w,E.value,g):E.value,S?(d.value=b,v(f,g,d)):f[g]=b,E=p.next(),++g;c=g}else if(r(_)){for(c=_.length,S&&(f=new S),g=0,a=0;g<c;++g)b=_[g],g+1<c&&(m=b.charCodeAt(0),m>=55296&&m<=56319&&(b+=_[++g])),b=R?l.call(R,w,b,a):b,S?(d.value=b,v(f,a,d)):f[a]=b,++a;c=a}}if(c===void 0)for(c=h(_.length),S&&(f=new S(c)),g=0;g<c;++g)b=R?l.call(R,w,_[g],g):_[g],S?(d.value=b,v(f,g,d)):f[g]=b;return S&&(d.value=null,f.length=c),f},ri}var ni,Su;function Ks(){return Su||(Su=1,ni=Em()()?Array.from:Nm()),ni}var ii,Ru;function Dm(){if(Ru)return ii;Ru=1;var n=Ks(),s=Array.isArray;return ii=function(o){return s(o)?o:n(o)},ii}var si,wu;function Lm(){if(wu)return si;wu=1;var n=Dm(),s=Me(),o=$e(),h=Array.prototype.slice,i;return i=function(t){return this.map(function(e,r){return e?e(t[r]):t[r]}).concat(h.call(t,this.length))},si=function(t){return t=n(t),t.forEach(function(e){s(e)&&o(e)}),i.bind(t)},si}var oi,Ou;function Fm(){if(Ou)return oi;Ou=1;var n=$e();return oi=function(s){var o;return typeof s=="function"?{set:s,get:s}:(o={get:n(s.get)},s.set!==void 0?(o.set=n(s.set),s.delete&&(o.delete=n(s.delete)),s.clear&&(o.clear=n(s.clear)),o):(o.set=o.get,o))},oi}var ai,bu;function qm(){if(bu)return ai;bu=1;var n=hm(),s=Dh(),o=He(),h=vm().methods,i=Lm(),t=Fm(),e=Function.prototype.apply,r=Function.prototype.call,u=Object.create,l=Object.defineProperties,d=h.on,v=h.emit;return ai=function(_,R,w){var S=u(null),g,a,f,c,m,p,E,y,b,A,P,D,q,$,L;return R!==!1?a=R:isNaN(_.length)?a=1:a=_.length,w.normalizer&&(A=t(w.normalizer),f=A.get,c=A.set,m=A.delete,p=A.clear),w.resolvers!=null&&(L=i(w.resolvers)),f?$=s(function(C){var I,M,U=arguments;if(L&&(U=L(U)),I=f(U),I!==null&&hasOwnProperty.call(S,I))return P&&g.emit("get",I,U,this),S[I];if(U.length===1?M=r.call(_,this,U[0]):M=e.call(_,this,U),I===null){if(I=f(U),I!==null)throw n("Circular invocation","CIRCULAR_INVOCATION");I=c(U)}else if(hasOwnProperty.call(S,I))throw n("Circular invocation","CIRCULAR_INVOCATION");return S[I]=M,D&&g.emit("set",I,null,M),M},a):R===0?$=function(){var C;if(hasOwnProperty.call(S,"data"))return P&&g.emit("get","data",arguments,this),S.data;if(arguments.length?C=e.call(_,this,arguments):C=r.call(_,this),hasOwnProperty.call(S,"data"))throw n("Circular invocation","CIRCULAR_INVOCATION");return S.data=C,D&&g.emit("set","data",null,C),C}:$=function(C){var I,M=arguments,U;if(L&&(M=L(arguments)),U=String(M[0]),hasOwnProperty.call(S,U))return P&&g.emit("get",U,M,this),S[U];if(M.length===1?I=r.call(_,this,M[0]):I=e.call(_,this,M),hasOwnProperty.call(S,U))throw n("Circular invocation","CIRCULAR_INVOCATION");return S[U]=I,D&&g.emit("set",U,null,I),I},g={original:_,memoized:$,profileName:w.profileName,get:function(C){return L&&(C=L(C)),f?f(C):String(C[0])},has:function(C){return hasOwnProperty.call(S,C)},delete:function(C){var I;hasOwnProperty.call(S,C)&&(m&&m(C),I=S[C],delete S[C],q&&g.emit("delete",C,I))},clear:function(){var C=S;p&&p(),S=u(null),g.emit("clear",C)},on:function(C,I){return C==="get"?P=!0:C==="set"?D=!0:C==="delete"&&(q=!0),d.call(this,C,I)},emit:v,updateEnv:function(){_=g.original}},f?E=s(function(C){var I,M=arguments;L&&(M=L(M)),I=f(M),I!==null&&g.delete(I)},a):R===0?E=function(){return g.delete("data")}:E=function(C){return L&&(C=L(arguments)[0]),g.delete(C)},y=s(function(){var C,I=arguments;return R===0?S.data:(L&&(I=L(I)),f?C=f(I):C=String(I[0]),S[C])}),b=s(function(){var C,I=arguments;return R===0?g.has("data"):(L&&(I=L(I)),f?C=f(I):C=String(I[0]),C===null?!1:g.has(C))}),l($,{__memoized__:o(!0),delete:o(E),clear:o(g.clear),_get:o(y),_has:o(b)}),g},ai}var ui,Au;function km(){if(Au)return ui;Au=1;var n=$e(),s=tr(),o=je(),h=qm(),i=xh();return ui=function t(e){var r,u,l;if(n(e),r=Object(arguments[1]),r.async&&r.promise)throw new Error("Options 'async' and 'promise' cannot be used together");return hasOwnProperty.call(e,"__memoized__")&&!r.force?e:(u=i(r.length,e.length,r.async&&o.async),l=h(e,u,r),s(o,function(d,v){r[v]&&d(r[v],l,r)}),t.__profiler__&&t.__profiler__(l),l.updateEnv(),l.memoized)},ui}var li,Tu;function Mm(){return Tu||(Tu=1,li=function(n){var s,o,h=n.length;if(!h)return"";for(s=String(n[o=0]);--h;)s+=""+n[++o];return s}),li}var ci,Pu;function Bm(){return Pu||(Pu=1,ci=function(n){return n?function(s){for(var o=String(s[0]),h=0,i=n;--i;)o+=""+s[++h];return o}:function(){return""}}),ci}var hi,Cu;function jm(){return Cu||(Cu=1,hi=function(){var n=Number.isNaN;return typeof n!="function"?!1:!n({})&&n(NaN)&&!n(34)}),hi}var fi,Iu;function Hm(){return Iu||(Iu=1,fi=function(n){return n!==n}),fi}var di,xu;function Um(){return xu||(xu=1,di=jm()()?Number.isNaN:Hm()),di}var pi,$u;function Xs(){if($u)return pi;$u=1;var n=Um(),s=Be(),o=Xe(),h=Array.prototype.indexOf,i=Object.prototype.hasOwnProperty,t=Math.abs,e=Math.floor;return pi=function(r){var u,l,d,v;if(!n(r))return h.apply(this,arguments);for(l=s(o(this).length),d=arguments[1],isNaN(d)?d=0:d>=0?d=e(d):d=s(this.length)-e(t(d)),u=d;u<l;++u)if(i.call(this,u)&&(v=this[u],n(v)))return u;return-1},pi}var mi,Nu;function Vm(){if(Nu)return mi;Nu=1;var n=Xs(),s=Object.create;return mi=function(){var o=0,h=[],i=s(null);return{get:function(t){var e=0,r=h,u,l=t.length;if(l===0)return r[l]||null;if(r=r[l]){for(;e<l-1;){if(u=n.call(r[0],t[e]),u===-1)return null;r=r[1][u],++e}return u=n.call(r[0],t[e]),u===-1?null:r[1][u]||null}return null},set:function(t){var e=0,r=h,u,l=t.length;if(l===0)r[l]=++o;else{for(r[l]||(r[l]=[[],[]]),r=r[l];e<l-1;)u=n.call(r[0],t[e]),u===-1&&(u=r[0].push(t[e])-1,r[1].push([[],[]])),r=r[1][u],++e;u=n.call(r[0],t[e]),u===-1&&(u=r[0].push(t[e])-1),r[1][u]=++o}return i[o]=t,o},delete:function(t){var e=0,r=h,u,l=i[t],d=l.length,v=[];if(d===0)delete r[d];else if(r=r[d]){for(;e<d-1;){if(u=n.call(r[0],l[e]),u===-1)return;v.push(r,u),r=r[1][u],++e}if(u=n.call(r[0],l[e]),u===-1)return;for(t=r[1][u],r[0].splice(u,1),r[1].splice(u,1);!r[0].length&&v.length;)u=v.pop(),r=v.pop(),r[0].splice(u,1),r[1].splice(u,1)}delete i[t]},clear:function(){h=[],i=s(null)}}},mi}var _i,Du;function Gm(){if(Du)return _i;Du=1;var n=Xs();return _i=function(){var s=0,o=[],h=[];return{get:function(i){var t=n.call(o,i[0]);return t===-1?null:h[t]},set:function(i){return o.push(i[0]),h.push(++s),s},delete:function(i){var t=n.call(h,i);t!==-1&&(o.splice(t,1),h.splice(t,1))},clear:function(){o=[],h=[]}}},_i}var gi,Lu;function Wm(){if(Lu)return gi;Lu=1;var n=Xs(),s=Object.create;return gi=function(o){var h=0,i=[[],[]],t=s(null);return{get:function(e){for(var r=0,u=i,l;r<o-1;){if(l=n.call(u[0],e[r]),l===-1)return null;u=u[1][l],++r}return l=n.call(u[0],e[r]),l===-1?null:u[1][l]||null},set:function(e){for(var r=0,u=i,l;r<o-1;)l=n.call(u[0],e[r]),l===-1&&(l=u[0].push(e[r])-1,u[1].push([[],[]])),u=u[1][l],++r;return l=n.call(u[0],e[r]),l===-1&&(l=u[0].push(e[r])-1),u[1][l]=++h,t[h]=e,h},delete:function(e){for(var r=0,u=i,l,d=[],v=t[e];r<o-1;){if(l=n.call(u[0],v[r]),l===-1)return;d.push(u,l),u=u[1][l],++r}if(l=n.call(u[0],v[r]),l!==-1){for(e=u[1][l],u[0].splice(l,1),u[1].splice(l,1);!u[0].length&&d.length;)l=d.pop(),u=d.pop(),u[0].splice(l,1),u[1].splice(l,1);delete t[e]}},clear:function(){i=[[],[]],t=s(null)}}},gi}var Fu={},yi,qu;function qh(){if(qu)return yi;qu=1;var n=$e(),s=tr(),o=Function.prototype.call;return yi=function(h,i){var t={},e=arguments[2];return n(i),s(h,function(r,u,l,d){t[u]=o.call(i,e,r,u,l,d)}),t},yi}var vi,ku;function Zs(){if(ku)return vi;ku=1;var n=function(o){if(typeof o!="function")throw new TypeError(o+" is not a function");return o},s=function(o){var h=document.createTextNode(""),i,t,e=0;return new o(function(){var r;if(i)t&&(i=t.concat(i));else{if(!t)return;i=t}if(t=i,i=null,typeof t=="function"){r=t,t=null,r();return}for(h.data=e=++e%2;t;)r=t.shift(),t.length||(t=null),r()}).observe(h,{characterData:!0}),function(r){if(n(r),i){typeof i=="function"?i=[i,r]:i.push(r);return}i=r,h.data=e=++e%2}};return vi=function(){if(typeof process=="object"&&process&&typeof process.nextTick=="function")return process.nextTick;if(typeof queueMicrotask=="function")return function(o){queueMicrotask(n(o))};if(typeof document=="object"&&document){if(typeof MutationObserver=="function")return s(MutationObserver);if(typeof WebKitMutationObserver=="function")return s(WebKitMutationObserver)}return typeof setImmediate=="function"?function(o){setImmediate(n(o))}:typeof setTimeout=="function"||typeof setTimeout=="object"?function(o){setTimeout(n(o),0)}:null}(),vi}var Mu;function zm(){if(Mu)return Fu;Mu=1;var n=Ks(),s=qh(),o=Nh(),h=Dh(),i=Zs(),t=Array.prototype.slice,e=Function.prototype.apply,r=Object.create;return je().async=function(u,l){var d=r(null),v=r(null),_=l.memoized,R=l.original,w,S,g;l.memoized=h(function(a){var f=arguments,c=f[f.length-1];return typeof c=="function"&&(w=c,f=t.call(f,0,-1)),_.apply(S=this,g=f)},_);try{o(l.memoized,_)}catch{}l.on("get",function(a){var f,c,m;if(w){if(d[a]){typeof d[a]=="function"?d[a]=[d[a],w]:d[a].push(w),w=null;return}f=w,c=S,m=g,w=S=g=null,i(function(){var p;hasOwnProperty.call(v,a)?(p=v[a],l.emit("getasync",a,m,c),e.call(f,p.context,p.args)):(w=f,S=c,g=m,_.apply(c,m))})}}),l.original=function(){var a,f,c,m;return w?(a=n(arguments),f=function p(E){var y,b,A=p.id;if(A==null){i(e.bind(p,this,arguments));return}if(delete p.id,y=d[A],delete d[A],!!y)return b=n(arguments),l.has(A)&&(E?l.delete(A):(v[A]={context:this,args:b},l.emit("setasync",A,typeof y=="function"?1:y.length))),typeof y=="function"?m=e.call(y,this,b):y.forEach(function(P){m=e.call(P,this,b)},this),m},c=w,w=S=g=null,a.push(f),m=e.call(R,this,a),f.cb=c,w=f,m):e.call(R,this,arguments)},l.on("set",function(a){if(!w){l.delete(a);return}d[a]?typeof d[a]=="function"?d[a]=[d[a],w.cb]:d[a].push(w.cb):d[a]=w.cb,delete w.cb,w.id=a,w=null}),l.on("delete",function(a){var f;hasOwnProperty.call(d,a)||v[a]&&(f=v[a],delete v[a],l.emit("deleteasync",a,t.call(f.args,1)))}),l.on("clear",function(){var a=v;v=r(null),l.emit("clearasync",s(a,function(f){return t.call(f.args,1)}))})},Fu}var Bu={},Ei,ju;function Ym(){if(ju)return Ei;ju=1;var n=Array.prototype.forEach,s=Object.create;return Ei=function(o){var h=s(null);return n.call(arguments,function(i){h[i]=!0}),h},Ei}var Si,Hu;function kh(){return Hu||(Hu=1,Si=function(n){return typeof n=="function"}),Si}var Ri,Uu;function Km(){if(Uu)return Ri;Uu=1;var n=kh();return Ri=function(s){try{return s&&n(s.toString)?s.toString():String(s)}catch{throw new TypeError("Passed argument cannot be stringifed")}},Ri}var wi,Vu;function Xm(){if(Vu)return wi;Vu=1;var n=Xe(),s=Km();return wi=function(o){return s(n(o))},wi}var Oi,Gu;function Zm(){if(Gu)return Oi;Gu=1;var n=kh();return Oi=function(s){try{return s&&n(s.toString)?s.toString():String(s)}catch{return"<Non-coercible to string value>"}},Oi}var bi,Wu;function Jm(){if(Wu)return bi;Wu=1;var n=Zm(),s=/[\n\r\u2028\u2029]/g;return bi=function(o){var h=n(o);return h.length>100&&(h=h.slice(0,99)+"…"),h=h.replace(s,function(i){return JSON.stringify(i).slice(1,-1)}),h},bi}var Et={exports:{}},zu;function Mh(){if(zu)return Et.exports;zu=1,Et.exports=n,Et.exports.default=n;function n(s){return!!s&&(typeof s=="object"||typeof s=="function")&&typeof s.then=="function"}return Et.exports}var Yu;function Qm(){if(Yu)return Bu;Yu=1;var n=qh(),s=Ym(),o=Xm(),h=Jm(),i=Mh(),t=Zs(),e=Object.create,r=s("then","then:finally","done","done:finally");return je().promise=function(u,l){var d=e(null),v=e(null),_=e(null);if(u===!0)u=null;else if(u=o(u),!r[u])throw new TypeError("'"+h(u)+"' is not valid promise mode");l.on("set",function(R,w,S){var g=!1;if(!i(S)){v[R]=S,l.emit("setasync",R,1);return}d[R]=1,_[R]=S;var a=function(p){var E=d[R];if(g)throw new Error(`Memoizee error: Detected unordered then|done & finally resolution, which in turn makes proper detection of success/failure impossible (when in 'done:finally' mode)
Consider to rely on 'then' or 'done' mode instead.`);E&&(delete d[R],v[R]=p,l.emit("setasync",R,E))},f=function(){g=!0,d[R]&&(delete d[R],delete _[R],l.delete(R))},c=u;if(c||(c="then"),c==="then"){var m=function(){t(f)};S=S.then(function(p){t(a.bind(this,p))},m),typeof S.finally=="function"&&S.finally(m)}else if(c==="done"){if(typeof S.done!="function")throw new Error("Memoizee error: Retrieved promise does not implement 'done' in 'done' mode");S.done(a,f)}else if(c==="done:finally"){if(typeof S.done!="function")throw new Error("Memoizee error: Retrieved promise does not implement 'done' in 'done:finally' mode");if(typeof S.finally!="function")throw new Error("Memoizee error: Retrieved promise does not implement 'finally' in 'done:finally' mode");S.done(a),S.finally(f)}}),l.on("get",function(R,w,S){var g;if(d[R]){++d[R];return}g=_[R];var a=function(){l.emit("getasync",R,w,S)};i(g)?typeof g.done=="function"?g.done(a):g.then(function(){t(a)}):a()}),l.on("delete",function(R){if(delete _[R],d[R]){delete d[R];return}if(hasOwnProperty.call(v,R)){var w=v[R];delete v[R],l.emit("deleteasync",R,[w])}}),l.on("clear",function(){var R=v;v=e(null),d=e(null),_=e(null),l.emit("clearasync",n(R,function(w){return[w]}))})},Bu}var Ku={},Xu;function e_(){if(Xu)return Ku;Xu=1;var n=$e(),s=tr(),o=je(),h=Function.prototype.apply;return o.dispose=function(i,t,e){var r;if(n(i),e.async&&o.async||e.promise&&o.promise){t.on("deleteasync",r=function(u,l){h.call(i,null,l)}),t.on("clearasync",function(u){s(u,function(l,d){r(d,l)})});return}t.on("delete",r=function(u,l){i(l)}),t.on("clear",function(u){s(u,function(l,d){r(d,l)})})},Ku}var Zu={},Ai,Ju;function t_(){return Ju||(Ju=1,Ai=2147483647),Ai}var Ti,Qu;function r_(){if(Qu)return Ti;Qu=1;var n=Be(),s=t_();return Ti=function(o){if(o=n(o),o>s)throw new TypeError(o+" exceeds maximum possible timeout");return o},Ti}var el;function n_(){if(el)return Zu;el=1;var n=Ks(),s=tr(),o=Zs(),h=Mh(),i=r_(),t=je(),e=Function.prototype,r=Math.max,u=Math.min,l=Object.create;return t.maxAge=function(d,v,_){var R,w,S,g;d=i(d),d&&(R=l(null),w=_.async&&t.async||_.promise&&t.promise?"async":"",v.on("set"+w,function(a){R[a]=setTimeout(function(){v.delete(a)},d),typeof R[a].unref=="function"&&R[a].unref(),g&&(g[a]&&g[a]!=="nextTick"&&clearTimeout(g[a]),g[a]=setTimeout(function(){delete g[a]},S),typeof g[a].unref=="function"&&g[a].unref())}),v.on("delete"+w,function(a){clearTimeout(R[a]),delete R[a],g&&(g[a]!=="nextTick"&&clearTimeout(g[a]),delete g[a])}),_.preFetch&&(_.preFetch===!0||isNaN(_.preFetch)?S=.333:S=r(u(Number(_.preFetch),1),0),S&&(g={},S=(1-S)*d,v.on("get"+w,function(a,f,c){g[a]||(g[a]="nextTick",o(function(){var m;g[a]==="nextTick"&&(delete g[a],v.delete(a),_.async&&(f=n(f),f.push(e)),m=v.memoized.apply(c,f),_.promise&&h(m)&&(typeof m.done=="function"?m.done(e,e):m.then(e,e)))}))}))),v.on("clear"+w,function(){s(R,function(a){clearTimeout(a)}),R={},g&&(s(g,function(a){a!=="nextTick"&&clearTimeout(a)}),g={})}))},Zu}var tl={},Pi,rl;function i_(){if(rl)return Pi;rl=1;var n=Be(),s=Object.create,o=Object.prototype.hasOwnProperty;return Pi=function(h){var i=0,t=1,e=s(null),r=s(null),u=0,l;return h=n(h),{hit:function(d){var v=r[d],_=++u;if(e[_]=d,r[d]=_,!v)return++i,i<=h?void 0:(d=e[t],l(d),d);if(delete e[v],t===v)for(;!o.call(e,++t););},delete:l=function(d){var v=r[d];if(v&&(delete e[v],delete r[d],--i,t===v)){if(!i){u=0,t=1;return}for(;!o.call(e,++t););}},clear:function(){i=0,t=1,e=s(null),r=s(null),u=0}}},Pi}var nl;function s_(){if(nl)return tl;nl=1;var n=Be(),s=i_(),o=je();return o.max=function(h,i,t){var e,r,u;h=n(h),h&&(r=s(h),e=t.async&&o.async||t.promise&&o.promise?"async":"",i.on("set"+e,u=function(l){l=r.hit(l),l!==void 0&&i.delete(l)}),i.on("get"+e,u),i.on("delete"+e,r.delete),i.on("clear"+e,r.clear))},tl}var il={},sl;function o_(){if(sl)return il;sl=1;var n=He(),s=je(),o=Object.create,h=Object.defineProperties;return s.refCounter=function(i,t,e){var r,u;r=o(null),u=e.async&&s.async||e.promise&&s.promise?"async":"",t.on("set"+u,function(l,d){r[l]=d||1}),t.on("get"+u,function(l){++r[l]}),t.on("delete"+u,function(l){delete r[l]}),t.on("clear"+u,function(){r={}}),h(t.memoized,{deleteRef:n(function(){var l=t.get(arguments);return l===null||!r[l]?null:--r[l]?!1:(t.delete(l),!0)}),getRefCount:n(function(){var l=t.get(arguments);return l===null||!r[l]?0:r[l]})})},il}var Ci,ol;function a_(){if(ol)return Ci;ol=1;var n=Ih(),s=xh(),o=km();return Ci=function(h){var i=n(arguments[1]),t;return i.normalizer||(t=i.length=s(i.length,h.length,i.async),t!==0&&(i.primitive?t===!1?i.normalizer=Mm():t>1&&(i.normalizer=Bm()(t)):t===!1?i.normalizer=Vm()():t===1?i.normalizer=Gm()():i.normalizer=Wm()(t))),i.async&&zm(),i.promise&&Qm(),i.dispose&&e_(),i.maxAge&&n_(),i.max&&s_(),i.refCounter&&o_(),o(h,i)},Ci}var u_=a_();const l_=be(u_);function c_(n){return new Promise(s=>{vh.exec(n,(o,h,i)=>{s(h||i)})})}function al(n,s,o=process.cwd(),h=!1){return new Promise((i,t)=>{const e=vh.spawn(n,s,{stdio:h?"ignore":"inherit",cwd:o,env:process.env});let r=!1;e.on("error",u=>{r||(t(u),r=!0)}),e.on("exit",(u,l)=>{r||(u===0?i():t(new Error(`Process terminated: ${u!=null?u:l}`)),r=!0)})})}const h_=l_(async(n,s,o)=>{const h=await Ch("ninja",{nothrow:!0});if(h!==null)return ae.debug(`Using generator: Ninja for ${s} ${o}`),{generator:"Ninja",binary:h};if(s==="win32")try{const i=await c_(`"${n}" -G`),e=i.includes(`\r
`)?i.split(`\r
`):i.split(`
`);let r;for(const u of e){const l=u.match(/^\s*(?:\* )?(Visual\s+Studio\s+\d+\s+\d+)(\s+\[arch])?\s*=.*$/);if(l!==null){r=l;break}}if(r!==void 0){const[u,l,d]=r,v=d===void 0,_=o==="x64"?" Win64":o==="ia32"?" Win32":"";_===""&&ae.warn(`Unsupported architecture: ${o} for generator ${l}. Using without arch specification.`);const R=v?l:`${l}${_}`,w=v?["-A",Ph(o,s)]:void 0;return ae.debug(`Using generator: ${R} ${w} for ${s} ${o}`),{generator:R,generatorFlags:w,binary:void 0}}}catch{ae.warn("Failed to find valid VS gen, using native.")}return ae.debug(`Using generator: native for ${s} ${o}`),{generator:"native",binary:void 0}},{promise:!0});async function f_(n,s){var t;if(n.command.type!=="build")return null;const o=n.command.options,h=new Set(o.configs),i=[];if(h.size===0)return i.push(await Ii(o,{},s)),i;for(const e of(t=s.configurations)!=null?t:[]){const r=await Ii(o,e,s);(h.has(r.name)||h.has("named-all")||h.has("named-os")&&r.os===process.platform||h.has("named-os-dev")&&r.os===process.platform&&r.dev)&&(i.push(r),h.delete(r.name))}for(const e of h){const r=p_(e);i.push(await Ii(o,r,s))}return i}async function Ii(n,s,o){var e,r,u,l,d,v,_,R,w,S,g,a,f,c,m,p,E,y,b,A,P,D,q,$,L,C,I,M,U,W,j,O,x,z,ee,k,N,H,V,F,B,Y,J,re,oe,Z;(r=s.name)!=null||(s.name=(e=o.name)!=null?e:""),s.cross=d_(o,s),(l=s.os)!=null||(s.os=(u=o.os)!=null?u:process.platform),(v=s.arch)!=null||(s.arch=(d=o.arch)!=null?d:process.arch),(R=s.runtime)!=null||(s.runtime=(_=o.runtime)!=null?_:"node"),(S=s.nodeAPI)!=null||(s.nodeAPI=(w=o.nodeAPI)!=null?w:"node-addon-api"),(a=s.runtimeVersion)!=null||(s.runtimeVersion=(g=o.runtimeVersion)!=null?g:s.runtime==="node"?process.versions.node:void 0),(c=s.buildType)!=null||(s.buildType=(f=o.buildType)!=null?f:"Release"),(p=s.dev)!=null||(s.dev=(m=o.dev)!=null?m:!1),(b=s.addonSubdirectory)!=null||(s.addonSubdirectory=(y=(E=n.addonSubdirectory)!=null?E:o.addonSubdirectory)!=null?y:""),(D=s.packageDirectory)!=null||(s.packageDirectory=(P=(A=n.packageDirectory)!=null?A:o.packageDirectory)!=null?P:process.cwd()),(L=s.projectName)!=null||(s.projectName=($=(q=n.projectName)!=null?q:o.projectName)!=null?$:"addon"),(M=s.targetDirectory)!=null||(s.targetDirectory=(I=(C=n.targetDirectory)!=null?C:o.targetDirectory)!=null?I:"build"),(j=s.stagingDirectory)!=null||(s.stagingDirectory=(W=(U=n.stagingDirectory)!=null?U:o.stagingDirectory)!=null?W:"staging"),s.CMakeOptions=[...(O=s.CMakeOptions)!=null?O:[],...(x=o.CMakeOptions)!=null?x:[],...(z=s.cmakeOptions)!=null?z:[],...(ee=o.cmakeOptions)!=null?ee:[]],(N=s.additionalDefines)!=null||(s.additionalDefines=(k=o.additionalDefines)!=null?k:[]),(F=s.cmakeToUse)!=null||(s.cmakeToUse=(V=(H=o.cmakeToUse)!=null?H:await Ch("cmake",{nothrow:!0}))!=null?V:"cmake");const{generator:h,generatorFlags:i,binary:t}=await h_(s.cmakeToUse,s.os,s.arch);return(Y=s.generatorToUse)!=null||(s.generatorToUse=(B=o.generatorToUse)!=null?B:h),(re=s.generatorFlags)!=null||(s.generatorFlags=(J=o.generatorFlags)!=null?J:i),(Z=s.generatorBinary)!=null||(s.generatorBinary=(oe=o.generatorBinary)!=null?oe:t),s}function d_(n,s){return n.cross===!0?(ae.debug("Cross compilation detected: globalConfig.cross is true"),!0):s.os!==void 0&&Ms.has(s.os)&&s.os!==process.platform?(ae.debug(`Cross compilation detected: config.os (${s.os}) differs from process.platform (${process.platform})`),!0):s.arch!==void 0&&Bs.has(s.arch)&&s.arch!==process.arch?(ae.debug(`Cross compilation detected: config.arch (${s.arch}) differs from process.arch (${process.arch})`),!0):s.os===void 0&&process.env.npm_config_target_os!==void 0&&Ms.has(process.env.npm_config_target_os)&&process.env.npm_config_target_os!==process.platform?(ae.debug(`Cross compilation detected: npm_config_target_os (${process.env.npm_config_target_os}) differs from process.platform (${process.platform})`),s.os=process.env.npm_config_target_os,!0):s.arch===void 0&&process.env.npm_config_target_arch!==void 0&&Bs.has(process.env.npm_config_target_arch)&&process.env.npm_config_target_arch!==process.arch?(ae.debug(`Cross compilation detected: npm_config_target_arch (${process.env.npm_config_target_arch}) differs from process.arch (${process.arch})`),s.arch=process.env.npm_config_target_arch,!0):!1}function p_(n){const s=n.split("-");let o=!1,h,i,t,e;for(const r of s)if(Ms.has(r))h=r;else if(Bs.has(r))i=r;else if(m_.has(r))t=r;else if(ul.has(r))e=ul.get(r);else if(r==="cross")o=!0;else throw new Error(`Invalid config part in ${n}: ${r}`);return{os:h,arch:i,runtime:t,buildType:e,cross:o}}const Ms=new Set(["aix","android","darwin","freebsd","haiku","linux","openbsd","sunos","win32","cygwin","netbsd"]),Bs=new Set(["arm","arm64","ia32","loong64","mips","mipsel","ppc","ppc64","riscv64","s390","s390x","x64"]),ul=new Map([["release","Release"],["Release","Release"],["debug","Debug"],["Debug","Debug"],["relwithdebinfo","RelWithDebInfo"],["RelWithDebInfo","RelWithDebInfo"],["minsizerel","MinSizeRel"],["MinSizeRel","MinSizeRel"]]),m_=new Set(["node","electron","iojs"]);async function __(n){let s;try{s=await de.readJson(n)}catch(h){return ae.warn(`Failed to load package.json at ${n}: ${h}. Using defaults.`),{}}const o=s["cmake-ts"];return o===void 0?(ae.debug("Package.json does not have cmake-ts key defined. Using defaults."),{}):o}var xi,ll;function g_(){if(ll)return xi;ll=1;class n{constructor(){this.max=1e3,this.map=new Map}get(o){const h=this.map.get(o);if(h!==void 0)return this.map.delete(o),this.map.set(o,h),h}delete(o){return this.map.delete(o)}set(o,h){if(!this.delete(o)&&h!==void 0){if(this.map.size>=this.max){const t=this.map.keys().next().value;this.delete(t)}this.map.set(o,h)}return this}}return xi=n,xi}var $i,cl;function y_(){if(cl)return $i;cl=1;const n=Ke();return $i=(o,h,i)=>n(o,h,i)===0,$i}var Ni,hl;function v_(){if(hl)return Ni;hl=1;const n=Ke();return Ni=(o,h,i)=>n(o,h,i)!==0,Ni}var Di,fl;function E_(){if(fl)return Di;fl=1;const n=Ke();return Di=(o,h,i)=>n(o,h,i)>0,Di}var Li,dl;function S_(){if(dl)return Li;dl=1;const n=Ke();return Li=(o,h,i)=>n(o,h,i)<=0,Li}var Fi,pl;function R_(){if(pl)return Fi;pl=1;const n=y_(),s=v_(),o=E_(),h=Oh(),i=bh(),t=S_();return Fi=(r,u,l,d)=>{switch(u){case"===":return typeof r=="object"&&(r=r.version),typeof l=="object"&&(l=l.version),r===l;case"!==":return typeof r=="object"&&(r=r.version),typeof l=="object"&&(l=l.version),r!==l;case"":case"=":case"==":return n(r,l,d);case"!=":return s(r,l,d);case">":return o(r,l,d);case">=":return h(r,l,d);case"<":return i(r,l,d);case"<=":return t(r,l,d);default:throw new TypeError(`Invalid operator: ${u}`)}},Fi}var qi,ml;function w_(){if(ml)return qi;ml=1;const n=Symbol("SemVer ANY");class s{static get ANY(){return n}constructor(d,v){if(v=o(v),d instanceof s){if(d.loose===!!v.loose)return d;d=d.value}d=d.trim().split(/\s+/).join(" "),e("comparator",d,v),this.options=v,this.loose=!!v.loose,this.parse(d),this.semver===n?this.value="":this.value=this.operator+this.semver.version,e("comp",this)}parse(d){const v=this.options.loose?h[i.COMPARATORLOOSE]:h[i.COMPARATOR],_=d.match(v);if(!_)throw new TypeError(`Invalid comparator: ${d}`);this.operator=_[1]!==void 0?_[1]:"",this.operator==="="&&(this.operator=""),_[2]?this.semver=new r(_[2],this.options.loose):this.semver=n}toString(){return this.value}test(d){if(e("Comparator.test",d,this.options.loose),this.semver===n||d===n)return!0;if(typeof d=="string")try{d=new r(d,this.options)}catch{return!1}return t(d,this.operator,this.semver,this.options)}intersects(d,v){if(!(d instanceof s))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new u(d.value,v).test(this.value):d.operator===""?d.value===""?!0:new u(this.value,v).test(d.semver):(v=o(v),v.includePrerelease&&(this.value==="<0.0.0-0"||d.value==="<0.0.0-0")||!v.includePrerelease&&(this.value.startsWith("<0.0.0")||d.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&d.operator.startsWith(">")||this.operator.startsWith("<")&&d.operator.startsWith("<")||this.semver.version===d.semver.version&&this.operator.includes("=")&&d.operator.includes("=")||t(this.semver,"<",d.semver,v)&&this.operator.startsWith(">")&&d.operator.startsWith("<")||t(this.semver,">",d.semver,v)&&this.operator.startsWith("<")&&d.operator.startsWith(">")))}}qi=s;const o=zs(),{safeRe:h,t:i}=Ws(),t=R_(),e=er(),r=Ys(),u=Bh();return qi}var ki,_l;function Bh(){if(_l)return ki;_l=1;const n=/\s+/g;class s{constructor(C,I){if(I=i(I),C instanceof s)return C.loose===!!I.loose&&C.includePrerelease===!!I.includePrerelease?C:new s(C.raw,I);if(C instanceof t)return this.raw=C.value,this.set=[[C]],this.formatted=void 0,this;if(this.options=I,this.loose=!!I.loose,this.includePrerelease=!!I.includePrerelease,this.raw=C.trim().replace(n," "),this.set=this.raw.split("||").map(M=>this.parseRange(M.trim())).filter(M=>M.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const M=this.set[0];if(this.set=this.set.filter(U=>!S(U[0])),this.set.length===0)this.set=[M];else if(this.set.length>1){for(const U of this.set)if(U.length===1&&g(U[0])){this.set=[U];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let C=0;C<this.set.length;C++){C>0&&(this.formatted+="||");const I=this.set[C];for(let M=0;M<I.length;M++)M>0&&(this.formatted+=" "),this.formatted+=I[M].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(C){const M=((this.options.includePrerelease&&R)|(this.options.loose&&w))+":"+C,U=h.get(M);if(U)return U;const W=this.options.loose,j=W?u[l.HYPHENRANGELOOSE]:u[l.HYPHENRANGE];C=C.replace(j,q(this.options.includePrerelease)),e("hyphen replace",C),C=C.replace(u[l.COMPARATORTRIM],d),e("comparator trim",C),C=C.replace(u[l.TILDETRIM],v),e("tilde trim",C),C=C.replace(u[l.CARETTRIM],_),e("caret trim",C);let O=C.split(" ").map(k=>f(k,this.options)).join(" ").split(/\s+/).map(k=>D(k,this.options));W&&(O=O.filter(k=>(e("loose invalid filter",k,this.options),!!k.match(u[l.COMPARATORLOOSE])))),e("range list",O);const x=new Map,z=O.map(k=>new t(k,this.options));for(const k of z){if(S(k))return[k];x.set(k.value,k)}x.size>1&&x.has("")&&x.delete("");const ee=[...x.values()];return h.set(M,ee),ee}intersects(C,I){if(!(C instanceof s))throw new TypeError("a Range is required");return this.set.some(M=>a(M,I)&&C.set.some(U=>a(U,I)&&M.every(W=>U.every(j=>W.intersects(j,I)))))}test(C){if(!C)return!1;if(typeof C=="string")try{C=new r(C,this.options)}catch{return!1}for(let I=0;I<this.set.length;I++)if($(this.set[I],C,this.options))return!0;return!1}}ki=s;const o=g_(),h=new o,i=zs(),t=w_(),e=er(),r=Ys(),{safeRe:u,t:l,comparatorTrimReplace:d,tildeTrimReplace:v,caretTrimReplace:_}=Ws(),{FLAG_INCLUDE_PRERELEASE:R,FLAG_LOOSE:w}=Gs(),S=L=>L.value==="<0.0.0-0",g=L=>L.value==="",a=(L,C)=>{let I=!0;const M=L.slice();let U=M.pop();for(;I&&M.length;)I=M.every(W=>U.intersects(W,C)),U=M.pop();return I},f=(L,C)=>(e("comp",L,C),L=E(L,C),e("caret",L),L=m(L,C),e("tildes",L),L=b(L,C),e("xrange",L),L=P(L,C),e("stars",L),L),c=L=>!L||L.toLowerCase()==="x"||L==="*",m=(L,C)=>L.trim().split(/\s+/).map(I=>p(I,C)).join(" "),p=(L,C)=>{const I=C.loose?u[l.TILDELOOSE]:u[l.TILDE];return L.replace(I,(M,U,W,j,O)=>{e("tilde",L,M,U,W,j,O);let x;return c(U)?x="":c(W)?x=`>=${U}.0.0 <${+U+1}.0.0-0`:c(j)?x=`>=${U}.${W}.0 <${U}.${+W+1}.0-0`:O?(e("replaceTilde pr",O),x=`>=${U}.${W}.${j}-${O} <${U}.${+W+1}.0-0`):x=`>=${U}.${W}.${j} <${U}.${+W+1}.0-0`,e("tilde return",x),x})},E=(L,C)=>L.trim().split(/\s+/).map(I=>y(I,C)).join(" "),y=(L,C)=>{e("caret",L,C);const I=C.loose?u[l.CARETLOOSE]:u[l.CARET],M=C.includePrerelease?"-0":"";return L.replace(I,(U,W,j,O,x)=>{e("caret",L,U,W,j,O,x);let z;return c(W)?z="":c(j)?z=`>=${W}.0.0${M} <${+W+1}.0.0-0`:c(O)?W==="0"?z=`>=${W}.${j}.0${M} <${W}.${+j+1}.0-0`:z=`>=${W}.${j}.0${M} <${+W+1}.0.0-0`:x?(e("replaceCaret pr",x),W==="0"?j==="0"?z=`>=${W}.${j}.${O}-${x} <${W}.${j}.${+O+1}-0`:z=`>=${W}.${j}.${O}-${x} <${W}.${+j+1}.0-0`:z=`>=${W}.${j}.${O}-${x} <${+W+1}.0.0-0`):(e("no pr"),W==="0"?j==="0"?z=`>=${W}.${j}.${O}${M} <${W}.${j}.${+O+1}-0`:z=`>=${W}.${j}.${O}${M} <${W}.${+j+1}.0-0`:z=`>=${W}.${j}.${O} <${+W+1}.0.0-0`),e("caret return",z),z})},b=(L,C)=>(e("replaceXRanges",L,C),L.split(/\s+/).map(I=>A(I,C)).join(" ")),A=(L,C)=>{L=L.trim();const I=C.loose?u[l.XRANGELOOSE]:u[l.XRANGE];return L.replace(I,(M,U,W,j,O,x)=>{e("xRange",L,M,U,W,j,O,x);const z=c(W),ee=z||c(j),k=ee||c(O),N=k;return U==="="&&N&&(U=""),x=C.includePrerelease?"-0":"",z?U===">"||U==="<"?M="<0.0.0-0":M="*":U&&N?(ee&&(j=0),O=0,U===">"?(U=">=",ee?(W=+W+1,j=0,O=0):(j=+j+1,O=0)):U==="<="&&(U="<",ee?W=+W+1:j=+j+1),U==="<"&&(x="-0"),M=`${U+W}.${j}.${O}${x}`):ee?M=`>=${W}.0.0${x} <${+W+1}.0.0-0`:k&&(M=`>=${W}.${j}.0${x} <${W}.${+j+1}.0-0`),e("xRange return",M),M})},P=(L,C)=>(e("replaceStars",L,C),L.trim().replace(u[l.STAR],"")),D=(L,C)=>(e("replaceGTE0",L,C),L.trim().replace(u[C.includePrerelease?l.GTE0PRE:l.GTE0],"")),q=L=>(C,I,M,U,W,j,O,x,z,ee,k,N)=>(c(M)?I="":c(U)?I=`>=${M}.0.0${L?"-0":""}`:c(W)?I=`>=${M}.${U}.0${L?"-0":""}`:j?I=`>=${I}`:I=`>=${I}${L?"-0":""}`,c(z)?x="":c(ee)?x=`<${+z+1}.0.0-0`:c(k)?x=`<${z}.${+ee+1}.0-0`:N?x=`<=${z}.${ee}.${k}-${N}`:L?x=`<${z}.${ee}.${+k+1}-0`:x=`<=${x}`,`${I} ${x}`.trim()),$=(L,C,I)=>{for(let M=0;M<L.length;M++)if(!L[M].test(C))return!1;if(C.prerelease.length&&!I.includePrerelease){for(let M=0;M<L.length;M++)if(e(L[M].semver),L[M].semver!==t.ANY&&L[M].semver.prerelease.length>0){const U=L[M].semver;if(U.major===C.major&&U.minor===C.minor&&U.patch===C.patch)return!0}return!1}return!0};return ki}var Mi,gl;function O_(){if(gl)return Mi;gl=1;const n=Bh();return Mi=(o,h,i)=>{try{h=new n(h,i)}catch{return!1}return h.test(o)},Mi}var b_=O_();const A_=be(b_),T_=[{match:{arch:["x64","arm64"],runtime:"electron",runtimeVersion:">=9"},addDefines:"V8_COMPRESS_POINTERS"},{match:{runtime:"electron",runtimeVersion:">=9"},addDefines:"V8_31BIT_SMIS_ON_64BIT_ARCH"},{match:{runtime:"electron",runtimeVersion:">=11"},addDefines:"V8_REVERSE_JSARGS"},{match:{runtime:"electron",runtimeVersion:">=16",arch:["x64","arm64"]},addDefines:"V8_COMPRESS_POINTERS_IN_ISOLATE_CAGE"}];function Bi(n,s){return s===void 0?!0:Array.isArray(s)?s.includes(n):s===n}function P_(n,s){const o=Bi(n.arch,s.match.arch),h=Bi(n.os,s.match.os),i=Bi(n.runtime,s.match.runtime);return!o||!h||!i||s.match.runtimeVersion!==void 0&&!(Array.isArray(s.match.runtimeVersion)?s.match.runtimeVersion:[s.match.runtimeVersion]).some(e=>A_(n.runtimeVersion,e,{includePrerelease:!0}))?!1:(Array.isArray(s.addDefines)?n.additionalDefines.push(...s.addDefines):n.additionalDefines.push(s.addDefines),ae.debug(`Adding define: ${s.addDefines}`),!0)}function C_(n){for(const s of T_)P_(n,s)}var me={},_e={},De={},yl;function I_(){if(yl)return De;yl=1,Object.defineProperty(De,"__esModule",{value:!0}),De.splitWhen=De.flatten=void 0;function n(o){return o.reduce((h,i)=>[].concat(h,i),[])}De.flatten=n;function s(o,h){const i=[[]];let t=0;for(const e of o)h(e)?(t++,i[t]=[]):i[t].push(e);return i}return De.splitWhen=s,De}var Qe={},vl;function x_(){if(vl)return Qe;vl=1,Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.isEnoentCodeError=void 0;function n(s){return s.code==="ENOENT"}return Qe.isEnoentCodeError=n,Qe}var et={},El;function $_(){if(El)return et;El=1,Object.defineProperty(et,"__esModule",{value:!0}),et.createDirentFromStats=void 0;class n{constructor(h,i){this.name=h,this.isBlockDevice=i.isBlockDevice.bind(i),this.isCharacterDevice=i.isCharacterDevice.bind(i),this.isDirectory=i.isDirectory.bind(i),this.isFIFO=i.isFIFO.bind(i),this.isFile=i.isFile.bind(i),this.isSocket=i.isSocket.bind(i),this.isSymbolicLink=i.isSymbolicLink.bind(i)}}function s(o,h){return new n(o,h)}return et.createDirentFromStats=s,et}var fe={},Sl;function N_(){if(Sl)return fe;Sl=1,Object.defineProperty(fe,"__esModule",{value:!0}),fe.convertPosixPathToPattern=fe.convertWindowsPathToPattern=fe.convertPathToPattern=fe.escapePosixPath=fe.escapeWindowsPath=fe.escape=fe.removeLeadingDotSegment=fe.makeAbsolute=fe.unixify=void 0;const n=We,s=Q,o=n.platform()==="win32",h=2,i=/(\\?)([()*?[\]{|}]|^!|[!+@](?=\()|\\(?![!()*+?@[\]{|}]))/g,t=/(\\?)([()[\]{}]|^!|[!+@](?=\())/g,e=/^\\\\([.?])/,r=/\\(?![!()+@[\]{}])/g;function u(S){return S.replace(/\\/g,"/")}fe.unixify=u;function l(S,g){return s.resolve(S,g)}fe.makeAbsolute=l;function d(S){if(S.charAt(0)==="."){const g=S.charAt(1);if(g==="/"||g==="\\")return S.slice(h)}return S}fe.removeLeadingDotSegment=d,fe.escape=o?v:_;function v(S){return S.replace(t,"\\$2")}fe.escapeWindowsPath=v;function _(S){return S.replace(i,"\\$2")}fe.escapePosixPath=_,fe.convertPathToPattern=o?R:w;function R(S){return v(S).replace(e,"//$1").replace(r,"/")}fe.convertWindowsPathToPattern=R;function w(S){return _(S)}return fe.convertPosixPathToPattern=w,fe}var ue={};/*!
 * is-extglob <https://github.com/jonschlinkert/is-extglob>
 *
 * Copyright (c) 2014-2016, Jon Schlinkert.
 * Licensed under the MIT License.
 */var ji,Rl;function D_(){return Rl||(Rl=1,ji=function(s){if(typeof s!="string"||s==="")return!1;for(var o;o=/(\\).|([@?!+*]\(.*\))/g.exec(s);){if(o[2])return!0;s=s.slice(o.index+o[0].length)}return!1}),ji}/*!
 * is-glob <https://github.com/jonschlinkert/is-glob>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Hi,wl;function L_(){if(wl)return Hi;wl=1;var n=D_(),s={"{":"}","(":")","[":"]"},o=function(i){if(i[0]==="!")return!0;for(var t=0,e=-2,r=-2,u=-2,l=-2,d=-2;t<i.length;){if(i[t]==="*"||i[t+1]==="?"&&/[\].+)]/.test(i[t])||r!==-1&&i[t]==="["&&i[t+1]!=="]"&&(r<t&&(r=i.indexOf("]",t)),r>t&&(d===-1||d>r||(d=i.indexOf("\\",t),d===-1||d>r)))||u!==-1&&i[t]==="{"&&i[t+1]!=="}"&&(u=i.indexOf("}",t),u>t&&(d=i.indexOf("\\",t),d===-1||d>u))||l!==-1&&i[t]==="("&&i[t+1]==="?"&&/[:!=]/.test(i[t+2])&&i[t+3]!==")"&&(l=i.indexOf(")",t),l>t&&(d=i.indexOf("\\",t),d===-1||d>l))||e!==-1&&i[t]==="("&&i[t+1]!=="|"&&(e<t&&(e=i.indexOf("|",t)),e!==-1&&i[e+1]!==")"&&(l=i.indexOf(")",e),l>e&&(d=i.indexOf("\\",e),d===-1||d>l))))return!0;if(i[t]==="\\"){var v=i[t+1];t+=2;var _=s[v];if(_){var R=i.indexOf(_,t);R!==-1&&(t=R+1)}if(i[t]==="!")return!0}else t++}return!1},h=function(i){if(i[0]==="!")return!0;for(var t=0;t<i.length;){if(/[*?{}()[\]]/.test(i[t]))return!0;if(i[t]==="\\"){var e=i[t+1];t+=2;var r=s[e];if(r){var u=i.indexOf(r,t);u!==-1&&(t=u+1)}if(i[t]==="!")return!0}else t++}return!1};return Hi=function(t,e){if(typeof t!="string"||t==="")return!1;if(n(t))return!0;var r=o;return e&&e.strict===!1&&(r=h),r(t)},Hi}var Ui,Ol;function F_(){if(Ol)return Ui;Ol=1;var n=L_(),s=Q.posix.dirname,o=We.platform()==="win32",h="/",i=/\\/g,t=/[\{\[].*[\}\]]$/,e=/(^|[^\\])([\{\[]|\([^\)]+$)/,r=/\\([\!\*\?\|\[\]\(\)\{\}])/g;return Ui=function(l,d){var v=Object.assign({flipBackslashes:!0},d);v.flipBackslashes&&o&&l.indexOf(h)<0&&(l=l.replace(i,h)),t.test(l)&&(l+=h),l+="a";do l=s(l);while(n(l)||e.test(l));return l.replace(r,"$1")},Ui}var Vi={},bl;function Js(){return bl||(bl=1,function(n){n.isInteger=s=>typeof s=="number"?Number.isInteger(s):typeof s=="string"&&s.trim()!==""?Number.isInteger(Number(s)):!1,n.find=(s,o)=>s.nodes.find(h=>h.type===o),n.exceedsLimit=(s,o,h=1,i)=>i===!1||!n.isInteger(s)||!n.isInteger(o)?!1:(Number(o)-Number(s))/Number(h)>=i,n.escapeNode=(s,o=0,h)=>{const i=s.nodes[o];i&&(h&&i.type===h||i.type==="open"||i.type==="close")&&i.escaped!==!0&&(i.value="\\"+i.value,i.escaped=!0)},n.encloseBrace=s=>s.type!=="brace"?!1:s.commas>>0+s.ranges>>0===0?(s.invalid=!0,!0):!1,n.isInvalidBrace=s=>s.type!=="brace"?!1:s.invalid===!0||s.dollar?!0:s.commas>>0+s.ranges>>0===0||s.open!==!0||s.close!==!0?(s.invalid=!0,!0):!1,n.isOpenOrClose=s=>s.type==="open"||s.type==="close"?!0:s.open===!0||s.close===!0,n.reduce=s=>s.reduce((o,h)=>(h.type==="text"&&o.push(h.value),h.type==="range"&&(h.type="text"),o),[]),n.flatten=(...s)=>{const o=[],h=i=>{for(let t=0;t<i.length;t++){const e=i[t];if(Array.isArray(e)){h(e);continue}e!==void 0&&o.push(e)}return o};return h(s),o}}(Vi)),Vi}var Gi,Al;function Qs(){if(Al)return Gi;Al=1;const n=Js();return Gi=(s,o={})=>{const h=(i,t={})=>{const e=o.escapeInvalid&&n.isInvalidBrace(t),r=i.invalid===!0&&o.escapeInvalid===!0;let u="";if(i.value)return(e||r)&&n.isOpenOrClose(i)?"\\"+i.value:i.value;if(i.value)return i.value;if(i.nodes)for(const l of i.nodes)u+=h(l);return u};return h(s)},Gi}/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */var Wi,Tl;function q_(){return Tl||(Tl=1,Wi=function(n){return typeof n=="number"?n-n===0:typeof n=="string"&&n.trim()!==""?Number.isFinite?Number.isFinite(+n):isFinite(+n):!1}),Wi}/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */var zi,Pl;function k_(){if(Pl)return zi;Pl=1;const n=q_(),s=(g,a,f)=>{if(n(g)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(a===void 0||g===a)return String(g);if(n(a)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let c={relaxZeros:!0,...f};typeof c.strictZeros=="boolean"&&(c.relaxZeros=c.strictZeros===!1);let m=String(c.relaxZeros),p=String(c.shorthand),E=String(c.capture),y=String(c.wrap),b=g+":"+a+"="+m+p+E+y;if(s.cache.hasOwnProperty(b))return s.cache[b].result;let A=Math.min(g,a),P=Math.max(g,a);if(Math.abs(A-P)===1){let C=g+"|"+a;return c.capture?`(${C})`:c.wrap===!1?C:`(?:${C})`}let D=w(g)||w(a),q={min:g,max:a,a:A,b:P},$=[],L=[];if(D&&(q.isPadded=D,q.maxLen=String(q.max).length),A<0){let C=P<0?Math.abs(P):1;L=t(C,Math.abs(A),q,c),A=q.a=0}return P>=0&&($=t(A,P,q,c)),q.negatives=L,q.positives=$,q.result=o(L,$),c.capture===!0?q.result=`(${q.result})`:c.wrap!==!1&&$.length+L.length>1&&(q.result=`(?:${q.result})`),s.cache[b]=q,q.result};function o(g,a,f){let c=e(g,a,"-",!1)||[],m=e(a,g,"",!1)||[],p=e(g,a,"-?",!0)||[];return c.concat(p).concat(m).join("|")}function h(g,a){let f=1,c=1,m=d(g,f),p=new Set([a]);for(;g<=m&&m<=a;)p.add(m),f+=1,m=d(g,f);for(m=v(a+1,c)-1;g<m&&m<=a;)p.add(m),c+=1,m=v(a+1,c)-1;return p=[...p],p.sort(u),p}function i(g,a,f){if(g===a)return{pattern:g,count:[],digits:0};let c=r(g,a),m=c.length,p="",E=0;for(let y=0;y<m;y++){let[b,A]=c[y];b===A?p+=b:b!=="0"||A!=="9"?p+=R(b,A):E++}return E&&(p+=f.shorthand===!0?"\\d":"[0-9]"),{pattern:p,count:[E],digits:m}}function t(g,a,f,c){let m=h(g,a),p=[],E=g,y;for(let b=0;b<m.length;b++){let A=m[b],P=i(String(E),String(A),c),D="";if(!f.isPadded&&y&&y.pattern===P.pattern){y.count.length>1&&y.count.pop(),y.count.push(P.count[0]),y.string=y.pattern+_(y.count),E=A+1;continue}f.isPadded&&(D=S(A,f,c)),P.string=D+P.pattern+_(P.count),p.push(P),E=A+1,y=P}return p}function e(g,a,f,c,m){let p=[];for(let E of g){let{string:y}=E;!c&&!l(a,"string",y)&&p.push(f+y),c&&l(a,"string",y)&&p.push(f+y)}return p}function r(g,a){let f=[];for(let c=0;c<g.length;c++)f.push([g[c],a[c]]);return f}function u(g,a){return g>a?1:a>g?-1:0}function l(g,a,f){return g.some(c=>c[a]===f)}function d(g,a){return Number(String(g).slice(0,-a)+"9".repeat(a))}function v(g,a){return g-g%Math.pow(10,a)}function _(g){let[a=0,f=""]=g;return f||a>1?`{${a+(f?","+f:"")}}`:""}function R(g,a,f){return`[${g}${a-g===1?"":"-"}${a}]`}function w(g){return/^-?(0+)\d/.test(g)}function S(g,a,f){if(!a.isPadded)return g;let c=Math.abs(a.maxLen-String(g).length),m=f.relaxZeros!==!1;switch(c){case 0:return"";case 1:return m?"0?":"0";case 2:return m?"0{0,2}":"00";default:return m?`0{0,${c}}`:`0{${c}}`}}return s.cache={},s.clearCache=()=>s.cache={},zi=s,zi}/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */var Yi,Cl;function jh(){if(Cl)return Yi;Cl=1;const n=Xt,s=k_(),o=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),h=c=>m=>c===!0?Number(m):String(m),i=c=>typeof c=="number"||typeof c=="string"&&c!=="",t=c=>Number.isInteger(+c),e=c=>{let m=`${c}`,p=-1;if(m[0]==="-"&&(m=m.slice(1)),m==="0")return!1;for(;m[++p]==="0";);return p>0},r=(c,m,p)=>typeof c=="string"||typeof m=="string"?!0:p.stringify===!0,u=(c,m,p)=>{if(m>0){let E=c[0]==="-"?"-":"";E&&(c=c.slice(1)),c=E+c.padStart(E?m-1:m,"0")}return p===!1?String(c):c},l=(c,m)=>{let p=c[0]==="-"?"-":"";for(p&&(c=c.slice(1),m--);c.length<m;)c="0"+c;return p?"-"+c:c},d=(c,m,p)=>{c.negatives.sort((P,D)=>P<D?-1:P>D?1:0),c.positives.sort((P,D)=>P<D?-1:P>D?1:0);let E=m.capture?"":"?:",y="",b="",A;return c.positives.length&&(y=c.positives.map(P=>l(String(P),p)).join("|")),c.negatives.length&&(b=`-(${E}${c.negatives.map(P=>l(String(P),p)).join("|")})`),y&&b?A=`${y}|${b}`:A=y||b,m.wrap?`(${E}${A})`:A},v=(c,m,p,E)=>{if(p)return s(c,m,{wrap:!1,...E});let y=String.fromCharCode(c);if(c===m)return y;let b=String.fromCharCode(m);return`[${y}-${b}]`},_=(c,m,p)=>{if(Array.isArray(c)){let E=p.wrap===!0,y=p.capture?"":"?:";return E?`(${y}${c.join("|")})`:c.join("|")}return s(c,m,p)},R=(...c)=>new RangeError("Invalid range arguments: "+n.inspect(...c)),w=(c,m,p)=>{if(p.strictRanges===!0)throw R([c,m]);return[]},S=(c,m)=>{if(m.strictRanges===!0)throw new TypeError(`Expected step "${c}" to be a number`);return[]},g=(c,m,p=1,E={})=>{let y=Number(c),b=Number(m);if(!Number.isInteger(y)||!Number.isInteger(b)){if(E.strictRanges===!0)throw R([c,m]);return[]}y===0&&(y=0),b===0&&(b=0);let A=y>b,P=String(c),D=String(m),q=String(p);p=Math.max(Math.abs(p),1);let $=e(P)||e(D)||e(q),L=$?Math.max(P.length,D.length,q.length):0,C=$===!1&&r(c,m,E)===!1,I=E.transform||h(C);if(E.toRegex&&p===1)return v(l(c,L),l(m,L),!0,E);let M={negatives:[],positives:[]},U=O=>M[O<0?"negatives":"positives"].push(Math.abs(O)),W=[],j=0;for(;A?y>=b:y<=b;)E.toRegex===!0&&p>1?U(y):W.push(u(I(y,j),L,C)),y=A?y-p:y+p,j++;return E.toRegex===!0?p>1?d(M,E,L):_(W,null,{wrap:!1,...E}):W},a=(c,m,p=1,E={})=>{if(!t(c)&&c.length>1||!t(m)&&m.length>1)return w(c,m,E);let y=E.transform||(C=>String.fromCharCode(C)),b=`${c}`.charCodeAt(0),A=`${m}`.charCodeAt(0),P=b>A,D=Math.min(b,A),q=Math.max(b,A);if(E.toRegex&&p===1)return v(D,q,!1,E);let $=[],L=0;for(;P?b>=A:b<=A;)$.push(y(b,L)),b=P?b-p:b+p,L++;return E.toRegex===!0?_($,null,{wrap:!1,options:E}):$},f=(c,m,p,E={})=>{if(m==null&&i(c))return[c];if(!i(c)||!i(m))return w(c,m,E);if(typeof p=="function")return f(c,m,1,{transform:p});if(o(p))return f(c,m,0,p);let y={...E};return y.capture===!0&&(y.wrap=!0),p=p||y.step||1,t(p)?t(c)&&t(m)?g(c,m,p,y):a(c,m,Math.max(Math.abs(p),1),y):p!=null&&!o(p)?S(p,y):f(c,m,1,p)};return Yi=f,Yi}var Ki,Il;function M_(){if(Il)return Ki;Il=1;const n=jh(),s=Js();return Ki=(h,i={})=>{const t=(e,r={})=>{const u=s.isInvalidBrace(r),l=e.invalid===!0&&i.escapeInvalid===!0,d=u===!0||l===!0,v=i.escapeInvalid===!0?"\\":"";let _="";if(e.isOpen===!0)return v+e.value;if(e.isClose===!0)return console.log("node.isClose",v,e.value),v+e.value;if(e.type==="open")return d?v+e.value:"(";if(e.type==="close")return d?v+e.value:")";if(e.type==="comma")return e.prev.type==="comma"?"":d?e.value:"|";if(e.value)return e.value;if(e.nodes&&e.ranges>0){const R=s.reduce(e.nodes),w=n(...R,{...i,wrap:!1,toRegex:!0,strictZeros:!0});if(w.length!==0)return R.length>1&&w.length>1?`(${w})`:w}if(e.nodes)for(const R of e.nodes)_+=t(R,e);return _};return t(h)},Ki}var Xi,xl;function B_(){if(xl)return Xi;xl=1;const n=jh(),s=Qs(),o=Js(),h=(t="",e="",r=!1)=>{const u=[];if(t=[].concat(t),e=[].concat(e),!e.length)return t;if(!t.length)return r?o.flatten(e).map(l=>`{${l}}`):e;for(const l of t)if(Array.isArray(l))for(const d of l)u.push(h(d,e,r));else for(let d of e)r===!0&&typeof d=="string"&&(d=`{${d}}`),u.push(Array.isArray(d)?h(l,d,r):l+d);return o.flatten(u)};return Xi=(t,e={})=>{const r=e.rangeLimit===void 0?1e3:e.rangeLimit,u=(l,d={})=>{l.queue=[];let v=d,_=d.queue;for(;v.type!=="brace"&&v.type!=="root"&&v.parent;)v=v.parent,_=v.queue;if(l.invalid||l.dollar){_.push(h(_.pop(),s(l,e)));return}if(l.type==="brace"&&l.invalid!==!0&&l.nodes.length===2){_.push(h(_.pop(),["{}"]));return}if(l.nodes&&l.ranges>0){const g=o.reduce(l.nodes);if(o.exceedsLimit(...g,e.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let a=n(...g,e);a.length===0&&(a=s(l,e)),_.push(h(_.pop(),a)),l.nodes=[];return}const R=o.encloseBrace(l);let w=l.queue,S=l;for(;S.type!=="brace"&&S.type!=="root"&&S.parent;)S=S.parent,w=S.queue;for(let g=0;g<l.nodes.length;g++){const a=l.nodes[g];if(a.type==="comma"&&l.type==="brace"){g===1&&w.push(""),w.push("");continue}if(a.type==="close"){_.push(h(_.pop(),w,R));continue}if(a.value&&a.type!=="open"){w.push(h(w.pop(),a.value));continue}a.nodes&&u(a,l)}return w};return o.flatten(u(t))},Xi}var Zi,$l;function j_(){return $l||($l=1,Zi={MAX_LENGTH:1e4,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:" ",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}),Zi}var Ji,Nl;function H_(){if(Nl)return Ji;Nl=1;const n=Qs(),{MAX_LENGTH:s,CHAR_BACKSLASH:o,CHAR_BACKTICK:h,CHAR_COMMA:i,CHAR_DOT:t,CHAR_LEFT_PARENTHESES:e,CHAR_RIGHT_PARENTHESES:r,CHAR_LEFT_CURLY_BRACE:u,CHAR_RIGHT_CURLY_BRACE:l,CHAR_LEFT_SQUARE_BRACKET:d,CHAR_RIGHT_SQUARE_BRACKET:v,CHAR_DOUBLE_QUOTE:_,CHAR_SINGLE_QUOTE:R,CHAR_NO_BREAK_SPACE:w,CHAR_ZERO_WIDTH_NOBREAK_SPACE:S}=j_();return Ji=(a,f={})=>{if(typeof a!="string")throw new TypeError("Expected a string");const c=f||{},m=typeof c.maxLength=="number"?Math.min(s,c.maxLength):s;if(a.length>m)throw new SyntaxError(`Input length (${a.length}), exceeds max characters (${m})`);const p={type:"root",input:a,nodes:[]},E=[p];let y=p,b=p,A=0;const P=a.length;let D=0,q=0,$;const L=()=>a[D++],C=I=>{if(I.type==="text"&&b.type==="dot"&&(b.type="text"),b&&b.type==="text"&&I.type==="text"){b.value+=I.value;return}return y.nodes.push(I),I.parent=y,I.prev=b,b=I,I};for(C({type:"bos"});D<P;)if(y=E[E.length-1],$=L(),!($===S||$===w)){if($===o){C({type:"text",value:(f.keepEscaping?$:"")+L()});continue}if($===v){C({type:"text",value:"\\"+$});continue}if($===d){A++;let I;for(;D<P&&(I=L());){if($+=I,I===d){A++;continue}if(I===o){$+=L();continue}if(I===v&&(A--,A===0))break}C({type:"text",value:$});continue}if($===e){y=C({type:"paren",nodes:[]}),E.push(y),C({type:"text",value:$});continue}if($===r){if(y.type!=="paren"){C({type:"text",value:$});continue}y=E.pop(),C({type:"text",value:$}),y=E[E.length-1];continue}if($===_||$===R||$===h){const I=$;let M;for(f.keepQuotes!==!0&&($="");D<P&&(M=L());){if(M===o){$+=M+L();continue}if(M===I){f.keepQuotes===!0&&($+=M);break}$+=M}C({type:"text",value:$});continue}if($===u){q++;const M={type:"brace",open:!0,close:!1,dollar:b.value&&b.value.slice(-1)==="$"||y.dollar===!0,depth:q,commas:0,ranges:0,nodes:[]};y=C(M),E.push(y),C({type:"open",value:$});continue}if($===l){if(y.type!=="brace"){C({type:"text",value:$});continue}const I="close";y=E.pop(),y.close=!0,C({type:I,value:$}),q--,y=E[E.length-1];continue}if($===i&&q>0){if(y.ranges>0){y.ranges=0;const I=y.nodes.shift();y.nodes=[I,{type:"text",value:n(y)}]}C({type:"comma",value:$}),y.commas++;continue}if($===t&&q>0&&y.commas===0){const I=y.nodes;if(q===0||I.length===0){C({type:"text",value:$});continue}if(b.type==="dot"){if(y.range=[],b.value+=$,b.type="range",y.nodes.length!==3&&y.nodes.length!==5){y.invalid=!0,y.ranges=0,b.type="text";continue}y.ranges++,y.args=[];continue}if(b.type==="range"){I.pop();const M=I[I.length-1];M.value+=b.value+$,b=M,y.ranges--;continue}C({type:"dot",value:$});continue}C({type:"text",value:$})}do if(y=E.pop(),y.type!=="root"){y.nodes.forEach(U=>{U.nodes||(U.type==="open"&&(U.isOpen=!0),U.type==="close"&&(U.isClose=!0),U.nodes||(U.type="text"),U.invalid=!0)});const I=E[E.length-1],M=I.nodes.indexOf(y);I.nodes.splice(M,1,...y.nodes)}while(E.length>0);return C({type:"eos"}),p},Ji}var Qi,Dl;function U_(){if(Dl)return Qi;Dl=1;const n=Qs(),s=M_(),o=B_(),h=H_(),i=(t,e={})=>{let r=[];if(Array.isArray(t))for(const u of t){const l=i.create(u,e);Array.isArray(l)?r.push(...l):r.push(l)}else r=[].concat(i.create(t,e));return e&&e.expand===!0&&e.nodupes===!0&&(r=[...new Set(r)]),r};return i.parse=(t,e={})=>h(t,e),i.stringify=(t,e={})=>n(typeof t=="string"?i.parse(t,e):t,e),i.compile=(t,e={})=>(typeof t=="string"&&(t=i.parse(t,e)),s(t,e)),i.expand=(t,e={})=>{typeof t=="string"&&(t=i.parse(t,e));let r=o(t,e);return e.noempty===!0&&(r=r.filter(Boolean)),e.nodupes===!0&&(r=[...new Set(r)]),r},i.create=(t,e={})=>t===""||t.length<3?[t]:e.expand!==!0?i.compile(t,e):i.expand(t,e),Qi=i,Qi}var es={},ts,Ll;function nr(){if(Ll)return ts;Ll=1;const n=Q,s="\\\\/",o=`[^${s}]`,h="\\.",i="\\+",t="\\?",e="\\/",r="(?=.)",u="[^/]",l=`(?:${e}|$)`,d=`(?:^|${e})`,v=`${h}{1,2}${l}`,_=`(?!${h})`,R=`(?!${d}${v})`,w=`(?!${h}{0,1}${l})`,S=`(?!${v})`,g=`[^.${e}]`,a=`${u}*?`,f={DOT_LITERAL:h,PLUS_LITERAL:i,QMARK_LITERAL:t,SLASH_LITERAL:e,ONE_CHAR:r,QMARK:u,END_ANCHOR:l,DOTS_SLASH:v,NO_DOT:_,NO_DOTS:R,NO_DOT_SLASH:w,NO_DOTS_SLASH:S,QMARK_NO_DOT:g,STAR:a,START_ANCHOR:d},c={...f,SLASH_LITERAL:`[${s}]`,QMARK:o,STAR:`${o}*?`,DOTS_SLASH:`${h}{1,2}(?:[${s}]|$)`,NO_DOT:`(?!${h})`,NO_DOTS:`(?!(?:^|[${s}])${h}{1,2}(?:[${s}]|$))`,NO_DOT_SLASH:`(?!${h}{0,1}(?:[${s}]|$))`,NO_DOTS_SLASH:`(?!${h}{1,2}(?:[${s}]|$))`,QMARK_NO_DOT:`[^.${s}]`,START_ANCHOR:`(?:^|[${s}])`,END_ANCHOR:`(?:[${s}]|$)`},m={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};return ts={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:m,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:n.sep,extglobChars(p){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${p.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(p){return p===!0?c:f}},ts}var Fl;function ir(){return Fl||(Fl=1,function(n){const s=Q,o=process.platform==="win32",{REGEX_BACKSLASH:h,REGEX_REMOVE_BACKSLASH:i,REGEX_SPECIAL_CHARS:t,REGEX_SPECIAL_CHARS_GLOBAL:e}=nr();n.isObject=r=>r!==null&&typeof r=="object"&&!Array.isArray(r),n.hasRegexChars=r=>t.test(r),n.isRegexChar=r=>r.length===1&&n.hasRegexChars(r),n.escapeRegex=r=>r.replace(e,"\\$1"),n.toPosixSlashes=r=>r.replace(h,"/"),n.removeBackslashes=r=>r.replace(i,u=>u==="\\"?"":u),n.supportsLookbehinds=()=>{const r=process.version.slice(1).split(".").map(Number);return r.length===3&&r[0]>=9||r[0]===8&&r[1]>=10},n.isWindows=r=>r&&typeof r.windows=="boolean"?r.windows:o===!0||s.sep==="\\",n.escapeLast=(r,u,l)=>{const d=r.lastIndexOf(u,l);return d===-1?r:r[d-1]==="\\"?n.escapeLast(r,u,d-1):`${r.slice(0,d)}\\${r.slice(d)}`},n.removePrefix=(r,u={})=>{let l=r;return l.startsWith("./")&&(l=l.slice(2),u.prefix="./"),l},n.wrapOutput=(r,u={},l={})=>{const d=l.contains?"":"^",v=l.contains?"":"$";let _=`${d}(?:${r})${v}`;return u.negated===!0&&(_=`(?:^(?!${_}).*$)`),_}}(es)),es}var rs,ql;function V_(){if(ql)return rs;ql=1;const n=ir(),{CHAR_ASTERISK:s,CHAR_AT:o,CHAR_BACKWARD_SLASH:h,CHAR_COMMA:i,CHAR_DOT:t,CHAR_EXCLAMATION_MARK:e,CHAR_FORWARD_SLASH:r,CHAR_LEFT_CURLY_BRACE:u,CHAR_LEFT_PARENTHESES:l,CHAR_LEFT_SQUARE_BRACKET:d,CHAR_PLUS:v,CHAR_QUESTION_MARK:_,CHAR_RIGHT_CURLY_BRACE:R,CHAR_RIGHT_PARENTHESES:w,CHAR_RIGHT_SQUARE_BRACKET:S}=nr(),g=c=>c===r||c===h,a=c=>{c.isPrefix!==!0&&(c.depth=c.isGlobstar?1/0:1)};return rs=(c,m)=>{const p=m||{},E=c.length-1,y=p.parts===!0||p.scanToEnd===!0,b=[],A=[],P=[];let D=c,q=-1,$=0,L=0,C=!1,I=!1,M=!1,U=!1,W=!1,j=!1,O=!1,x=!1,z=!1,ee=!1,k=0,N,H,V={value:"",depth:0,isGlob:!1};const F=()=>q>=E,B=()=>D.charCodeAt(q+1),Y=()=>(N=H,D.charCodeAt(++q));for(;q<E;){H=Y();let T;if(H===h){O=V.backslashes=!0,H=Y(),H===u&&(j=!0);continue}if(j===!0||H===u){for(k++;F()!==!0&&(H=Y());){if(H===h){O=V.backslashes=!0,Y();continue}if(H===u){k++;continue}if(j!==!0&&H===t&&(H=Y())===t){if(C=V.isBrace=!0,M=V.isGlob=!0,ee=!0,y===!0)continue;break}if(j!==!0&&H===i){if(C=V.isBrace=!0,M=V.isGlob=!0,ee=!0,y===!0)continue;break}if(H===R&&(k--,k===0)){j=!1,C=V.isBrace=!0,ee=!0;break}}if(y===!0)continue;break}if(H===r){if(b.push(q),A.push(V),V={value:"",depth:0,isGlob:!1},ee===!0)continue;if(N===t&&q===$+1){$+=2;continue}L=q+1;continue}if(p.noext!==!0&&(H===v||H===o||H===s||H===_||H===e)===!0&&B()===l){if(M=V.isGlob=!0,U=V.isExtglob=!0,ee=!0,H===e&&q===$&&(z=!0),y===!0){for(;F()!==!0&&(H=Y());){if(H===h){O=V.backslashes=!0,H=Y();continue}if(H===w){M=V.isGlob=!0,ee=!0;break}}continue}break}if(H===s){if(N===s&&(W=V.isGlobstar=!0),M=V.isGlob=!0,ee=!0,y===!0)continue;break}if(H===_){if(M=V.isGlob=!0,ee=!0,y===!0)continue;break}if(H===d){for(;F()!==!0&&(T=Y());){if(T===h){O=V.backslashes=!0,Y();continue}if(T===S){I=V.isBracket=!0,M=V.isGlob=!0,ee=!0;break}}if(y===!0)continue;break}if(p.nonegate!==!0&&H===e&&q===$){x=V.negated=!0,$++;continue}if(p.noparen!==!0&&H===l){if(M=V.isGlob=!0,y===!0){for(;F()!==!0&&(H=Y());){if(H===l){O=V.backslashes=!0,H=Y();continue}if(H===w){ee=!0;break}}continue}break}if(M===!0){if(ee=!0,y===!0)continue;break}}p.noext===!0&&(U=!1,M=!1);let J=D,re="",oe="";$>0&&(re=D.slice(0,$),D=D.slice($),L-=$),J&&M===!0&&L>0?(J=D.slice(0,L),oe=D.slice(L)):M===!0?(J="",oe=D):J=D,J&&J!==""&&J!=="/"&&J!==D&&g(J.charCodeAt(J.length-1))&&(J=J.slice(0,-1)),p.unescape===!0&&(oe&&(oe=n.removeBackslashes(oe)),J&&O===!0&&(J=n.removeBackslashes(J)));const Z={prefix:re,input:c,start:$,base:J,glob:oe,isBrace:C,isBracket:I,isGlob:M,isExtglob:U,isGlobstar:W,negated:x,negatedExtglob:z};if(p.tokens===!0&&(Z.maxDepth=0,g(H)||A.push(V),Z.tokens=A),p.parts===!0||p.tokens===!0){let T;for(let X=0;X<b.length;X++){const te=T?T+1:$,G=b[X],ie=c.slice(te,G);p.tokens&&(X===0&&$!==0?(A[X].isPrefix=!0,A[X].value=re):A[X].value=ie,a(A[X]),Z.maxDepth+=A[X].depth),(X!==0||ie!=="")&&P.push(ie),T=G}if(T&&T+1<c.length){const X=c.slice(T+1);P.push(X),p.tokens&&(A[A.length-1].value=X,a(A[A.length-1]),Z.maxDepth+=A[A.length-1].depth)}Z.slashes=b,Z.parts=P}return Z},rs}var ns,kl;function G_(){if(kl)return ns;kl=1;const n=nr(),s=ir(),{MAX_LENGTH:o,POSIX_REGEX_SOURCE:h,REGEX_NON_SPECIAL_CHARS:i,REGEX_SPECIAL_CHARS_BACKREF:t,REPLACEMENTS:e}=n,r=(d,v)=>{if(typeof v.expandRange=="function")return v.expandRange(...d,v);d.sort();const _=`[${d.join("-")}]`;try{new RegExp(_)}catch{return d.map(w=>s.escapeRegex(w)).join("..")}return _},u=(d,v)=>`Missing ${d}: "${v}" - use "\\\\${v}" to match literal characters`,l=(d,v)=>{if(typeof d!="string")throw new TypeError("Expected a string");d=e[d]||d;const _={...v},R=typeof _.maxLength=="number"?Math.min(o,_.maxLength):o;let w=d.length;if(w>R)throw new SyntaxError(`Input length: ${w}, exceeds maximum allowed length: ${R}`);const S={type:"bos",value:"",output:_.prepend||""},g=[S],a=_.capture?"":"?:",f=s.isWindows(v),c=n.globChars(f),m=n.extglobChars(c),{DOT_LITERAL:p,PLUS_LITERAL:E,SLASH_LITERAL:y,ONE_CHAR:b,DOTS_SLASH:A,NO_DOT:P,NO_DOT_SLASH:D,NO_DOTS_SLASH:q,QMARK:$,QMARK_NO_DOT:L,STAR:C,START_ANCHOR:I}=c,M=G=>`(${a}(?:(?!${I}${G.dot?A:p}).)*?)`,U=_.dot?"":P,W=_.dot?$:L;let j=_.bash===!0?M(_):C;_.capture&&(j=`(${j})`),typeof _.noext=="boolean"&&(_.noextglob=_.noext);const O={input:d,index:-1,start:0,dot:_.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:g};d=s.removePrefix(d,O),w=d.length;const x=[],z=[],ee=[];let k=S,N;const H=()=>O.index===w-1,V=O.peek=(G=1)=>d[O.index+G],F=O.advance=()=>d[++O.index]||"",B=()=>d.slice(O.index+1),Y=(G="",ie=0)=>{O.consumed+=G,O.index+=ie},J=G=>{O.output+=G.output!=null?G.output:G.value,Y(G.value)},re=()=>{let G=1;for(;V()==="!"&&(V(2)!=="("||V(3)==="?");)F(),O.start++,G++;return G%2===0?!1:(O.negated=!0,O.start++,!0)},oe=G=>{O[G]++,ee.push(G)},Z=G=>{O[G]--,ee.pop()},T=G=>{if(k.type==="globstar"){const ie=O.braces>0&&(G.type==="comma"||G.type==="brace"),K=G.extglob===!0||x.length&&(G.type==="pipe"||G.type==="paren");G.type!=="slash"&&G.type!=="paren"&&!ie&&!K&&(O.output=O.output.slice(0,-k.output.length),k.type="star",k.value="*",k.output=j,O.output+=k.output)}if(x.length&&G.type!=="paren"&&(x[x.length-1].inner+=G.value),(G.value||G.output)&&J(G),k&&k.type==="text"&&G.type==="text"){k.value+=G.value,k.output=(k.output||"")+G.value;return}G.prev=k,g.push(G),k=G},X=(G,ie)=>{const K={...m[ie],conditions:1,inner:""};K.prev=k,K.parens=O.parens,K.output=O.output;const ne=(_.capture?"(":"")+K.open;oe("parens"),T({type:G,value:ie,output:O.output?"":b}),T({type:"paren",extglob:!0,value:F(),output:ne}),x.push(K)},te=G=>{let ie=G.close+(_.capture?")":""),K;if(G.type==="negate"){let ne=j;if(G.inner&&G.inner.length>1&&G.inner.includes("/")&&(ne=M(_)),(ne!==j||H()||/^\)+$/.test(B()))&&(ie=G.close=`)$))${ne}`),G.inner.includes("*")&&(K=B())&&/^\.[^\\/.]+$/.test(K)){const se=l(K,{...v,fastpaths:!1}).output;ie=G.close=`)${se})${ne})`}G.prev.type==="bos"&&(O.negatedExtglob=!0)}T({type:"paren",extglob:!0,value:N,output:ie}),Z("parens")};if(_.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(d)){let G=!1,ie=d.replace(t,(K,ne,se,le,ce,he)=>le==="\\"?(G=!0,K):le==="?"?ne?ne+le+(ce?$.repeat(ce.length):""):he===0?W+(ce?$.repeat(ce.length):""):$.repeat(se.length):le==="."?p.repeat(se.length):le==="*"?ne?ne+le+(ce?j:""):j:ne?K:`\\${K}`);return G===!0&&(_.unescape===!0?ie=ie.replace(/\\/g,""):ie=ie.replace(/\\+/g,K=>K.length%2===0?"\\\\":K?"\\":"")),ie===d&&_.contains===!0?(O.output=d,O):(O.output=s.wrapOutput(ie,O,v),O)}for(;!H();){if(N=F(),N==="\0")continue;if(N==="\\"){const K=V();if(K==="/"&&_.bash!==!0||K==="."||K===";")continue;if(!K){N+="\\",T({type:"text",value:N});continue}const ne=/^\\+/.exec(B());let se=0;if(ne&&ne[0].length>2&&(se=ne[0].length,O.index+=se,se%2!==0&&(N+="\\")),_.unescape===!0?N=F():N+=F(),O.brackets===0){T({type:"text",value:N});continue}}if(O.brackets>0&&(N!=="]"||k.value==="["||k.value==="[^")){if(_.posix!==!1&&N===":"){const K=k.value.slice(1);if(K.includes("[")&&(k.posix=!0,K.includes(":"))){const ne=k.value.lastIndexOf("["),se=k.value.slice(0,ne),le=k.value.slice(ne+2),ce=h[le];if(ce){k.value=se+ce,O.backtrack=!0,F(),!S.output&&g.indexOf(k)===1&&(S.output=b);continue}}}(N==="["&&V()!==":"||N==="-"&&V()==="]")&&(N=`\\${N}`),N==="]"&&(k.value==="["||k.value==="[^")&&(N=`\\${N}`),_.posix===!0&&N==="!"&&k.value==="["&&(N="^"),k.value+=N,J({value:N});continue}if(O.quotes===1&&N!=='"'){N=s.escapeRegex(N),k.value+=N,J({value:N});continue}if(N==='"'){O.quotes=O.quotes===1?0:1,_.keepQuotes===!0&&T({type:"text",value:N});continue}if(N==="("){oe("parens"),T({type:"paren",value:N});continue}if(N===")"){if(O.parens===0&&_.strictBrackets===!0)throw new SyntaxError(u("opening","("));const K=x[x.length-1];if(K&&O.parens===K.parens+1){te(x.pop());continue}T({type:"paren",value:N,output:O.parens?")":"\\)"}),Z("parens");continue}if(N==="["){if(_.nobracket===!0||!B().includes("]")){if(_.nobracket!==!0&&_.strictBrackets===!0)throw new SyntaxError(u("closing","]"));N=`\\${N}`}else oe("brackets");T({type:"bracket",value:N});continue}if(N==="]"){if(_.nobracket===!0||k&&k.type==="bracket"&&k.value.length===1){T({type:"text",value:N,output:`\\${N}`});continue}if(O.brackets===0){if(_.strictBrackets===!0)throw new SyntaxError(u("opening","["));T({type:"text",value:N,output:`\\${N}`});continue}Z("brackets");const K=k.value.slice(1);if(k.posix!==!0&&K[0]==="^"&&!K.includes("/")&&(N=`/${N}`),k.value+=N,J({value:N}),_.literalBrackets===!1||s.hasRegexChars(K))continue;const ne=s.escapeRegex(k.value);if(O.output=O.output.slice(0,-k.value.length),_.literalBrackets===!0){O.output+=ne,k.value=ne;continue}k.value=`(${a}${ne}|${k.value})`,O.output+=k.value;continue}if(N==="{"&&_.nobrace!==!0){oe("braces");const K={type:"brace",value:N,output:"(",outputIndex:O.output.length,tokensIndex:O.tokens.length};z.push(K),T(K);continue}if(N==="}"){const K=z[z.length-1];if(_.nobrace===!0||!K){T({type:"text",value:N,output:N});continue}let ne=")";if(K.dots===!0){const se=g.slice(),le=[];for(let ce=se.length-1;ce>=0&&(g.pop(),se[ce].type!=="brace");ce--)se[ce].type!=="dots"&&le.unshift(se[ce].value);ne=r(le,_),O.backtrack=!0}if(K.comma!==!0&&K.dots!==!0){const se=O.output.slice(0,K.outputIndex),le=O.tokens.slice(K.tokensIndex);K.value=K.output="\\{",N=ne="\\}",O.output=se;for(const ce of le)O.output+=ce.output||ce.value}T({type:"brace",value:N,output:ne}),Z("braces"),z.pop();continue}if(N==="|"){x.length>0&&x[x.length-1].conditions++,T({type:"text",value:N});continue}if(N===","){let K=N;const ne=z[z.length-1];ne&&ee[ee.length-1]==="braces"&&(ne.comma=!0,K="|"),T({type:"comma",value:N,output:K});continue}if(N==="/"){if(k.type==="dot"&&O.index===O.start+1){O.start=O.index+1,O.consumed="",O.output="",g.pop(),k=S;continue}T({type:"slash",value:N,output:y});continue}if(N==="."){if(O.braces>0&&k.type==="dot"){k.value==="."&&(k.output=p);const K=z[z.length-1];k.type="dots",k.output+=N,k.value+=N,K.dots=!0;continue}if(O.braces+O.parens===0&&k.type!=="bos"&&k.type!=="slash"){T({type:"text",value:N,output:p});continue}T({type:"dot",value:N,output:p});continue}if(N==="?"){if(!(k&&k.value==="(")&&_.noextglob!==!0&&V()==="("&&V(2)!=="?"){X("qmark",N);continue}if(k&&k.type==="paren"){const ne=V();let se=N;if(ne==="<"&&!s.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(k.value==="("&&!/[!=<:]/.test(ne)||ne==="<"&&!/<([!=]|\w+>)/.test(B()))&&(se=`\\${N}`),T({type:"text",value:N,output:se});continue}if(_.dot!==!0&&(k.type==="slash"||k.type==="bos")){T({type:"qmark",value:N,output:L});continue}T({type:"qmark",value:N,output:$});continue}if(N==="!"){if(_.noextglob!==!0&&V()==="("&&(V(2)!=="?"||!/[!=<:]/.test(V(3)))){X("negate",N);continue}if(_.nonegate!==!0&&O.index===0){re();continue}}if(N==="+"){if(_.noextglob!==!0&&V()==="("&&V(2)!=="?"){X("plus",N);continue}if(k&&k.value==="("||_.regex===!1){T({type:"plus",value:N,output:E});continue}if(k&&(k.type==="bracket"||k.type==="paren"||k.type==="brace")||O.parens>0){T({type:"plus",value:N});continue}T({type:"plus",value:E});continue}if(N==="@"){if(_.noextglob!==!0&&V()==="("&&V(2)!=="?"){T({type:"at",extglob:!0,value:N,output:""});continue}T({type:"text",value:N});continue}if(N!=="*"){(N==="$"||N==="^")&&(N=`\\${N}`);const K=i.exec(B());K&&(N+=K[0],O.index+=K[0].length),T({type:"text",value:N});continue}if(k&&(k.type==="globstar"||k.star===!0)){k.type="star",k.star=!0,k.value+=N,k.output=j,O.backtrack=!0,O.globstar=!0,Y(N);continue}let G=B();if(_.noextglob!==!0&&/^\([^?]/.test(G)){X("star",N);continue}if(k.type==="star"){if(_.noglobstar===!0){Y(N);continue}const K=k.prev,ne=K.prev,se=K.type==="slash"||K.type==="bos",le=ne&&(ne.type==="star"||ne.type==="globstar");if(_.bash===!0&&(!se||G[0]&&G[0]!=="/")){T({type:"star",value:N,output:""});continue}const ce=O.braces>0&&(K.type==="comma"||K.type==="brace"),he=x.length&&(K.type==="pipe"||K.type==="paren");if(!se&&K.type!=="paren"&&!ce&&!he){T({type:"star",value:N,output:""});continue}for(;G.slice(0,3)==="/**";){const ge=d[O.index+4];if(ge&&ge!=="/")break;G=G.slice(3),Y("/**",3)}if(K.type==="bos"&&H()){k.type="globstar",k.value+=N,k.output=M(_),O.output=k.output,O.globstar=!0,Y(N);continue}if(K.type==="slash"&&K.prev.type!=="bos"&&!le&&H()){O.output=O.output.slice(0,-(K.output+k.output).length),K.output=`(?:${K.output}`,k.type="globstar",k.output=M(_)+(_.strictSlashes?")":"|$)"),k.value+=N,O.globstar=!0,O.output+=K.output+k.output,Y(N);continue}if(K.type==="slash"&&K.prev.type!=="bos"&&G[0]==="/"){const ge=G[1]!==void 0?"|$":"";O.output=O.output.slice(0,-(K.output+k.output).length),K.output=`(?:${K.output}`,k.type="globstar",k.output=`${M(_)}${y}|${y}${ge})`,k.value+=N,O.output+=K.output+k.output,O.globstar=!0,Y(N+F()),T({type:"slash",value:"/",output:""});continue}if(K.type==="bos"&&G[0]==="/"){k.type="globstar",k.value+=N,k.output=`(?:^|${y}|${M(_)}${y})`,O.output=k.output,O.globstar=!0,Y(N+F()),T({type:"slash",value:"/",output:""});continue}O.output=O.output.slice(0,-k.output.length),k.type="globstar",k.output=M(_),k.value+=N,O.output+=k.output,O.globstar=!0,Y(N);continue}const ie={type:"star",value:N,output:j};if(_.bash===!0){ie.output=".*?",(k.type==="bos"||k.type==="slash")&&(ie.output=U+ie.output),T(ie);continue}if(k&&(k.type==="bracket"||k.type==="paren")&&_.regex===!0){ie.output=N,T(ie);continue}(O.index===O.start||k.type==="slash"||k.type==="dot")&&(k.type==="dot"?(O.output+=D,k.output+=D):_.dot===!0?(O.output+=q,k.output+=q):(O.output+=U,k.output+=U),V()!=="*"&&(O.output+=b,k.output+=b)),T(ie)}for(;O.brackets>0;){if(_.strictBrackets===!0)throw new SyntaxError(u("closing","]"));O.output=s.escapeLast(O.output,"["),Z("brackets")}for(;O.parens>0;){if(_.strictBrackets===!0)throw new SyntaxError(u("closing",")"));O.output=s.escapeLast(O.output,"("),Z("parens")}for(;O.braces>0;){if(_.strictBrackets===!0)throw new SyntaxError(u("closing","}"));O.output=s.escapeLast(O.output,"{"),Z("braces")}if(_.strictSlashes!==!0&&(k.type==="star"||k.type==="bracket")&&T({type:"maybe_slash",value:"",output:`${y}?`}),O.backtrack===!0){O.output="";for(const G of O.tokens)O.output+=G.output!=null?G.output:G.value,G.suffix&&(O.output+=G.suffix)}return O};return l.fastpaths=(d,v)=>{const _={...v},R=typeof _.maxLength=="number"?Math.min(o,_.maxLength):o,w=d.length;if(w>R)throw new SyntaxError(`Input length: ${w}, exceeds maximum allowed length: ${R}`);d=e[d]||d;const S=s.isWindows(v),{DOT_LITERAL:g,SLASH_LITERAL:a,ONE_CHAR:f,DOTS_SLASH:c,NO_DOT:m,NO_DOTS:p,NO_DOTS_SLASH:E,STAR:y,START_ANCHOR:b}=n.globChars(S),A=_.dot?p:m,P=_.dot?E:m,D=_.capture?"":"?:",q={negated:!1,prefix:""};let $=_.bash===!0?".*?":y;_.capture&&($=`(${$})`);const L=U=>U.noglobstar===!0?$:`(${D}(?:(?!${b}${U.dot?c:g}).)*?)`,C=U=>{switch(U){case"*":return`${A}${f}${$}`;case".*":return`${g}${f}${$}`;case"*.*":return`${A}${$}${g}${f}${$}`;case"*/*":return`${A}${$}${a}${f}${P}${$}`;case"**":return A+L(_);case"**/*":return`(?:${A}${L(_)}${a})?${P}${f}${$}`;case"**/*.*":return`(?:${A}${L(_)}${a})?${P}${$}${g}${f}${$}`;case"**/.*":return`(?:${A}${L(_)}${a})?${g}${f}${$}`;default:{const W=/^(.*?)\.(\w+)$/.exec(U);if(!W)return;const j=C(W[1]);return j?j+g+W[2]:void 0}}},I=s.removePrefix(d,q);let M=C(I);return M&&_.strictSlashes!==!0&&(M+=`${a}?`),M},ns=l,ns}var is,Ml;function W_(){if(Ml)return is;Ml=1;const n=Q,s=V_(),o=G_(),h=ir(),i=nr(),t=r=>r&&typeof r=="object"&&!Array.isArray(r),e=(r,u,l=!1)=>{if(Array.isArray(r)){const a=r.map(c=>e(c,u,l));return c=>{for(const m of a){const p=m(c);if(p)return p}return!1}}const d=t(r)&&r.tokens&&r.input;if(r===""||typeof r!="string"&&!d)throw new TypeError("Expected pattern to be a non-empty string");const v=u||{},_=h.isWindows(u),R=d?e.compileRe(r,u):e.makeRe(r,u,!1,!0),w=R.state;delete R.state;let S=()=>!1;if(v.ignore){const a={...u,ignore:null,onMatch:null,onResult:null};S=e(v.ignore,a,l)}const g=(a,f=!1)=>{const{isMatch:c,match:m,output:p}=e.test(a,R,u,{glob:r,posix:_}),E={glob:r,state:w,regex:R,posix:_,input:a,output:p,match:m,isMatch:c};return typeof v.onResult=="function"&&v.onResult(E),c===!1?(E.isMatch=!1,f?E:!1):S(a)?(typeof v.onIgnore=="function"&&v.onIgnore(E),E.isMatch=!1,f?E:!1):(typeof v.onMatch=="function"&&v.onMatch(E),f?E:!0)};return l&&(g.state=w),g};return e.test=(r,u,l,{glob:d,posix:v}={})=>{if(typeof r!="string")throw new TypeError("Expected input to be a string");if(r==="")return{isMatch:!1,output:""};const _=l||{},R=_.format||(v?h.toPosixSlashes:null);let w=r===d,S=w&&R?R(r):r;return w===!1&&(S=R?R(r):r,w=S===d),(w===!1||_.capture===!0)&&(_.matchBase===!0||_.basename===!0?w=e.matchBase(r,u,l,v):w=u.exec(S)),{isMatch:!!w,match:w,output:S}},e.matchBase=(r,u,l,d=h.isWindows(l))=>(u instanceof RegExp?u:e.makeRe(u,l)).test(n.basename(r)),e.isMatch=(r,u,l)=>e(u,l)(r),e.parse=(r,u)=>Array.isArray(r)?r.map(l=>e.parse(l,u)):o(r,{...u,fastpaths:!1}),e.scan=(r,u)=>s(r,u),e.compileRe=(r,u,l=!1,d=!1)=>{if(l===!0)return r.output;const v=u||{},_=v.contains?"":"^",R=v.contains?"":"$";let w=`${_}(?:${r.output})${R}`;r&&r.negated===!0&&(w=`^(?!${w}).*$`);const S=e.toRegex(w,u);return d===!0&&(S.state=r),S},e.makeRe=(r,u={},l=!1,d=!1)=>{if(!r||typeof r!="string")throw new TypeError("Expected a non-empty string");let v={negated:!1,fastpaths:!0};return u.fastpaths!==!1&&(r[0]==="."||r[0]==="*")&&(v.output=o.fastpaths(r,u)),v.output||(v=o(r,u)),e.compileRe(v,u,l,d)},e.toRegex=(r,u)=>{try{const l=u||{};return new RegExp(r,l.flags||(l.nocase?"i":""))}catch(l){if(u&&u.debug===!0)throw l;return/$^/}},e.constants=i,is=e,is}var ss,Bl;function z_(){return Bl||(Bl=1,ss=W_()),ss}var os,jl;function Y_(){if(jl)return os;jl=1;const n=Xt,s=U_(),o=z_(),h=ir(),i=r=>r===""||r==="./",t=r=>{const u=r.indexOf("{");return u>-1&&r.indexOf("}",u)>-1},e=(r,u,l)=>{u=[].concat(u),r=[].concat(r);let d=new Set,v=new Set,_=new Set,R=0,w=a=>{_.add(a.output),l&&l.onResult&&l.onResult(a)};for(let a=0;a<u.length;a++){let f=o(String(u[a]),{...l,onResult:w},!0),c=f.state.negated||f.state.negatedExtglob;c&&R++;for(let m of r){let p=f(m,!0);(c?!p.isMatch:p.isMatch)&&(c?d.add(p.output):(d.delete(p.output),v.add(p.output)))}}let g=(R===u.length?[..._]:[...v]).filter(a=>!d.has(a));if(l&&g.length===0){if(l.failglob===!0)throw new Error(`No matches found for "${u.join(", ")}"`);if(l.nonull===!0||l.nullglob===!0)return l.unescape?u.map(a=>a.replace(/\\/g,"")):u}return g};return e.match=e,e.matcher=(r,u)=>o(r,u),e.isMatch=(r,u,l)=>o(u,l)(r),e.any=e.isMatch,e.not=(r,u,l={})=>{u=[].concat(u).map(String);let d=new Set,v=[],_=w=>{l.onResult&&l.onResult(w),v.push(w.output)},R=new Set(e(r,u,{...l,onResult:_}));for(let w of v)R.has(w)||d.add(w);return[...d]},e.contains=(r,u,l)=>{if(typeof r!="string")throw new TypeError(`Expected a string: "${n.inspect(r)}"`);if(Array.isArray(u))return u.some(d=>e.contains(r,d,l));if(typeof u=="string"){if(i(r)||i(u))return!1;if(r.includes(u)||r.startsWith("./")&&r.slice(2).includes(u))return!0}return e.isMatch(r,u,{...l,contains:!0})},e.matchKeys=(r,u,l)=>{if(!h.isObject(r))throw new TypeError("Expected the first argument to be an object");let d=e(Object.keys(r),u,l),v={};for(let _ of d)v[_]=r[_];return v},e.some=(r,u,l)=>{let d=[].concat(r);for(let v of[].concat(u)){let _=o(String(v),l);if(d.some(R=>_(R)))return!0}return!1},e.every=(r,u,l)=>{let d=[].concat(r);for(let v of[].concat(u)){let _=o(String(v),l);if(!d.every(R=>_(R)))return!1}return!0},e.all=(r,u,l)=>{if(typeof r!="string")throw new TypeError(`Expected a string: "${n.inspect(r)}"`);return[].concat(u).every(d=>o(d,l)(r))},e.capture=(r,u,l)=>{let d=h.isWindows(l),_=o.makeRe(String(r),{...l,capture:!0}).exec(d?h.toPosixSlashes(u):u);if(_)return _.slice(1).map(R=>R===void 0?"":R)},e.makeRe=(...r)=>o.makeRe(...r),e.scan=(...r)=>o.scan(...r),e.parse=(r,u)=>{let l=[];for(let d of[].concat(r||[]))for(let v of s(String(d),u))l.push(o.parse(v,u));return l},e.braces=(r,u)=>{if(typeof r!="string")throw new TypeError("Expected a string");return u&&u.nobrace===!0||!t(r)?[r]:s(r,u)},e.braceExpand=(r,u)=>{if(typeof r!="string")throw new TypeError("Expected a string");return e.braces(r,{...u,expand:!0})},e.hasBraces=t,os=e,os}var Hl;function K_(){if(Hl)return ue;Hl=1,Object.defineProperty(ue,"__esModule",{value:!0}),ue.isAbsolute=ue.partitionAbsoluteAndRelative=ue.removeDuplicateSlashes=ue.matchAny=ue.convertPatternsToRe=ue.makeRe=ue.getPatternParts=ue.expandBraceExpansion=ue.expandPatternsWithBraceExpansion=ue.isAffectDepthOfReadingPattern=ue.endsWithSlashGlobStar=ue.hasGlobStar=ue.getBaseDirectory=ue.isPatternRelatedToParentDirectory=ue.getPatternsOutsideCurrentDirectory=ue.getPatternsInsideCurrentDirectory=ue.getPositivePatterns=ue.getNegativePatterns=ue.isPositivePattern=ue.isNegativePattern=ue.convertToNegativePattern=ue.convertToPositivePattern=ue.isDynamicPattern=ue.isStaticPattern=void 0;const n=Q,s=F_(),o=Y_(),h="**",i="\\",t=/[*?]|^!/,e=/\[[^[]*]/,r=/(?:^|[^!*+?@])\([^(]*\|[^|]*\)/,u=/[!*+?@]\([^(]*\)/,l=/,|\.\./,d=/(?!^)\/{2,}/g;function v(j,O={}){return!_(j,O)}ue.isStaticPattern=v;function _(j,O={}){return j===""?!1:!!(O.caseSensitiveMatch===!1||j.includes(i)||t.test(j)||e.test(j)||r.test(j)||O.extglob!==!1&&u.test(j)||O.braceExpansion!==!1&&R(j))}ue.isDynamicPattern=_;function R(j){const O=j.indexOf("{");if(O===-1)return!1;const x=j.indexOf("}",O+1);if(x===-1)return!1;const z=j.slice(O,x);return l.test(z)}function w(j){return g(j)?j.slice(1):j}ue.convertToPositivePattern=w;function S(j){return"!"+j}ue.convertToNegativePattern=S;function g(j){return j.startsWith("!")&&j[1]!=="("}ue.isNegativePattern=g;function a(j){return!g(j)}ue.isPositivePattern=a;function f(j){return j.filter(g)}ue.getNegativePatterns=f;function c(j){return j.filter(a)}ue.getPositivePatterns=c;function m(j){return j.filter(O=>!E(O))}ue.getPatternsInsideCurrentDirectory=m;function p(j){return j.filter(E)}ue.getPatternsOutsideCurrentDirectory=p;function E(j){return j.startsWith("..")||j.startsWith("./..")}ue.isPatternRelatedToParentDirectory=E;function y(j){return s(j,{flipBackslashes:!1})}ue.getBaseDirectory=y;function b(j){return j.includes(h)}ue.hasGlobStar=b;function A(j){return j.endsWith("/"+h)}ue.endsWithSlashGlobStar=A;function P(j){const O=n.basename(j);return A(j)||v(O)}ue.isAffectDepthOfReadingPattern=P;function D(j){return j.reduce((O,x)=>O.concat(q(x)),[])}ue.expandPatternsWithBraceExpansion=D;function q(j){const O=o.braces(j,{expand:!0,nodupes:!0,keepEscaping:!0});return O.sort((x,z)=>x.length-z.length),O.filter(x=>x!=="")}ue.expandBraceExpansion=q;function $(j,O){let{parts:x}=o.scan(j,Object.assign(Object.assign({},O),{parts:!0}));return x.length===0&&(x=[j]),x[0].startsWith("/")&&(x[0]=x[0].slice(1),x.unshift("")),x}ue.getPatternParts=$;function L(j,O){return o.makeRe(j,O)}ue.makeRe=L;function C(j,O){return j.map(x=>L(x,O))}ue.convertPatternsToRe=C;function I(j,O){return O.some(x=>x.test(j))}ue.matchAny=I;function M(j){return j.replace(d,"/")}ue.removeDuplicateSlashes=M;function U(j){const O=[],x=[];for(const z of j)W(z)?O.push(z):x.push(z);return[O,x]}ue.partitionAbsoluteAndRelative=U;function W(j){return n.isAbsolute(j)}return ue.isAbsolute=W,ue}var tt={},as,Ul;function X_(){if(Ul)return as;Ul=1;const s=qe.PassThrough,o=Array.prototype.slice;as=h;function h(){const t=[],e=o.call(arguments);let r=!1,u=e[e.length-1];u&&!Array.isArray(u)&&u.pipe==null?e.pop():u={};const l=u.end!==!1,d=u.pipeError===!0;u.objectMode==null&&(u.objectMode=!0),u.highWaterMark==null&&(u.highWaterMark=64*1024);const v=s(u);function _(){for(let S=0,g=arguments.length;S<g;S++)t.push(i(arguments[S],u));return R(),this}function R(){if(r)return;r=!0;let S=t.shift();if(!S){process.nextTick(w);return}Array.isArray(S)||(S=[S]);let g=S.length+1;function a(){--g>0||(r=!1,R())}function f(c){function m(){c.removeListener("merge2UnpipeEnd",m),c.removeListener("end",m),d&&c.removeListener("error",p),a()}function p(E){v.emit("error",E)}if(c._readableState.endEmitted)return a();c.on("merge2UnpipeEnd",m),c.on("end",m),d&&c.on("error",p),c.pipe(v,{end:!1}),c.resume()}for(let c=0;c<S.length;c++)f(S[c]);a()}function w(){r=!1,v.emit("queueDrain"),l&&v.end()}return v.setMaxListeners(0),v.add=_,v.on("unpipe",function(S){S.emit("merge2UnpipeEnd")}),e.length&&_.apply(null,e),v}function i(t,e){if(Array.isArray(t))for(let r=0,u=t.length;r<u;r++)t[r]=i(t[r],e);else{if(!t._readableState&&t.pipe&&(t=t.pipe(s(e))),!t._readableState||!t.pause||!t.pipe)throw new Error("Only readable stream can be merged.");t.pause()}return t}return as}var Vl;function Z_(){if(Vl)return tt;Vl=1,Object.defineProperty(tt,"__esModule",{value:!0}),tt.merge=void 0;const n=X_();function s(h){const i=n(h);return h.forEach(t=>{t.once("error",e=>i.emit("error",e))}),i.once("close",()=>o(h)),i.once("end",()=>o(h)),i}tt.merge=s;function o(h){h.forEach(i=>i.emit("close"))}return tt}var Le={},Gl;function J_(){if(Gl)return Le;Gl=1,Object.defineProperty(Le,"__esModule",{value:!0}),Le.isEmpty=Le.isString=void 0;function n(o){return typeof o=="string"}Le.isString=n;function s(o){return o===""}return Le.isEmpty=s,Le}var Wl;function Ne(){if(Wl)return _e;Wl=1,Object.defineProperty(_e,"__esModule",{value:!0}),_e.string=_e.stream=_e.pattern=_e.path=_e.fs=_e.errno=_e.array=void 0;const n=I_();_e.array=n;const s=x_();_e.errno=s;const o=$_();_e.fs=o;const h=N_();_e.path=h;const i=K_();_e.pattern=i;const t=Z_();_e.stream=t;const e=J_();return _e.string=e,_e}var zl;function Q_(){if(zl)return me;zl=1,Object.defineProperty(me,"__esModule",{value:!0}),me.convertPatternGroupToTask=me.convertPatternGroupsToTasks=me.groupPatternsByBaseDirectory=me.getNegativePatternsAsPositive=me.getPositivePatterns=me.convertPatternsToTasks=me.generate=void 0;const n=Ne();function s(l,d){const v=o(l,d),_=o(d.ignore,d),R=i(v),w=t(v,_),S=R.filter(c=>n.pattern.isStaticPattern(c,d)),g=R.filter(c=>n.pattern.isDynamicPattern(c,d)),a=h(S,w,!1),f=h(g,w,!0);return a.concat(f)}me.generate=s;function o(l,d){let v=l;return d.braceExpansion&&(v=n.pattern.expandPatternsWithBraceExpansion(v)),d.baseNameMatch&&(v=v.map(_=>_.includes("/")?_:`**/${_}`)),v.map(_=>n.pattern.removeDuplicateSlashes(_))}function h(l,d,v){const _=[],R=n.pattern.getPatternsOutsideCurrentDirectory(l),w=n.pattern.getPatternsInsideCurrentDirectory(l),S=e(R),g=e(w);return _.push(...r(S,d,v)),"."in g?_.push(u(".",w,d,v)):_.push(...r(g,d,v)),_}me.convertPatternsToTasks=h;function i(l){return n.pattern.getPositivePatterns(l)}me.getPositivePatterns=i;function t(l,d){return n.pattern.getNegativePatterns(l).concat(d).map(n.pattern.convertToPositivePattern)}me.getNegativePatternsAsPositive=t;function e(l){const d={};return l.reduce((v,_)=>{const R=n.pattern.getBaseDirectory(_);return R in v?v[R].push(_):v[R]=[_],v},d)}me.groupPatternsByBaseDirectory=e;function r(l,d,v){return Object.keys(l).map(_=>u(_,l[_],d,v))}me.convertPatternGroupsToTasks=r;function u(l,d,v,_){return{dynamic:_,positive:d,negative:v,base:l,patterns:[].concat(d,v.map(n.pattern.convertToNegativePattern))}}return me.convertPatternGroupToTask=u,me}var St={},Rt={},Re={},wt={},Ot={},Ae={},Te={},Pe={},rt={},Yl;function eg(){if(Yl)return rt;Yl=1,Object.defineProperty(rt,"__esModule",{value:!0}),rt.read=void 0;function n(h,i,t){i.fs.lstat(h,(e,r)=>{if(e!==null){s(t,e);return}if(!r.isSymbolicLink()||!i.followSymbolicLink){o(t,r);return}i.fs.stat(h,(u,l)=>{if(u!==null){if(i.throwErrorOnBrokenSymbolicLink){s(t,u);return}o(t,r);return}i.markSymbolicLink&&(l.isSymbolicLink=()=>!0),o(t,l)})})}rt.read=n;function s(h,i){h(i)}function o(h,i){h(null,i)}return rt}var nt={},Kl;function tg(){if(Kl)return nt;Kl=1,Object.defineProperty(nt,"__esModule",{value:!0}),nt.read=void 0;function n(s,o){const h=o.fs.lstatSync(s);if(!h.isSymbolicLink()||!o.followSymbolicLink)return h;try{const i=o.fs.statSync(s);return o.markSymbolicLink&&(i.isSymbolicLink=()=>!0),i}catch(i){if(!o.throwErrorOnBrokenSymbolicLink)return h;throw i}}return nt.read=n,nt}var bt={},us={},Xl;function rg(){return Xl||(Xl=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.createFileSystemAdapter=n.FILE_SYSTEM_ADAPTER=void 0;const s=pe;n.FILE_SYSTEM_ADAPTER={lstat:s.lstat,stat:s.stat,lstatSync:s.lstatSync,statSync:s.statSync};function o(h){return h===void 0?n.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},n.FILE_SYSTEM_ADAPTER),h)}n.createFileSystemAdapter=o}(us)),us}var Zl;function ng(){if(Zl)return bt;Zl=1,Object.defineProperty(bt,"__esModule",{value:!0});const n=rg();class s{constructor(h={}){this._options=h,this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,!0),this.fs=n.createFileSystemAdapter(this._options.fs),this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0)}_getValue(h,i){return h!=null?h:i}}return bt.default=s,bt}var Jl;function Ze(){if(Jl)return Pe;Jl=1,Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.statSync=Pe.stat=Pe.Settings=void 0;const n=eg(),s=tg(),o=ng();Pe.Settings=o.default;function h(e,r,u){if(typeof r=="function"){n.read(e,t(),r);return}n.read(e,t(r),u)}Pe.stat=h;function i(e,r){const u=t(r);return s.read(e,u)}Pe.statSync=i;function t(e={}){return e instanceof o.default?e:new o.default(e)}return Pe}/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var ls,Ql;function ig(){if(Ql)return ls;Ql=1;let n;return ls=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:xe):s=>(n||(n=Promise.resolve())).then(s).catch(o=>setTimeout(()=>{throw o},0)),ls}/*! run-parallel. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var cs,ec;function sg(){if(ec)return cs;ec=1,cs=s;const n=ig();function s(o,h){let i,t,e,r=!0;Array.isArray(o)?(i=[],t=o.length):(e=Object.keys(o),i={},t=e.length);function u(d){function v(){h&&h(d,i),h=null}r?n(v):v()}function l(d,v,_){i[d]=_,(--t===0||v)&&u(v)}t?e?e.forEach(function(d){o[d](function(v,_){l(d,v,_)})}):o.forEach(function(d,v){d(function(_,R){l(v,_,R)})}):u(null),r=!1}return cs}var it={},tc;function Hh(){if(tc)return it;tc=1,Object.defineProperty(it,"__esModule",{value:!0}),it.IS_SUPPORT_READDIR_WITH_FILE_TYPES=void 0;const n=process.versions.node.split(".");if(n[0]===void 0||n[1]===void 0)throw new Error(`Unexpected behavior. The 'process.versions.node' variable has invalid value: ${process.versions.node}`);const s=Number.parseInt(n[0],10),o=Number.parseInt(n[1],10),h=10,i=10,t=s>h,e=s===h&&o>=i;return it.IS_SUPPORT_READDIR_WITH_FILE_TYPES=t||e,it}var st={},ot={},rc;function og(){if(rc)return ot;rc=1,Object.defineProperty(ot,"__esModule",{value:!0}),ot.createDirentFromStats=void 0;class n{constructor(h,i){this.name=h,this.isBlockDevice=i.isBlockDevice.bind(i),this.isCharacterDevice=i.isCharacterDevice.bind(i),this.isDirectory=i.isDirectory.bind(i),this.isFIFO=i.isFIFO.bind(i),this.isFile=i.isFile.bind(i),this.isSocket=i.isSocket.bind(i),this.isSymbolicLink=i.isSymbolicLink.bind(i)}}function s(o,h){return new n(o,h)}return ot.createDirentFromStats=s,ot}var nc;function Uh(){if(nc)return st;nc=1,Object.defineProperty(st,"__esModule",{value:!0}),st.fs=void 0;const n=og();return st.fs=n,st}var at={},ic;function Vh(){if(ic)return at;ic=1,Object.defineProperty(at,"__esModule",{value:!0}),at.joinPathSegments=void 0;function n(s,o,h){return s.endsWith(h)?s+o:s+h+o}return at.joinPathSegments=n,at}var sc;function ag(){if(sc)return Te;sc=1,Object.defineProperty(Te,"__esModule",{value:!0}),Te.readdir=Te.readdirWithFileTypes=Te.read=void 0;const n=Ze(),s=sg(),o=Hh(),h=Uh(),i=Vh();function t(v,_,R){if(!_.stats&&o.IS_SUPPORT_READDIR_WITH_FILE_TYPES){e(v,_,R);return}u(v,_,R)}Te.read=t;function e(v,_,R){_.fs.readdir(v,{withFileTypes:!0},(w,S)=>{if(w!==null){l(R,w);return}const g=S.map(f=>({dirent:f,name:f.name,path:i.joinPathSegments(v,f.name,_.pathSegmentSeparator)}));if(!_.followSymbolicLinks){d(R,g);return}const a=g.map(f=>r(f,_));s(a,(f,c)=>{if(f!==null){l(R,f);return}d(R,c)})})}Te.readdirWithFileTypes=e;function r(v,_){return R=>{if(!v.dirent.isSymbolicLink()){R(null,v);return}_.fs.stat(v.path,(w,S)=>{if(w!==null){if(_.throwErrorOnBrokenSymbolicLink){R(w);return}R(null,v);return}v.dirent=h.fs.createDirentFromStats(v.name,S),R(null,v)})}}function u(v,_,R){_.fs.readdir(v,(w,S)=>{if(w!==null){l(R,w);return}const g=S.map(a=>{const f=i.joinPathSegments(v,a,_.pathSegmentSeparator);return c=>{n.stat(f,_.fsStatSettings,(m,p)=>{if(m!==null){c(m);return}const E={name:a,path:f,dirent:h.fs.createDirentFromStats(a,p)};_.stats&&(E.stats=p),c(null,E)})}});s(g,(a,f)=>{if(a!==null){l(R,a);return}d(R,f)})})}Te.readdir=u;function l(v,_){v(_)}function d(v,_){v(null,_)}return Te}var Ce={},oc;function ug(){if(oc)return Ce;oc=1,Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.readdir=Ce.readdirWithFileTypes=Ce.read=void 0;const n=Ze(),s=Hh(),o=Uh(),h=Vh();function i(r,u){return!u.stats&&s.IS_SUPPORT_READDIR_WITH_FILE_TYPES?t(r,u):e(r,u)}Ce.read=i;function t(r,u){return u.fs.readdirSync(r,{withFileTypes:!0}).map(d=>{const v={dirent:d,name:d.name,path:h.joinPathSegments(r,d.name,u.pathSegmentSeparator)};if(v.dirent.isSymbolicLink()&&u.followSymbolicLinks)try{const _=u.fs.statSync(v.path);v.dirent=o.fs.createDirentFromStats(v.name,_)}catch(_){if(u.throwErrorOnBrokenSymbolicLink)throw _}return v})}Ce.readdirWithFileTypes=t;function e(r,u){return u.fs.readdirSync(r).map(d=>{const v=h.joinPathSegments(r,d,u.pathSegmentSeparator),_=n.statSync(v,u.fsStatSettings),R={name:d,path:v,dirent:o.fs.createDirentFromStats(d,_)};return u.stats&&(R.stats=_),R})}return Ce.readdir=e,Ce}var At={},hs={},ac;function lg(){return ac||(ac=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.createFileSystemAdapter=n.FILE_SYSTEM_ADAPTER=void 0;const s=pe;n.FILE_SYSTEM_ADAPTER={lstat:s.lstat,stat:s.stat,lstatSync:s.lstatSync,statSync:s.statSync,readdir:s.readdir,readdirSync:s.readdirSync};function o(h){return h===void 0?n.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},n.FILE_SYSTEM_ADAPTER),h)}n.createFileSystemAdapter=o}(hs)),hs}var uc;function cg(){if(uc)return At;uc=1,Object.defineProperty(At,"__esModule",{value:!0});const n=Q,s=Ze(),o=lg();class h{constructor(t={}){this._options=t,this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!1),this.fs=o.createFileSystemAdapter(this._options.fs),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,n.sep),this.stats=this._getValue(this._options.stats,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0),this.fsStatSettings=new s.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(t,e){return t!=null?t:e}}return At.default=h,At}var lc;function eo(){if(lc)return Ae;lc=1,Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.Settings=Ae.scandirSync=Ae.scandir=void 0;const n=ag(),s=ug(),o=cg();Ae.Settings=o.default;function h(e,r,u){if(typeof r=="function"){n.read(e,t(),r);return}n.read(e,t(r),u)}Ae.scandir=h;function i(e,r){const u=t(r);return s.read(e,u)}Ae.scandirSync=i;function t(e={}){return e instanceof o.default?e:new o.default(e)}return Ae}var Tt={exports:{}},fs,cc;function hg(){if(cc)return fs;cc=1;function n(s){var o=new s,h=o;function i(){var e=o;return e.next?o=e.next:(o=new s,h=o),e.next=null,e}function t(e){h.next=e,h=e}return{get:i,release:t}}return fs=n,fs}var hc;function fg(){if(hc)return Tt.exports;hc=1;var n=hg();function s(t,e,r){if(typeof t=="function"&&(r=e,e=t,t=null),!(r>=1))throw new Error("fastqueue concurrency must be equal to or greater than 1");var u=n(h),l=null,d=null,v=0,_=null,R={push:m,drain:o,saturated:o,pause:S,paused:!1,get concurrency(){return r},set concurrency(P){if(!(P>=1))throw new Error("fastqueue concurrency must be equal to or greater than 1");if(r=P,!R.paused)for(;l&&v<r;)v++,E()},running:w,resume:f,idle:c,length:g,getQueue:a,unshift:p,empty:o,kill:y,killAndDrain:b,error:A};return R;function w(){return v}function S(){R.paused=!0}function g(){for(var P=l,D=0;P;)P=P.next,D++;return D}function a(){for(var P=l,D=[];P;)D.push(P.value),P=P.next;return D}function f(){if(R.paused){if(R.paused=!1,l===null){v++,E();return}for(;l&&v<r;)v++,E()}}function c(){return v===0&&R.length()===0}function m(P,D){var q=u.get();q.context=t,q.release=E,q.value=P,q.callback=D||o,q.errorHandler=_,v>=r||R.paused?d?(d.next=q,d=q):(l=q,d=q,R.saturated()):(v++,e.call(t,q.value,q.worked))}function p(P,D){var q=u.get();q.context=t,q.release=E,q.value=P,q.callback=D||o,q.errorHandler=_,v>=r||R.paused?l?(q.next=l,l=q):(l=q,d=q,R.saturated()):(v++,e.call(t,q.value,q.worked))}function E(P){P&&u.release(P);var D=l;D&&v<=r?R.paused?v--:(d===l&&(d=null),l=D.next,D.next=null,e.call(t,D.value,D.worked),d===null&&R.empty()):--v===0&&R.drain()}function y(){l=null,d=null,R.drain=o}function b(){l=null,d=null,R.drain(),R.drain=o}function A(P){_=P}}function o(){}function h(){this.value=null,this.callback=o,this.next=null,this.release=o,this.context=null,this.errorHandler=null;var t=this;this.worked=function(r,u){var l=t.callback,d=t.errorHandler,v=t.value;t.value=null,t.callback=o,t.errorHandler&&d(r,v),l.call(t.context,r,u),t.release(t)}}function i(t,e,r){typeof t=="function"&&(r=e,e=t,t=null);function u(S,g){e.call(this,S).then(function(a){g(null,a)},g)}var l=s(t,u,r),d=l.push,v=l.unshift;return l.push=_,l.unshift=R,l.drained=w,l;function _(S){var g=new Promise(function(a,f){d(S,function(c,m){if(c){f(c);return}a(m)})});return g.catch(o),g}function R(S){var g=new Promise(function(a,f){v(S,function(c,m){if(c){f(c);return}a(m)})});return g.catch(o),g}function w(){var S=new Promise(function(g){process.nextTick(function(){if(l.idle())g();else{var a=l.drain;l.drain=function(){typeof a=="function"&&a(),g(),l.drain=a}}})});return S}}return Tt.exports=s,Tt.exports.promise=i,Tt.exports}var we={},fc;function to(){if(fc)return we;fc=1,Object.defineProperty(we,"__esModule",{value:!0}),we.joinPathSegments=we.replacePathSegmentSeparator=we.isAppliedFilter=we.isFatalError=void 0;function n(i,t){return i.errorFilter===null?!0:!i.errorFilter(t)}we.isFatalError=n;function s(i,t){return i===null||i(t)}we.isAppliedFilter=s;function o(i,t){return i.split(/[/\\]/).join(t)}we.replacePathSegmentSeparator=o;function h(i,t,e){return i===""?t:i.endsWith(e)?i+t:i+e+t}return we.joinPathSegments=h,we}var Pt={},dc;function Gh(){if(dc)return Pt;dc=1,Object.defineProperty(Pt,"__esModule",{value:!0});const n=to();class s{constructor(h,i){this._root=h,this._settings=i,this._root=n.replacePathSegmentSeparator(h,i.pathSegmentSeparator)}}return Pt.default=s,Pt}var pc;function Wh(){if(pc)return Ot;pc=1,Object.defineProperty(Ot,"__esModule",{value:!0});const n=Fe,s=eo(),o=fg(),h=to(),i=Gh();class t extends i.default{constructor(r,u){super(r,u),this._settings=u,this._scandir=s.scandir,this._emitter=new n.EventEmitter,this._queue=o(this._worker.bind(this),this._settings.concurrency),this._isFatalError=!1,this._isDestroyed=!1,this._queue.drain=()=>{this._isFatalError||this._emitter.emit("end")}}read(){return this._isFatalError=!1,this._isDestroyed=!1,setImmediate(()=>{this._pushToQueue(this._root,this._settings.basePath)}),this._emitter}get isDestroyed(){return this._isDestroyed}destroy(){if(this._isDestroyed)throw new Error("The reader is already destroyed");this._isDestroyed=!0,this._queue.killAndDrain()}onEntry(r){this._emitter.on("entry",r)}onError(r){this._emitter.once("error",r)}onEnd(r){this._emitter.once("end",r)}_pushToQueue(r,u){const l={directory:r,base:u};this._queue.push(l,d=>{d!==null&&this._handleError(d)})}_worker(r,u){this._scandir(r.directory,this._settings.fsScandirSettings,(l,d)=>{if(l!==null){u(l,void 0);return}for(const v of d)this._handleEntry(v,r.base);u(null,void 0)})}_handleError(r){this._isDestroyed||!h.isFatalError(this._settings,r)||(this._isFatalError=!0,this._isDestroyed=!0,this._emitter.emit("error",r))}_handleEntry(r,u){if(this._isDestroyed||this._isFatalError)return;const l=r.path;u!==void 0&&(r.path=h.joinPathSegments(u,r.name,this._settings.pathSegmentSeparator)),h.isAppliedFilter(this._settings.entryFilter,r)&&this._emitEntry(r),r.dirent.isDirectory()&&h.isAppliedFilter(this._settings.deepFilter,r)&&this._pushToQueue(l,u===void 0?void 0:r.path)}_emitEntry(r){this._emitter.emit("entry",r)}}return Ot.default=t,Ot}var mc;function dg(){if(mc)return wt;mc=1,Object.defineProperty(wt,"__esModule",{value:!0});const n=Wh();class s{constructor(t,e){this._root=t,this._settings=e,this._reader=new n.default(this._root,this._settings),this._storage=[]}read(t){this._reader.onError(e=>{o(t,e)}),this._reader.onEntry(e=>{this._storage.push(e)}),this._reader.onEnd(()=>{h(t,this._storage)}),this._reader.read()}}wt.default=s;function o(i,t){i(t)}function h(i,t){i(null,t)}return wt}var Ct={},_c;function pg(){if(_c)return Ct;_c=1,Object.defineProperty(Ct,"__esModule",{value:!0});const n=qe,s=Wh();class o{constructor(i,t){this._root=i,this._settings=t,this._reader=new s.default(this._root,this._settings),this._stream=new n.Readable({objectMode:!0,read:()=>{},destroy:()=>{this._reader.isDestroyed||this._reader.destroy()}})}read(){return this._reader.onError(i=>{this._stream.emit("error",i)}),this._reader.onEntry(i=>{this._stream.push(i)}),this._reader.onEnd(()=>{this._stream.push(null)}),this._reader.read(),this._stream}}return Ct.default=o,Ct}var It={},xt={},gc;function mg(){if(gc)return xt;gc=1,Object.defineProperty(xt,"__esModule",{value:!0});const n=eo(),s=to(),o=Gh();class h extends o.default{constructor(){super(...arguments),this._scandir=n.scandirSync,this._storage=[],this._queue=new Set}read(){return this._pushToQueue(this._root,this._settings.basePath),this._handleQueue(),this._storage}_pushToQueue(t,e){this._queue.add({directory:t,base:e})}_handleQueue(){for(const t of this._queue.values())this._handleDirectory(t.directory,t.base)}_handleDirectory(t,e){try{const r=this._scandir(t,this._settings.fsScandirSettings);for(const u of r)this._handleEntry(u,e)}catch(r){this._handleError(r)}}_handleError(t){if(s.isFatalError(this._settings,t))throw t}_handleEntry(t,e){const r=t.path;e!==void 0&&(t.path=s.joinPathSegments(e,t.name,this._settings.pathSegmentSeparator)),s.isAppliedFilter(this._settings.entryFilter,t)&&this._pushToStorage(t),t.dirent.isDirectory()&&s.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(r,e===void 0?void 0:t.path)}_pushToStorage(t){this._storage.push(t)}}return xt.default=h,xt}var yc;function _g(){if(yc)return It;yc=1,Object.defineProperty(It,"__esModule",{value:!0});const n=mg();class s{constructor(h,i){this._root=h,this._settings=i,this._reader=new n.default(this._root,this._settings)}read(){return this._reader.read()}}return It.default=s,It}var $t={},vc;function gg(){if(vc)return $t;vc=1,Object.defineProperty($t,"__esModule",{value:!0});const n=Q,s=eo();class o{constructor(i={}){this._options=i,this.basePath=this._getValue(this._options.basePath,void 0),this.concurrency=this._getValue(this._options.concurrency,Number.POSITIVE_INFINITY),this.deepFilter=this._getValue(this._options.deepFilter,null),this.entryFilter=this._getValue(this._options.entryFilter,null),this.errorFilter=this._getValue(this._options.errorFilter,null),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,n.sep),this.fsScandirSettings=new s.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(i,t){return i!=null?i:t}}return $t.default=o,$t}var Ec;function ro(){if(Ec)return Re;Ec=1,Object.defineProperty(Re,"__esModule",{value:!0}),Re.Settings=Re.walkStream=Re.walkSync=Re.walk=void 0;const n=dg(),s=pg(),o=_g(),h=gg();Re.Settings=h.default;function i(u,l,d){if(typeof l=="function"){new n.default(u,r()).read(l);return}new n.default(u,r(l)).read(d)}Re.walk=i;function t(u,l){const d=r(l);return new o.default(u,d).read()}Re.walkSync=t;function e(u,l){const d=r(l);return new s.default(u,d).read()}Re.walkStream=e;function r(u={}){return u instanceof h.default?u:new h.default(u)}return Re}var Nt={},Sc;function no(){if(Sc)return Nt;Sc=1,Object.defineProperty(Nt,"__esModule",{value:!0});const n=Q,s=Ze(),o=Ne();class h{constructor(t){this._settings=t,this._fsStatSettings=new s.Settings({followSymbolicLink:this._settings.followSymbolicLinks,fs:this._settings.fs,throwErrorOnBrokenSymbolicLink:this._settings.followSymbolicLinks})}_getFullEntryPath(t){return n.resolve(this._settings.cwd,t)}_makeEntry(t,e){const r={name:e,path:e,dirent:o.fs.createDirentFromStats(e,t)};return this._settings.stats&&(r.stats=t),r}_isFatalError(t){return!o.errno.isEnoentCodeError(t)&&!this._settings.suppressErrors}}return Nt.default=h,Nt}var Dt={},Rc;function zh(){if(Rc)return Dt;Rc=1,Object.defineProperty(Dt,"__esModule",{value:!0});const n=qe,s=Ze(),o=ro(),h=no();class i extends h.default{constructor(){super(...arguments),this._walkStream=o.walkStream,this._stat=s.stat}dynamic(e,r){return this._walkStream(e,r)}static(e,r){const u=e.map(this._getFullEntryPath,this),l=new n.PassThrough({objectMode:!0});l._write=(d,v,_)=>this._getEntry(u[d],e[d],r).then(R=>{R!==null&&r.entryFilter(R)&&l.push(R),d===u.length-1&&l.end(),_()}).catch(_);for(let d=0;d<u.length;d++)l.write(d);return l}_getEntry(e,r,u){return this._getStat(e).then(l=>this._makeEntry(l,r)).catch(l=>{if(u.errorFilter(l))return null;throw l})}_getStat(e){return new Promise((r,u)=>{this._stat(e,this._fsStatSettings,(l,d)=>l===null?r(d):u(l))})}}return Dt.default=i,Dt}var wc;function yg(){if(wc)return Rt;wc=1,Object.defineProperty(Rt,"__esModule",{value:!0});const n=ro(),s=no(),o=zh();class h extends s.default{constructor(){super(...arguments),this._walkAsync=n.walk,this._readerStream=new o.default(this._settings)}dynamic(t,e){return new Promise((r,u)=>{this._walkAsync(t,e,(l,d)=>{l===null?r(d):u(l)})})}async static(t,e){const r=[],u=this._readerStream.static(t,e);return new Promise((l,d)=>{u.once("error",d),u.on("data",v=>r.push(v)),u.once("end",()=>l(r))})}}return Rt.default=h,Rt}var Lt={},Ft={},qt={},kt={},Oc;function vg(){if(Oc)return kt;Oc=1,Object.defineProperty(kt,"__esModule",{value:!0});const n=Ne();class s{constructor(h,i,t){this._patterns=h,this._settings=i,this._micromatchOptions=t,this._storage=[],this._fillStorage()}_fillStorage(){for(const h of this._patterns){const i=this._getPatternSegments(h),t=this._splitSegmentsIntoSections(i);this._storage.push({complete:t.length<=1,pattern:h,segments:i,sections:t})}}_getPatternSegments(h){return n.pattern.getPatternParts(h,this._micromatchOptions).map(t=>n.pattern.isDynamicPattern(t,this._settings)?{dynamic:!0,pattern:t,patternRe:n.pattern.makeRe(t,this._micromatchOptions)}:{dynamic:!1,pattern:t})}_splitSegmentsIntoSections(h){return n.array.splitWhen(h,i=>i.dynamic&&n.pattern.hasGlobStar(i.pattern))}}return kt.default=s,kt}var bc;function Eg(){if(bc)return qt;bc=1,Object.defineProperty(qt,"__esModule",{value:!0});const n=vg();class s extends n.default{match(h){const i=h.split("/"),t=i.length,e=this._storage.filter(r=>!r.complete||r.segments.length>t);for(const r of e){const u=r.sections[0];if(!r.complete&&t>u.length||i.every((d,v)=>{const _=r.segments[v];return!!(_.dynamic&&_.patternRe.test(d)||!_.dynamic&&_.pattern===d)}))return!0}return!1}}return qt.default=s,qt}var Ac;function Sg(){if(Ac)return Ft;Ac=1,Object.defineProperty(Ft,"__esModule",{value:!0});const n=Ne(),s=Eg();class o{constructor(i,t){this._settings=i,this._micromatchOptions=t}getFilter(i,t,e){const r=this._getMatcher(t),u=this._getNegativePatternsRe(e);return l=>this._filter(i,l,r,u)}_getMatcher(i){return new s.default(i,this._settings,this._micromatchOptions)}_getNegativePatternsRe(i){const t=i.filter(n.pattern.isAffectDepthOfReadingPattern);return n.pattern.convertPatternsToRe(t,this._micromatchOptions)}_filter(i,t,e,r){if(this._isSkippedByDeep(i,t.path)||this._isSkippedSymbolicLink(t))return!1;const u=n.path.removeLeadingDotSegment(t.path);return this._isSkippedByPositivePatterns(u,e)?!1:this._isSkippedByNegativePatterns(u,r)}_isSkippedByDeep(i,t){return this._settings.deep===1/0?!1:this._getEntryLevel(i,t)>=this._settings.deep}_getEntryLevel(i,t){const e=t.split("/").length;if(i==="")return e;const r=i.split("/").length;return e-r}_isSkippedSymbolicLink(i){return!this._settings.followSymbolicLinks&&i.dirent.isSymbolicLink()}_isSkippedByPositivePatterns(i,t){return!this._settings.baseNameMatch&&!t.match(i)}_isSkippedByNegativePatterns(i,t){return!n.pattern.matchAny(i,t)}}return Ft.default=o,Ft}var Mt={},Tc;function Rg(){if(Tc)return Mt;Tc=1,Object.defineProperty(Mt,"__esModule",{value:!0});const n=Ne();class s{constructor(h,i){this._settings=h,this._micromatchOptions=i,this.index=new Map}getFilter(h,i){const[t,e]=n.pattern.partitionAbsoluteAndRelative(i),r={positive:{all:n.pattern.convertPatternsToRe(h,this._micromatchOptions)},negative:{absolute:n.pattern.convertPatternsToRe(t,Object.assign(Object.assign({},this._micromatchOptions),{dot:!0})),relative:n.pattern.convertPatternsToRe(e,Object.assign(Object.assign({},this._micromatchOptions),{dot:!0}))}};return u=>this._filter(u,r)}_filter(h,i){const t=n.path.removeLeadingDotSegment(h.path);if(this._settings.unique&&this._isDuplicateEntry(t)||this._onlyFileFilter(h)||this._onlyDirectoryFilter(h))return!1;const e=this._isMatchToPatternsSet(t,i,h.dirent.isDirectory());return this._settings.unique&&e&&this._createIndexRecord(t),e}_isDuplicateEntry(h){return this.index.has(h)}_createIndexRecord(h){this.index.set(h,void 0)}_onlyFileFilter(h){return this._settings.onlyFiles&&!h.dirent.isFile()}_onlyDirectoryFilter(h){return this._settings.onlyDirectories&&!h.dirent.isDirectory()}_isMatchToPatternsSet(h,i,t){return!(!this._isMatchToPatterns(h,i.positive.all,t)||this._isMatchToPatterns(h,i.negative.relative,t)||this._isMatchToAbsoluteNegative(h,i.negative.absolute,t))}_isMatchToAbsoluteNegative(h,i,t){if(i.length===0)return!1;const e=n.path.makeAbsolute(this._settings.cwd,h);return this._isMatchToPatterns(e,i,t)}_isMatchToPatterns(h,i,t){if(i.length===0)return!1;const e=n.pattern.matchAny(h,i);return!e&&t?n.pattern.matchAny(h+"/",i):e}}return Mt.default=s,Mt}var Bt={},Pc;function wg(){if(Pc)return Bt;Pc=1,Object.defineProperty(Bt,"__esModule",{value:!0});const n=Ne();class s{constructor(h){this._settings=h}getFilter(){return h=>this._isNonFatalError(h)}_isNonFatalError(h){return n.errno.isEnoentCodeError(h)||this._settings.suppressErrors}}return Bt.default=s,Bt}var jt={},Cc;function Og(){if(Cc)return jt;Cc=1,Object.defineProperty(jt,"__esModule",{value:!0});const n=Ne();class s{constructor(h){this._settings=h}getTransformer(){return h=>this._transform(h)}_transform(h){let i=h.path;return this._settings.absolute&&(i=n.path.makeAbsolute(this._settings.cwd,i),i=n.path.unixify(i)),this._settings.markDirectories&&h.dirent.isDirectory()&&(i+="/"),this._settings.objectMode?Object.assign(Object.assign({},h),{path:i}):i}}return jt.default=s,jt}var Ic;function io(){if(Ic)return Lt;Ic=1,Object.defineProperty(Lt,"__esModule",{value:!0});const n=Q,s=Sg(),o=Rg(),h=wg(),i=Og();class t{constructor(r){this._settings=r,this.errorFilter=new h.default(this._settings),this.entryFilter=new o.default(this._settings,this._getMicromatchOptions()),this.deepFilter=new s.default(this._settings,this._getMicromatchOptions()),this.entryTransformer=new i.default(this._settings)}_getRootDirectory(r){return n.resolve(this._settings.cwd,r.base)}_getReaderOptions(r){const u=r.base==="."?"":r.base;return{basePath:u,pathSegmentSeparator:"/",concurrency:this._settings.concurrency,deepFilter:this.deepFilter.getFilter(u,r.positive,r.negative),entryFilter:this.entryFilter.getFilter(r.positive,r.negative),errorFilter:this.errorFilter.getFilter(),followSymbolicLinks:this._settings.followSymbolicLinks,fs:this._settings.fs,stats:this._settings.stats,throwErrorOnBrokenSymbolicLink:this._settings.throwErrorOnBrokenSymbolicLink,transform:this.entryTransformer.getTransformer()}}_getMicromatchOptions(){return{dot:this._settings.dot,matchBase:this._settings.baseNameMatch,nobrace:!this._settings.braceExpansion,nocase:!this._settings.caseSensitiveMatch,noext:!this._settings.extglob,noglobstar:!this._settings.globstar,posix:!0,strictSlashes:!1}}}return Lt.default=t,Lt}var xc;function bg(){if(xc)return St;xc=1,Object.defineProperty(St,"__esModule",{value:!0});const n=yg(),s=io();class o extends s.default{constructor(){super(...arguments),this._reader=new n.default(this._settings)}async read(i){const t=this._getRootDirectory(i),e=this._getReaderOptions(i);return(await this.api(t,i,e)).map(u=>e.transform(u))}api(i,t,e){return t.dynamic?this._reader.dynamic(i,e):this._reader.static(t.patterns,e)}}return St.default=o,St}var Ht={},$c;function Ag(){if($c)return Ht;$c=1,Object.defineProperty(Ht,"__esModule",{value:!0});const n=qe,s=zh(),o=io();class h extends o.default{constructor(){super(...arguments),this._reader=new s.default(this._settings)}read(t){const e=this._getRootDirectory(t),r=this._getReaderOptions(t),u=this.api(e,t,r),l=new n.Readable({objectMode:!0,read:()=>{}});return u.once("error",d=>l.emit("error",d)).on("data",d=>l.emit("data",r.transform(d))).once("end",()=>l.emit("end")),l.once("close",()=>u.destroy()),l}api(t,e,r){return e.dynamic?this._reader.dynamic(t,r):this._reader.static(e.patterns,r)}}return Ht.default=h,Ht}var Ut={},Vt={},Nc;function Tg(){if(Nc)return Vt;Nc=1,Object.defineProperty(Vt,"__esModule",{value:!0});const n=Ze(),s=ro(),o=no();class h extends o.default{constructor(){super(...arguments),this._walkSync=s.walkSync,this._statSync=n.statSync}dynamic(t,e){return this._walkSync(t,e)}static(t,e){const r=[];for(const u of t){const l=this._getFullEntryPath(u),d=this._getEntry(l,u,e);d===null||!e.entryFilter(d)||r.push(d)}return r}_getEntry(t,e,r){try{const u=this._getStat(t);return this._makeEntry(u,e)}catch(u){if(r.errorFilter(u))return null;throw u}}_getStat(t){return this._statSync(t,this._fsStatSettings)}}return Vt.default=h,Vt}var Dc;function Pg(){if(Dc)return Ut;Dc=1,Object.defineProperty(Ut,"__esModule",{value:!0});const n=Tg(),s=io();class o extends s.default{constructor(){super(...arguments),this._reader=new n.default(this._settings)}read(i){const t=this._getRootDirectory(i),e=this._getReaderOptions(i);return this.api(t,i,e).map(e.transform)}api(i,t,e){return t.dynamic?this._reader.dynamic(i,e):this._reader.static(t.patterns,e)}}return Ut.default=o,Ut}var ds={},Lc;function Cg(){return Lc||(Lc=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.DEFAULT_FILE_SYSTEM_ADAPTER=void 0;const s=pe,h=Math.max(We.cpus().length,1);n.DEFAULT_FILE_SYSTEM_ADAPTER={lstat:s.lstat,lstatSync:s.lstatSync,stat:s.stat,statSync:s.statSync,readdir:s.readdir,readdirSync:s.readdirSync};class i{constructor(e={}){this._options=e,this.absolute=this._getValue(this._options.absolute,!1),this.baseNameMatch=this._getValue(this._options.baseNameMatch,!1),this.braceExpansion=this._getValue(this._options.braceExpansion,!0),this.caseSensitiveMatch=this._getValue(this._options.caseSensitiveMatch,!0),this.concurrency=this._getValue(this._options.concurrency,h),this.cwd=this._getValue(this._options.cwd,process.cwd()),this.deep=this._getValue(this._options.deep,1/0),this.dot=this._getValue(this._options.dot,!1),this.extglob=this._getValue(this._options.extglob,!0),this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!0),this.fs=this._getFileSystemMethods(this._options.fs),this.globstar=this._getValue(this._options.globstar,!0),this.ignore=this._getValue(this._options.ignore,[]),this.markDirectories=this._getValue(this._options.markDirectories,!1),this.objectMode=this._getValue(this._options.objectMode,!1),this.onlyDirectories=this._getValue(this._options.onlyDirectories,!1),this.onlyFiles=this._getValue(this._options.onlyFiles,!0),this.stats=this._getValue(this._options.stats,!1),this.suppressErrors=this._getValue(this._options.suppressErrors,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!1),this.unique=this._getValue(this._options.unique,!0),this.onlyDirectories&&(this.onlyFiles=!1),this.stats&&(this.objectMode=!0),this.ignore=[].concat(this.ignore)}_getValue(e,r){return e===void 0?r:e}_getFileSystemMethods(e={}){return Object.assign(Object.assign({},n.DEFAULT_FILE_SYSTEM_ADAPTER),e)}}n.default=i}(ds)),ds}var ps,Fc;function Ig(){if(Fc)return ps;Fc=1;const n=Q_(),s=bg(),o=Ag(),h=Pg(),i=Cg(),t=Ne();async function e(l,d){u(l);const v=r(l,s.default,d),_=await Promise.all(v);return t.array.flatten(_)}(function(l){l.glob=l,l.globSync=d,l.globStream=v,l.async=l;function d(g,a){u(g);const f=r(g,h.default,a);return t.array.flatten(f)}l.sync=d;function v(g,a){u(g);const f=r(g,o.default,a);return t.stream.merge(f)}l.stream=v;function _(g,a){u(g);const f=[].concat(g),c=new i.default(a);return n.generate(f,c)}l.generateTasks=_;function R(g,a){u(g);const f=new i.default(a);return t.pattern.isDynamicPattern(g,f)}l.isDynamicPattern=R;function w(g){return u(g),t.path.escape(g)}l.escapePath=w;function S(g){return u(g),t.path.convertPathToPattern(g)}l.convertPathToPattern=S,function(g){function a(c){return u(c),t.path.escapePosixPath(c)}g.escapePath=a;function f(c){return u(c),t.path.convertPosixPathToPattern(c)}g.convertPathToPattern=f}(l.posix||(l.posix={})),function(g){function a(c){return u(c),t.path.escapeWindowsPath(c)}g.escapePath=a;function f(c){return u(c),t.path.convertWindowsPathToPattern(c)}g.convertPathToPattern=f}(l.win32||(l.win32={}))})(e||(e={}));function r(l,d,v){const _=[].concat(l),R=new i.default(v),w=n.generate(_,R),S=new d(R);return w.map(S.read,S)}function u(l){if(![].concat(l).every(_=>t.string.isString(_)&&!t.string.isEmpty(_)))throw new TypeError("Patterns must be a string (non empty) or an array of strings")}return ps=e,ps}var xg=Ig();const $g=be(xg);var zt={exports:{}},Ng=zt.exports,qc;function Dg(){return qc||(qc=1,function(n){(function(s,o,h){n.exports?n.exports=h():o[s]=h()})("urljoin",Ng,function(){function s(o){var h=[];if(o.length===0)return"";if(typeof o[0]!="string")throw new TypeError("Url must be a string. Received "+o[0]);if(o[0].match(/^[^/:]+:\/*$/)&&o.length>1){var i=o.shift();o[0]=i+o[0]}o[0].match(/^file:\/\/\//)?o[0]=o[0].replace(/^([^/:]+):\/*/,"$1:///"):o[0]=o[0].replace(/^([^/:]+):\/*/,"$1://");for(var t=0;t<o.length;t++){var e=o[t];if(typeof e!="string")throw new TypeError("Url must be a string. Received "+e);e!==""&&(t>0&&(e=e.replace(/^[\/]+/,"")),t<o.length-1?e=e.replace(/[\/]+$/,""):e=e.replace(/[\/]+$/,"/"),h.push(e))}var r=h.join("/");r=r.replace(/\/(\?|&|#[^!])/g,"$1");var u=r.split("?");return r=u.shift()+(u.length>0?"?":"")+u.join("&"),r}return function(){var o;return typeof arguments[0]=="object"?o=arguments[0]:o=[].slice.call(arguments),s(o)}})}(zt)),zt.exports}var Lg=Dg();const Gt=be(Lg);function Fg(n){return n==="linux"?pe.existsSync("/etc/alpine-release")?"musl":"glibc":n==="darwin"?"libc":n==="win32"?"msvc":"unknown"}var ms={},kc;function qg(){return kc||(kc=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.DownloaderHelper=n.DH_STATES=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},o=function(){function f(c,m){for(var p,E=0;E<m.length;E++)p=m[E],p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(c,p.key,p)}return function(c,m,p){return m&&f(c.prototype,m),p&&f(c,p),c}}(),h=pe,i=R(h),t=cf,e=Q,r=R(e),u=hf,l=R(u),d=ff,v=R(d),_=Fe;function R(f){if(f&&f.__esModule)return f;var c={};if(f!=null)for(var m in f)Object.prototype.hasOwnProperty.call(f,m)&&(c[m]=f[m]);return c.default=f,c}function w(f,c){if(!(f instanceof c))throw new TypeError("Cannot call a class as a function")}function S(f,c){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:f}function g(f,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);f.prototype=Object.create(c&&c.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(f,c):f.__proto__=c)}var a=n.DH_STATES={IDLE:"IDLE",SKIPPED:"SKIPPED",STARTED:"STARTED",DOWNLOADING:"DOWNLOADING",RETRY:"RETRY",PAUSED:"PAUSED",RESUMED:"RESUMED",STOPPED:"STOPPED",FINISHED:"FINISHED",FAILED:"FAILED"};n.DownloaderHelper=function(f){function c(m,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{};w(this,c);var y=S(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,{captureRejections:!0}));return y.__validate(m,p)?(y.url=y.requestURL=m.trim(),y.state=a.IDLE,y.__defaultOpts={body:null,retry:!1,method:"GET",headers:{},fileName:"",timeout:-1,metadata:null,override:!1,forceResume:!1,removeOnStop:!0,removeOnFail:!0,progressThrottle:1e3,httpRequestOptions:{},httpsRequestOptions:{},resumeOnIncomplete:!0,resumeIfFileExists:!1,resumeOnIncompleteMaxRetry:5},y.__opts=Object.assign({},y.__defaultOpts),y.__pipes=[],y.__total=0,y.__downloaded=0,y.__progress=0,y.__retryCount=0,y.__retryTimeout=null,y.__resumeRetryCount=0,y.__states=a,y.__promise=null,y.__request=null,y.__response=null,y.__isAborted=!1,y.__isResumed=!1,y.__isResumable=!1,y.__isRedirected=!1,y.__destFolder=p,y.__statsEstimate={time:0,bytes:0,prevBytes:0,throttleTime:0},y.__fileName="",y.__filePath="",y.updateOptions(E),y):S(y)}return g(c,f),o(c,[{key:"start",value:function(){var p=this,E=function(){return new Promise(function(y,b){p.__promise={resolve:y,reject:b},p.__start()})};return this.__opts.resumeIfFileExists&&this.state!==this.__states.RESUMED?this.getTotalSize().then(function(y){var b=y.name,A=y.total,P=p.__opts.override;if(p.__opts.override=!0,p.__filePath=p.__getFilePath(b),p.__opts.override=P,p.__filePath&&i.existsSync(p.__filePath)){var D=p.__getFilesizeInBytes(p.__filePath);return D===A?E():p.resumeFromFile(p.__filePath,{total:A,fileName:b})}return E()}):E()}},{key:"pause",value:function(){var p=this;return this.state===this.__states.STOPPED?Promise.resolve(!0):(this.__response&&(this.__response.unpipe(),this.__pipes.forEach(function(E){return E.stream.unpipe()})),this.__fileStream&&this.__fileStream.removeAllListeners(),this.__requestAbort(),this.__closeFileStream().then(function(){return p.__setState(p.__states.PAUSED),p.emit("pause"),!0}))}},{key:"resume",value:function(){return this.__promise?this.state===this.__states.STOPPED?Promise.resolve(!1):(this.__setState(this.__states.RESUMED),this.__isResumable&&(this.__isResumed=!0,this.__reqOptions.headers.range="bytes="+this.__downloaded+"-"),this.emit("resume",this.__isResumed),this.__start()):this.start()}},{key:"stop",value:function(){var p=this;if(this.state===this.__states.STOPPED)return Promise.resolve(!0);var E=function(){return new Promise(function(y,b){i.access(p.__filePath,function(A){return A?(p.__emitStop(),y(!0)):void i.unlink(p.__filePath,function(P){return P?(p.__setState(p.__states.FAILED),p.emit("error",P),b(P)):(p.__emitStop(),void y(!0))})})})};return this.__requestAbort(),this.__closeFileStream().then(function(){return p.__opts.removeOnStop?E():(p.__emitStop(),Promise.resolve(!0))})}},{key:"pipe",value:function(p){var E=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null;return this.__pipes.push({stream:p,options:E}),p}},{key:"unpipe",value:function(){var p=this,E=0<arguments.length&&arguments[0]!==void 0?arguments[0]:null,y=function(A){return p.__response?p.__response.unpipe(A):A.unpipe()};if(E){var b=this.__pipes.find(function(A){return A.stream===E});return void(b&&(y(E),this.__pipes=this.__pipes.filter(function(A){return A.stream!==E})))}this.__pipes.forEach(function(A){return y(A.stream)}),this.__pipes=[]}},{key:"getDownloadPath",value:function(){return this.__filePath}},{key:"isResumable",value:function(){return this.__isResumable}},{key:"updateOptions",value:function(p){var E=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"";this.__opts=Object.assign({},this.__opts,p),this.__headers=this.__opts.headers,-1<this.__opts.timeout&&(this.__opts.httpRequestOptions.timeout=this.__opts.timeout,this.__opts.httpsRequestOptions.timeout=this.__opts.timeout),(typeof this.__opts.progressThrottle!="number"||0>this.__opts.progressThrottle)&&(this.__opts.progressThrottle=this.__defaultOpts.progressThrottle),this.url=E||this.url,this.__reqOptions=this.__getReqOptions(this.__opts.method,this.url,this.__opts.headers),this.__initProtocol(this.url)}},{key:"getOptions",value:function(){return this.__opts}},{key:"getMetadata",value:function(){return this.__opts.metadata}},{key:"getStats",value:function(){return{total:this.__total,name:this.__fileName,downloaded:this.__downloaded,progress:this.__progress,speed:this.__statsEstimate.bytes}}},{key:"getTotalSize",value:function(){var p=this;return new Promise(function(E,y){var b=function(P){p.__initProtocol(P);var D=Object.assign({},p.__headers);D.hasOwnProperty("range")&&delete D.range;var q=p.__getReqOptions("HEAD",P,D);return Object.assign({},p.__reqOptions,q)},A=function(P,D){var q=p.__protocol.request(D,function($){if(p.__isRequireRedirect($)){var L=/^https?:\/\//.test($.headers.location)?$.headers.location:new t.URL($.headers.location,P).href;return p.emit("redirected",L,P),A(L,b(L))}return $.statusCode===200?void E({name:p.__getFileNameFromHeaders($.headers,$),total:parseInt($.headers["content-length"])||null}):y(new Error("Response status was "+$.statusCode))});q.on("error",function($){return y($)}),q.on("timeout",function(){return y(new Error("timeout"))}),q.on("uncaughtException",function($){return y($)}),q.end()};A(p.url,b(p.url))})}},{key:"getResumeState",value:function(){return{downloaded:this.__downloaded,filePath:this.__filePath,fileName:this.__fileName,total:this.__total}}},{key:"resumeFromFile",value:function(p){var E=this,y=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return this.__opts.override=!0,this.__filePath=p,(y.total&&y.fileName?Promise.resolve({name:y.fileName,total:y.total}):this.getTotalSize()).then(function(b){var A=b.name,P=b.total;return E.__total=y.total||P,E.__fileName=y.fileName||A,E.__downloaded=y.downloaded||E.__getFilesizeInBytes(E.__filePath),E.__reqOptions.headers.range="bytes="+E.__downloaded+"-",E.__isResumed=!0,E.__isResumable=!0,E.__setState(E.__states.RESUMED),E.emit("resume",E.__isResumed),new Promise(function(D,q){E.__promise={resolve:D,reject:q},E.__start()})})}},{key:"__start",value:function(){this.__isRedirected||this.state===this.__states.RESUMED||(this.emit("start"),this.__setState(this.__states.STARTED),this.__initProtocol(this.url)),this.__response=null,this.__isAborted=!1,this.__request&&!this.__request.destroyed&&this.__request.destroy(),this.__retryTimeout&&(clearTimeout(this.__retryTimeout),this.__retryTimeout=null),this.__request=this.__downloadRequest(this.__promise.resolve,this.__promise.reject),this.__request.on("error",this.__onError(this.__promise.resolve,this.__promise.reject)),this.__request.on("timeout",this.__onTimeout(this.__promise.resolve,this.__promise.reject)),this.__request.on("uncaughtException",this.__onError(this.__promise.resolve,this.__promise.reject,!0)),this.__opts.body&&this.__request.write(this.__opts.body),this.__request.end()}},{key:"__resolvePending",value:function(){if(this.__promise){var p=this.__promise.resolve;return this.__promise=null,p(!0)}}},{key:"__downloadRequest",value:function(p,E){var y=this;return this.__protocol.request(this.__reqOptions,function(b){if(y.__response=b,y.__isResumed||(y.__total=parseInt(b.headers["content-length"])||null,y.__resetStats()),y.__isRequireRedirect(b)){var A=/^https?:\/\//.test(b.headers.location)?b.headers.location:new t.URL(b.headers.location,y.url).href;return y.__isRedirected=!0,y.__initProtocol(A),y.emit("redirected",A,y.url),y.__start()}if(b.statusCode!==200&&b.statusCode!==206){var P=new Error("Response status was "+b.statusCode);return P.status=b.statusCode||0,P.body=b.body||"",y.__setState(y.__states.FAILED),y.emit("error",P),E(P)}(y.__opts.forceResume||b.headers.hasOwnProperty("accept-ranges")&&b.headers["accept-ranges"]!=="none")&&(y.__isResumable=!0),y.__startDownload(b,p,E)})}},{key:"__startDownload",value:function(p,E,y){var b=this,A=p;if(this.__isResumed)this.__fileStream=i.createWriteStream(this.__filePath,{flags:"a"});else{var P=this.__getFileNameFromHeaders(p.headers);if(this.__filePath=this.__getFilePath(P),this.__fileName=this.__filePath.split(r.sep).pop(),i.existsSync(this.__filePath)){var D=this.__getFilesizeInBytes(this.__filePath),q=this.__total?this.__total:0;if(s(this.__opts.override)==="object"&&this.__opts.override.skip&&(this.__opts.override.skipSmaller||D>=q))return this.emit("skip",{totalSize:this.__total,fileName:this.__fileName,filePath:this.__filePath,downloadedSize:D}),this.__setState(this.__states.SKIPPED),E(!0)}this.__fileStream=i.createWriteStream(this.__filePath,{})}this.emit("download",{fileName:this.__fileName,filePath:this.__filePath,totalSize:this.__total,isResumed:this.__isResumed,downloadedSize:this.__downloaded}),this.__retryCount=0,this.__isResumed=!1,this.__isRedirected=!1,this.__setState(this.__states.DOWNLOADING),this.__statsEstimate.time=new Date,this.__statsEstimate.throttleTime=new Date,A.on("data",function($){return b.__calculateStats($.length)}),this.__pipes.forEach(function($){A.pipe($.stream,$.options),A=$.stream}),A.pipe(this.__fileStream),A.on("error",this.__onError(E,y)),this.__fileStream.on("finish",this.__onFinished(E,y)),this.__fileStream.on("error",this.__onError(E,y))}},{key:"__hasFinished",value:function(){return!this.__isAborted&&[this.__states.PAUSED,this.__states.STOPPED,this.__states.RETRY,this.__states.FAILED,this.__states.RESUMED].indexOf(this.state)===-1}},{key:"__isRequireRedirect",value:function(p){return 300<p.statusCode&&400>p.statusCode&&p.headers.hasOwnProperty("location")&&p.headers.location}},{key:"__onFinished",value:function(p,E){var y=this;return function(){y.__fileStream.close(function(b){if(b)return E(b);if(y.__hasFinished()){var A=!!y.__total&&y.__downloaded!==y.__total;if(A&&y.__isResumable&&y.__opts.resumeOnIncomplete&&y.__resumeRetryCount<=y.__opts.resumeOnIncompleteMaxRetry)return y.__resumeRetryCount++,y.emit("warning",new Error("uncomplete download, retrying")),y.resume();y.__setState(y.__states.FINISHED),y.__pipes=[],y.emit("end",{fileName:y.__fileName,filePath:y.__filePath,totalSize:y.__total,incomplete:A,onDiskSize:y.__getFilesizeInBytes(y.__filePath),downloadedSize:y.__downloaded})}return p(y.__downloaded===y.__total)})}}},{key:"__closeFileStream",value:function(){var p=this;return this.__fileStream?new Promise(function(E,y){p.__fileStream.close(function(b){return b?y(b):E(!0)})}):Promise.resolve(!0)}},{key:"__onError",value:function(p,E){var y=this,b=2<arguments.length&&arguments[2]!==void 0&&arguments[2];return function(A){return y.__pipes=[],b&&y.__requestAbort(),y.state===y.__states.STOPPED||y.state===y.__states.FAILED?void 0:y.__opts.retry?y.__retry(A).catch(function(P){y.__removeFile().finally(function(){y.__setState(y.__states.FAILED),y.emit("error",P||A),E(P||A)})}):y.__removeFile().finally(function(){y.__setState(y.__states.FAILED),y.emit("error",A),E(A)})}}},{key:"__retry",value:function(){var p=this,E=0<arguments.length&&arguments[0]!==void 0?arguments[0]:null;if(!this.__opts.retry||s(this.__opts.retry)!=="object")return Promise.reject(E||new Error("wrong retry options"));var y=this.__opts.retry,b=y.delay,A=b===void 0?0:b,P=y.maxRetries,D=P===void 0?999:P;return this.__retryCount>=D?Promise.reject(E||new Error("reached the maximum retries")):(this.__retryCount++,this.__setState(this.__states.RETRY),this.emit("retry",this.__retryCount,this.__opts.retry,E),this.__response&&(this.__response.unpipe(),this.__pipes.forEach(function(q){return q.stream.unpipe()})),this.__fileStream&&this.__fileStream.removeAllListeners(),this.__requestAbort(),this.__closeFileStream().then(function(){return new Promise(function(q){return p.__retryTimeout=setTimeout(function(){return q(0<p.__downloaded?p.resume():p.__start())},A)})}))}},{key:"__onTimeout",value:function(p,E){var y=this;return function(){return y.__requestAbort(),y.__opts.retry?y.__retry(new Error("timeout")).catch(function(b){y.__removeFile().finally(function(){y.__setState(y.__states.FAILED),b?E(b):(y.emit("timeout"),E(new Error("timeout")))})}):y.__removeFile().finally(function(){y.__setState(y.__states.FAILED),y.emit("timeout"),E(new Error("timeout"))})}}},{key:"__resetStats",value:function(){this.__retryCount=0,this.__downloaded=0,this.__progress=0,this.__resumeRetryCount=0,this.__statsEstimate={time:0,bytes:0,prevBytes:0,throttleTime:0}}},{key:"__getFileNameFromHeaders",value:function(p,E){var y="",b=/.*filename\*=.*?'.*?'([^"].+?[^"])(?:(?:;)|$)/i,A=/.*filename="(.*?)";?/i,P=/.*filename=([^"].+?[^"])(?:(?:;)|$)/i,D=p.hasOwnProperty("content-disposition"),q=D?p["content-disposition"].match(b):null,$=!D||q?null:p["content-disposition"].match(A),L=!D||q||$?null:p["content-disposition"].match(P);return D&&(q||$||L)?(y=p["content-disposition"],y=y.trim(),q?y=q[1]:$?y=$[1]:L&&(y=L[1]),y=y.replace(/[/\\]/g,"")):0<r.basename(new t.URL(this.requestURL).pathname).length?y=r.basename(new t.URL(this.requestURL).pathname):y=new t.URL(this.requestURL).hostname+".html",this.__opts.fileName?this.__getFileNameFromOpts(y,E):y.replace(/\.*$/,"")}},{key:"__getFilePath",value:function(p){var E=r.join(this.__destFolder,p),y=E;return this.__opts.override||this.state===this.__states.RESUMED||(y=this.__uniqFileNameSync(y),E!==y&&this.emit("renamed",{path:y,fileName:y.split(r.sep).pop(),prevPath:E,prevFileName:E.split(r.sep).pop()})),y}},{key:"__getFileNameFromOpts",value:function(p,E){if(!this.__opts.fileName)return p;if(typeof this.__opts.fileName=="string")return this.__opts.fileName;if(typeof this.__opts.fileName=="function"){var y=r.join(this.__destFolder,p);return E&&E.headers||this.__response&&this.__response.headers?this.__opts.fileName(p,y,(E||this.__response).headers["content-type"]):this.__opts.fileName(p,y)}if(s(this.__opts.fileName)==="object"){var b=this.__opts.fileName,A=b.name,P=!!b.hasOwnProperty("ext")&&b.ext;if(typeof P=="string")return A+"."+P;if(typeof P=="boolean"){if(P)return A;var D=p.includes(".")?p.split(".").pop():"";return D===""?A:A+"."+D}}return p}},{key:"__calculateStats",value:function(p){var E=new Date,y=E-this.__statsEstimate.time,b=E-this.__statsEstimate.throttleTime,A=this.__total||0;p&&(this.__downloaded+=p,this.__progress=A===0?0:100*(this.__downloaded/A),(this.__downloaded===A||1e3<y)&&(this.__statsEstimate.time=E,this.__statsEstimate.bytes=this.__downloaded-this.__statsEstimate.prevBytes,this.__statsEstimate.prevBytes=this.__downloaded),(this.__downloaded===A||b>this.__opts.progressThrottle)&&(this.__statsEstimate.throttleTime=E,this.emit("progress.throttled",this.getStats())),this.emit("progress",this.getStats()))}},{key:"__setState",value:function(p){this.state=p,this.emit("stateChanged",this.state)}},{key:"__getReqOptions",value:function(p,E){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},b=new t.URL(E),A={protocol:b.protocol,host:b.hostname,port:b.port,path:b.pathname+b.search,method:p};return y&&(A.headers=y),A}},{key:"__getFilesizeInBytes",value:function(p){try{var E=i.statSync(p,{throwIfNoEntry:!1}),y=E.size||0;return y}catch(b){this.emit("warning",b)}return 0}},{key:"__validate",value:function(p,E){if(typeof p!="string")throw new Error("URL should be an string");if(p.trim()==="")throw new Error("URL couldn't be empty");if(typeof E!="string")throw new Error("Destination Folder should be an string");if(E.trim()==="")throw new Error("Destination Folder couldn't be empty");if(!i.existsSync(E))throw new Error("Destination Folder must exist");var y=i.statSync(E);if(!y.isDirectory())throw new Error("Destination Folder must be a directory");try{i.accessSync(E,i.constants.W_OK)}catch{throw new Error("Destination Folder must be writable")}return!0}},{key:"__initProtocol",value:function(p){var E=this.__getReqOptions(this.__opts.method,p,this.__headers);this.requestURL=p,-1<p.indexOf("https://")?(this.__protocol=v,E.agent=new v.Agent({keepAlive:!1}),this.__reqOptions=Object.assign({},E,this.__opts.httpsRequestOptions)):(this.__protocol=l,E.agent=new l.Agent({keepAlive:!1}),this.__reqOptions=Object.assign({},E,this.__opts.httpRequestOptions))}},{key:"__uniqFileNameSync",value:function(p){if(typeof p!="string"||p==="")return p;try{i.accessSync(p,i.F_OK);var E=p.match(/(.*)(\([0-9]+\))(\..*)$/),y=E?E[1].trim():p,b=E?parseInt(E[2].replace(/\(|\)/,"")):0,A=p.split(".").pop();return A!==p&&0<A.length?(A="."+A,y=y.replace(A,"")):A="",this.__uniqFileNameSync(y+" ("+ ++b+")"+A)}catch{return p}}},{key:"__removeFile",value:function(){var p=this;return new Promise(function(E){return p.__fileStream?void p.__fileStream.close(function(y){return y&&p.emit("warning",y),p.__opts.removeOnFail?i.access(p.__filePath,function(b){return b?E():void i.unlink(p.__filePath,function(A){A&&p.emit("warning",y),E()})}):void E()}):E()})}},{key:"__requestAbort",value:function(){this.__isAborted=!0,this.__retryTimeout&&(clearTimeout(this.__retryTimeout),this.__retryTimeout=null),this.__response&&this.__response.destroy(),this.__request&&(this.__request.destroy?this.__request.destroy():this.__request.abort())}},{key:"__emitStop",value:function(){this.__resolvePending(),this.__setState(this.__states.STOPPED),this.emit("stop")}}]),c}(_.EventEmitter)}(ms)),ms}var kg=qg(),_s,Mc;function Mg(){if(Mc)return _s;Mc=1;const n=new Map([["C","cwd"],["f","file"],["z","gzip"],["P","preservePaths"],["U","unlink"],["strip-components","strip"],["stripComponents","strip"],["keep-newer","newer"],["keepNewer","newer"],["keep-newer-files","newer"],["keepNewerFiles","newer"],["k","keep"],["keep-existing","keep"],["keepExisting","keep"],["m","noMtime"],["no-mtime","noMtime"],["p","preserveOwner"],["L","follow"],["h","follow"]]);return _s=s=>s?Object.keys(s).map(o=>[n.has(o)?n.get(o):o,s[o]]).reduce((o,h)=>(o[h[0]]=h[1],o),Object.create(null)):{},_s}var gs,Bc;function Bg(){return Bc||(Bc=1,gs=n=>class extends n{warn(s,o,h={}){this.file&&(h.file=this.file),this.cwd&&(h.cwd=this.cwd),h.code=o instanceof Error&&o.code||s,h.tarCode=s,!this.strict&&h.recoverable!==!1?(o instanceof Error&&(h=Object.assign(o,h),o=o.message),this.emit("warn",h.tarCode,o,h)):o instanceof Error?this.emit("error",Object.assign(o,h)):this.emit("error",Object.assign(new Error(`${s}: ${o}`),h))}}),gs}var ys={},jc;function jg(){return jc||(jc=1,function(n){n.name=new Map([["0","File"],["","OldFile"],["1","Link"],["2","SymbolicLink"],["3","CharacterDevice"],["4","BlockDevice"],["5","Directory"],["6","FIFO"],["7","ContiguousFile"],["g","GlobalExtendedHeader"],["x","ExtendedHeader"],["A","SolarisACL"],["D","GNUDumpDir"],["I","Inode"],["K","NextFileHasLongLinkpath"],["L","NextFileHasLongPath"],["M","ContinuationFile"],["N","OldGnuLongPath"],["S","SparseFile"],["V","TapeVolumeHeader"],["X","OldExtendedHeader"]]),n.code=new Map(Array.from(n.name).map(s=>[s[1],s[0]]))}(ys)),ys}var vs,Hc;function Hg(){if(Hc)return vs;Hc=1;const n=(u,l)=>{if(Number.isSafeInteger(u))u<0?o(u,l):s(u,l);else throw Error("cannot encode number outside of javascript safe integer range");return l},s=(u,l)=>{l[0]=128;for(var d=l.length;d>1;d--)l[d-1]=u&255,u=Math.floor(u/256)},o=(u,l)=>{l[0]=255;var d=!1;u=u*-1;for(var v=l.length;v>1;v--){var _=u&255;u=Math.floor(u/256),d?l[v-1]=e(_):_===0?l[v-1]=0:(d=!0,l[v-1]=r(_))}},h=u=>{const l=u[0],d=l===128?t(u.slice(1,u.length)):l===255?i(u):null;if(d===null)throw Error("invalid base256 encoding");if(!Number.isSafeInteger(d))throw Error("parsed number outside of javascript safe integer range");return d},i=u=>{for(var l=u.length,d=0,v=!1,_=l-1;_>-1;_--){var R=u[_],w;v?w=e(R):R===0?w=R:(v=!0,w=r(R)),w!==0&&(d-=w*Math.pow(256,l-_-1))}return d},t=u=>{for(var l=u.length,d=0,v=l-1;v>-1;v--){var _=u[v];_!==0&&(d+=_*Math.pow(256,l-v-1))}return d},e=u=>(255^u)&255,r=u=>(255^u)+1&255;return vs={encode:n,parse:h},vs}var Es,Uc;function Yh(){if(Uc)return Es;Uc=1;const n=jg(),s=Q.posix,o=Hg(),h=Symbol("slurp"),i=Symbol("type");class t{constructor(E,y,b,A){this.cksumValid=!1,this.needPax=!1,this.nullBlock=!1,this.block=null,this.path=null,this.mode=null,this.uid=null,this.gid=null,this.size=null,this.mtime=null,this.cksum=null,this[i]="0",this.linkpath=null,this.uname=null,this.gname=null,this.devmaj=0,this.devmin=0,this.atime=null,this.ctime=null,Buffer.isBuffer(E)?this.decode(E,y||0,b,A):E&&this.set(E)}decode(E,y,b,A){if(y||(y=0),!E||!(E.length>=y+512))throw new Error("need 512 bytes for header");if(this.path=r(E,y,100),this.mode=d(E,y+100,8),this.uid=d(E,y+108,8),this.gid=d(E,y+116,8),this.size=d(E,y+124,12),this.mtime=u(E,y+136,12),this.cksum=d(E,y+148,12),this[h](b),this[h](A,!0),this[i]=r(E,y+156,1),this[i]===""&&(this[i]="0"),this[i]==="0"&&this.path.slice(-1)==="/"&&(this[i]="5"),this[i]==="5"&&(this.size=0),this.linkpath=r(E,y+157,100),E.slice(y+257,y+265).toString()==="ustar\x0000")if(this.uname=r(E,y+265,32),this.gname=r(E,y+297,32),this.devmaj=d(E,y+329,8),this.devmin=d(E,y+337,8),E[y+475]!==0){const D=r(E,y+345,155);this.path=D+"/"+this.path}else{const D=r(E,y+345,130);D&&(this.path=D+"/"+this.path),this.atime=u(E,y+476,12),this.ctime=u(E,y+488,12)}let P=8*32;for(let D=y;D<y+148;D++)P+=E[D];for(let D=y+156;D<y+512;D++)P+=E[D];this.cksumValid=P===this.cksum,this.cksum===null&&P===8*32&&(this.nullBlock=!0)}[h](E,y){for(const b in E)E[b]!==null&&E[b]!==void 0&&!(y&&b==="path")&&(this[b]=E[b])}encode(E,y){if(E||(E=this.block=Buffer.alloc(512),y=0),y||(y=0),!(E.length>=y+512))throw new Error("need 512 bytes for header");const b=this.ctime||this.atime?130:155,A=e(this.path||"",b),P=A[0],D=A[1];this.needPax=A[2],this.needPax=m(E,y,100,P)||this.needPax,this.needPax=w(E,y+100,8,this.mode)||this.needPax,this.needPax=w(E,y+108,8,this.uid)||this.needPax,this.needPax=w(E,y+116,8,this.gid)||this.needPax,this.needPax=w(E,y+124,12,this.size)||this.needPax,this.needPax=f(E,y+136,12,this.mtime)||this.needPax,E[y+156]=this[i].charCodeAt(0),this.needPax=m(E,y+157,100,this.linkpath)||this.needPax,E.write("ustar\x0000",y+257,8),this.needPax=m(E,y+265,32,this.uname)||this.needPax,this.needPax=m(E,y+297,32,this.gname)||this.needPax,this.needPax=w(E,y+329,8,this.devmaj)||this.needPax,this.needPax=w(E,y+337,8,this.devmin)||this.needPax,this.needPax=m(E,y+345,b,D)||this.needPax,E[y+475]!==0?this.needPax=m(E,y+345,155,D)||this.needPax:(this.needPax=m(E,y+345,130,D)||this.needPax,this.needPax=f(E,y+476,12,this.atime)||this.needPax,this.needPax=f(E,y+488,12,this.ctime)||this.needPax);let q=8*32;for(let $=y;$<y+148;$++)q+=E[$];for(let $=y+156;$<y+512;$++)q+=E[$];return this.cksum=q,w(E,y+148,8,this.cksum),this.cksumValid=!0,this.needPax}set(E){for(const y in E)E[y]!==null&&E[y]!==void 0&&(this[y]=E[y])}get type(){return n.name.get(this[i])||this[i]}get typeKey(){return this[i]}set type(E){n.code.has(E)?this[i]=n.code.get(E):this[i]=E}}const e=(p,E)=>{let b=p,A="",P;const D=s.parse(p).root||".";if(Buffer.byteLength(b)<100)P=[b,A,!1];else{A=s.dirname(b),b=s.basename(b);do Buffer.byteLength(b)<=100&&Buffer.byteLength(A)<=E?P=[b,A,!1]:Buffer.byteLength(b)>100&&Buffer.byteLength(A)<=E?P=[b.slice(0,99),A,!0]:(b=s.join(s.basename(A),b),A=s.dirname(A));while(A!==D&&!P);P||(P=[p.slice(0,99),"",!0])}return P},r=(p,E,y)=>p.slice(E,E+y).toString("utf8").replace(/\0.*/,""),u=(p,E,y)=>l(d(p,E,y)),l=p=>p===null?null:new Date(p*1e3),d=(p,E,y)=>p[E]&128?o.parse(p.slice(E,E+y)):_(p,E,y),v=p=>isNaN(p)?null:p,_=(p,E,y)=>v(parseInt(p.slice(E,E+y).toString("utf8").replace(/\0.*$/,"").trim(),8)),R={12:8589934591,8:2097151},w=(p,E,y,b)=>b===null?!1:b>R[y]||b<0?(o.encode(b,p.slice(E,E+y)),!0):(S(p,E,y,b),!1),S=(p,E,y,b)=>p.write(g(b,y),E,y,"ascii"),g=(p,E)=>a(Math.floor(p).toString(8),E),a=(p,E)=>(p.length===E-1?p:new Array(E-p.length-1).join("0")+p+" ")+"\0",f=(p,E,y,b)=>b===null?!1:w(p,E,y,b.getTime()/1e3),c=new Array(156).join("\0"),m=(p,E,y,b)=>b===null?!1:(p.write(b+c,E,y,"utf8"),b.length!==Buffer.byteLength(b)||b.length>y);return Es=t,Es}var Ss,Vc;function Ug(){return Vc||(Vc=1,Ss=function(n){n.prototype[Symbol.iterator]=function*(){for(let s=this.head;s;s=s.next)yield s.value}}),Ss}var Rs,Gc;function Vg(){if(Gc)return Rs;Gc=1,Rs=n,n.Node=i,n.create=n;function n(t){var e=this;if(e instanceof n||(e=new n),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(l){e.push(l)});else if(arguments.length>0)for(var r=0,u=arguments.length;r<u;r++)e.push(arguments[r]);return e}n.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e},n.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}},n.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}},n.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)o(this,arguments[t]);return this.length},n.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)h(this,arguments[t]);return this.length},n.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}},n.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}},n.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,u=0;r!==null;u++)t.call(e,r.value,u,this),r=r.next},n.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,u=this.length-1;r!==null;u--)t.call(e,r.value,u,this),r=r.prev},n.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value},n.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value},n.prototype.map=function(t,e){e=e||this;for(var r=new n,u=this.head;u!==null;)r.push(t.call(e,u.value,this)),u=u.next;return r},n.prototype.mapReverse=function(t,e){e=e||this;for(var r=new n,u=this.tail;u!==null;)r.push(t.call(e,u.value,this)),u=u.prev;return r},n.prototype.reduce=function(t,e){var r,u=this.head;if(arguments.length>1)r=e;else if(this.head)u=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var l=0;u!==null;l++)r=t(r,u.value,l),u=u.next;return r},n.prototype.reduceReverse=function(t,e){var r,u=this.tail;if(arguments.length>1)r=e;else if(this.tail)u=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var l=this.length-1;u!==null;l--)r=t(r,u.value,l),u=u.prev;return r},n.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t},n.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t},n.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new n;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var u=0,l=this.head;l!==null&&u<t;u++)l=l.next;for(;l!==null&&u<e;u++,l=l.next)r.push(l.value);return r},n.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new n;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var u=this.length,l=this.tail;l!==null&&u>e;u--)l=l.prev;for(;l!==null&&u>t;u--,l=l.prev)r.push(l.value);return r},n.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var u=0,l=this.head;l!==null&&u<t;u++)l=l.next;for(var d=[],u=0;l&&u<e;u++)d.push(l.value),l=this.removeNode(l);l===null&&(l=this.tail),l!==this.head&&l!==this.tail&&(l=l.prev);for(var u=0;u<r.length;u++)l=s(this,l,r[u]);return d},n.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var u=r.prev;r.prev=r.next,r.next=u}return this.head=e,this.tail=t,this};function s(t,e,r){var u=e===t.head?new i(r,null,e,t):new i(r,e,e.next,t);return u.next===null&&(t.tail=u),u.prev===null&&(t.head=u),t.length++,u}function o(t,e){t.tail=new i(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function h(t,e){t.head=new i(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function i(t,e,r,u){if(!(this instanceof i))return new i(t,e,r,u);this.list=u,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{Ug()(n)}catch{}return Rs}var ws={},Wc;function Gg(){if(Wc)return ws;Wc=1;const n=typeof process=="object"&&process?process:{stdout:null,stderr:null},s=Fe,o=qe,i=_h.StringDecoder,t=Symbol("EOF"),e=Symbol("maybeEmitEnd"),r=Symbol("emittedEnd"),u=Symbol("emittingEnd"),l=Symbol("emittedError"),d=Symbol("closed"),v=Symbol("read"),_=Symbol("flush"),R=Symbol("flushChunk"),w=Symbol("encoding"),S=Symbol("decoder"),g=Symbol("flowing"),a=Symbol("paused"),f=Symbol("resume"),c=Symbol("buffer"),m=Symbol("pipes"),p=Symbol("bufferLength"),E=Symbol("bufferPush"),y=Symbol("bufferShift"),b=Symbol("objectMode"),A=Symbol("destroyed"),P=Symbol("error"),D=Symbol("emitData"),q=Symbol("emitEnd"),$=Symbol("emitEnd2"),L=Symbol("async"),C=Symbol("abort"),I=Symbol("aborted"),M=Symbol("signal"),U=V=>Promise.resolve().then(V),W=xe._MP_NO_ITERATOR_SYMBOLS_!=="1",j=W&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),O=W&&Symbol.iterator||Symbol("iterator not implemented"),x=V=>V==="end"||V==="finish"||V==="prefinish",z=V=>V instanceof ArrayBuffer||typeof V=="object"&&V.constructor&&V.constructor.name==="ArrayBuffer"&&V.byteLength>=0,ee=V=>!Buffer.isBuffer(V)&&ArrayBuffer.isView(V);class k{constructor(F,B,Y){this.src=F,this.dest=B,this.opts=Y,this.ondrain=()=>F[f](),B.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}}class N extends k{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(F,B,Y){super(F,B,Y),this.proxyErrors=J=>B.emit("error",J),F.on("error",this.proxyErrors)}}class H extends o{constructor(F){super(),this[g]=!1,this[a]=!1,this[m]=[],this[c]=[],this[b]=F&&F.objectMode||!1,this[b]?this[w]=null:this[w]=F&&F.encoding||null,this[w]==="buffer"&&(this[w]=null),this[L]=F&&!!F.async||!1,this[S]=this[w]?new i(this[w]):null,this[t]=!1,this[r]=!1,this[u]=!1,this[d]=!1,this[l]=null,this.writable=!0,this.readable=!0,this[p]=0,this[A]=!1,F&&F.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[c]}),F&&F.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[m]}),this[M]=F&&F.signal,this[I]=!1,this[M]&&(this[M].addEventListener("abort",()=>this[C]()),this[M].aborted&&this[C]())}get bufferLength(){return this[p]}get encoding(){return this[w]}set encoding(F){if(this[b])throw new Error("cannot set encoding in objectMode");if(this[w]&&F!==this[w]&&(this[S]&&this[S].lastNeed||this[p]))throw new Error("cannot change encoding");this[w]!==F&&(this[S]=F?new i(F):null,this[c].length&&(this[c]=this[c].map(B=>this[S].write(B)))),this[w]=F}setEncoding(F){this.encoding=F}get objectMode(){return this[b]}set objectMode(F){this[b]=this[b]||!!F}get async(){return this[L]}set async(F){this[L]=this[L]||!!F}[C](){this[I]=!0,this.emit("abort",this[M].reason),this.destroy(this[M].reason)}get aborted(){return this[I]}set aborted(F){}write(F,B,Y){if(this[I])return!1;if(this[t])throw new Error("write after end");if(this[A])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof B=="function"&&(Y=B,B="utf8"),B||(B="utf8");const J=this[L]?U:re=>re();return!this[b]&&!Buffer.isBuffer(F)&&(ee(F)?F=Buffer.from(F.buffer,F.byteOffset,F.byteLength):z(F)?F=Buffer.from(F):typeof F!="string"&&(this.objectMode=!0)),this[b]?(this.flowing&&this[p]!==0&&this[_](!0),this.flowing?this.emit("data",F):this[E](F),this[p]!==0&&this.emit("readable"),Y&&J(Y),this.flowing):F.length?(typeof F=="string"&&!(B===this[w]&&!this[S].lastNeed)&&(F=Buffer.from(F,B)),Buffer.isBuffer(F)&&this[w]&&(F=this[S].write(F)),this.flowing&&this[p]!==0&&this[_](!0),this.flowing?this.emit("data",F):this[E](F),this[p]!==0&&this.emit("readable"),Y&&J(Y),this.flowing):(this[p]!==0&&this.emit("readable"),Y&&J(Y),this.flowing)}read(F){if(this[A])return null;if(this[p]===0||F===0||F>this[p])return this[e](),null;this[b]&&(F=null),this[c].length>1&&!this[b]&&(this.encoding?this[c]=[this[c].join("")]:this[c]=[Buffer.concat(this[c],this[p])]);const B=this[v](F||null,this[c][0]);return this[e](),B}[v](F,B){return F===B.length||F===null?this[y]():(this[c][0]=B.slice(F),B=B.slice(0,F),this[p]-=F),this.emit("data",B),!this[c].length&&!this[t]&&this.emit("drain"),B}end(F,B,Y){return typeof F=="function"&&(Y=F,F=null),typeof B=="function"&&(Y=B,B="utf8"),F&&this.write(F,B),Y&&this.once("end",Y),this[t]=!0,this.writable=!1,(this.flowing||!this[a])&&this[e](),this}[f](){this[A]||(this[a]=!1,this[g]=!0,this.emit("resume"),this[c].length?this[_]():this[t]?this[e]():this.emit("drain"))}resume(){return this[f]()}pause(){this[g]=!1,this[a]=!0}get destroyed(){return this[A]}get flowing(){return this[g]}get paused(){return this[a]}[E](F){this[b]?this[p]+=1:this[p]+=F.length,this[c].push(F)}[y](){return this[b]?this[p]-=1:this[p]-=this[c][0].length,this[c].shift()}[_](F){do;while(this[R](this[y]())&&this[c].length);!F&&!this[c].length&&!this[t]&&this.emit("drain")}[R](F){return this.emit("data",F),this.flowing}pipe(F,B){if(this[A])return;const Y=this[r];return B=B||{},F===n.stdout||F===n.stderr?B.end=!1:B.end=B.end!==!1,B.proxyErrors=!!B.proxyErrors,Y?B.end&&F.end():(this[m].push(B.proxyErrors?new N(this,F,B):new k(this,F,B)),this[L]?U(()=>this[f]()):this[f]()),F}unpipe(F){const B=this[m].find(Y=>Y.dest===F);B&&(this[m].splice(this[m].indexOf(B),1),B.unpipe())}addListener(F,B){return this.on(F,B)}on(F,B){const Y=super.on(F,B);return F==="data"&&!this[m].length&&!this.flowing?this[f]():F==="readable"&&this[p]!==0?super.emit("readable"):x(F)&&this[r]?(super.emit(F),this.removeAllListeners(F)):F==="error"&&this[l]&&(this[L]?U(()=>B.call(this,this[l])):B.call(this,this[l])),Y}get emittedEnd(){return this[r]}[e](){!this[u]&&!this[r]&&!this[A]&&this[c].length===0&&this[t]&&(this[u]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[d]&&this.emit("close"),this[u]=!1)}emit(F,B,...Y){if(F!=="error"&&F!=="close"&&F!==A&&this[A])return;if(F==="data")return!this[b]&&!B?!1:this[L]?U(()=>this[D](B)):this[D](B);if(F==="end")return this[q]();if(F==="close"){if(this[d]=!0,!this[r]&&!this[A])return;const re=super.emit("close");return this.removeAllListeners("close"),re}else if(F==="error"){this[l]=B,super.emit(P,B);const re=!this[M]||this.listeners("error").length?super.emit("error",B):!1;return this[e](),re}else if(F==="resume"){const re=super.emit("resume");return this[e](),re}else if(F==="finish"||F==="prefinish"){const re=super.emit(F);return this.removeAllListeners(F),re}const J=super.emit(F,B,...Y);return this[e](),J}[D](F){for(const Y of this[m])Y.dest.write(F)===!1&&this.pause();const B=super.emit("data",F);return this[e](),B}[q](){this[r]||(this[r]=!0,this.readable=!1,this[L]?U(()=>this[$]()):this[$]())}[$](){if(this[S]){const B=this[S].end();if(B){for(const Y of this[m])Y.dest.write(B);super.emit("data",B)}}for(const B of this[m])B.end();const F=super.emit("end");return this.removeAllListeners("end"),F}collect(){const F=[];this[b]||(F.dataLength=0);const B=this.promise();return this.on("data",Y=>{F.push(Y),this[b]||(F.dataLength+=Y.length)}),B.then(()=>F)}concat(){return this[b]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(F=>this[b]?Promise.reject(new Error("cannot concat in objectMode")):this[w]?F.join(""):Buffer.concat(F,F.dataLength))}promise(){return new Promise((F,B)=>{this.on(A,()=>B(new Error("stream destroyed"))),this.on("error",Y=>B(Y)),this.on("end",()=>F())})}[j](){let F=!1;const B=()=>(this.pause(),F=!0,Promise.resolve({done:!0}));return{next:()=>{if(F)return B();const J=this.read();if(J!==null)return Promise.resolve({done:!1,value:J});if(this[t])return B();let re=null,oe=null;const Z=G=>{this.removeListener("data",T),this.removeListener("end",X),this.removeListener(A,te),B(),oe(G)},T=G=>{this.removeListener("error",Z),this.removeListener("end",X),this.removeListener(A,te),this.pause(),re({value:G,done:!!this[t]})},X=()=>{this.removeListener("error",Z),this.removeListener("data",T),this.removeListener(A,te),B(),re({done:!0})},te=()=>Z(new Error("stream destroyed"));return new Promise((G,ie)=>{oe=ie,re=G,this.once(A,te),this.once("error",Z),this.once("end",X),this.once("data",T)})},throw:B,return:B,[j](){return this}}}[O](){let F=!1;const B=()=>(this.pause(),this.removeListener(P,B),this.removeListener(A,B),this.removeListener("end",B),F=!0,{done:!0}),Y=()=>{if(F)return B();const J=this.read();return J===null?B():{value:J}};return this.once("end",B),this.once(P,B),this.once(A,B),{next:Y,throw:B,return:B,[O](){return this}}}destroy(F){return this[A]?(F?this.emit("error",F):this.emit(A),this):(this[A]=!0,this[c].length=0,this[p]=0,typeof this.close=="function"&&!this[d]&&this.close(),F?this.emit("error",F):this.emit(A),this)}static isStream(F){return!!F&&(F instanceof H||F instanceof o||F instanceof s&&(typeof F.pipe=="function"||typeof F.write=="function"&&typeof F.end=="function"))}}return ws.Minipass=H,ws}var Os,zc;function so(){return zc||(zc=1,Os=(process.env.TESTING_TAR_FAKE_PLATFORM||process.platform)!=="win32"?s=>s:s=>s&&s.replace(/\\/g,"/")),Os}var bs,Yc;function Wg(){if(Yc)return bs;Yc=1;const{Minipass:n}=Gg(),s=so(),o=Symbol("slurp");return bs=class extends n{constructor(i,t,e){switch(super(),this.pause(),this.extended=t,this.globalExtended=e,this.header=i,this.startBlockSize=512*Math.ceil(i.size/512),this.blockRemain=this.startBlockSize,this.remain=i.size,this.type=i.type,this.meta=!1,this.ignore=!1,this.type){case"File":case"OldFile":case"Link":case"SymbolicLink":case"CharacterDevice":case"BlockDevice":case"Directory":case"FIFO":case"ContiguousFile":case"GNUDumpDir":break;case"NextFileHasLongLinkpath":case"NextFileHasLongPath":case"OldGnuLongPath":case"GlobalExtendedHeader":case"ExtendedHeader":case"OldExtendedHeader":this.meta=!0;break;default:this.ignore=!0}this.path=s(i.path),this.mode=i.mode,this.mode&&(this.mode=this.mode&4095),this.uid=i.uid,this.gid=i.gid,this.uname=i.uname,this.gname=i.gname,this.size=i.size,this.mtime=i.mtime,this.atime=i.atime,this.ctime=i.ctime,this.linkpath=s(i.linkpath),this.uname=i.uname,this.gname=i.gname,t&&this[o](t),e&&this[o](e,!0)}write(i){const t=i.length;if(t>this.blockRemain)throw new Error("writing more to entry than is appropriate");const e=this.remain,r=this.blockRemain;return this.remain=Math.max(0,e-t),this.blockRemain=Math.max(0,r-t),this.ignore?!0:e>=t?super.write(i):super.write(i.slice(0,e))}[o](i,t){for(const e in i)i[e]!==null&&i[e]!==void 0&&!(t&&e==="path")&&(this[e]=e==="path"||e==="linkpath"?s(i[e]):i[e])}},bs}var As,Kc;function zg(){if(Kc)return As;Kc=1;const n=Yh(),s=Q;class o{constructor(r,u){this.atime=r.atime||null,this.charset=r.charset||null,this.comment=r.comment||null,this.ctime=r.ctime||null,this.gid=r.gid||null,this.gname=r.gname||null,this.linkpath=r.linkpath||null,this.mtime=r.mtime||null,this.path=r.path||null,this.size=r.size||null,this.uid=r.uid||null,this.uname=r.uname||null,this.dev=r.dev||null,this.ino=r.ino||null,this.nlink=r.nlink||null,this.global=u||!1}encode(){const r=this.encodeBody();if(r==="")return null;const u=Buffer.byteLength(r),l=512*Math.ceil(1+u/512),d=Buffer.allocUnsafe(l);for(let v=0;v<512;v++)d[v]=0;new n({path:("PaxHeader/"+s.basename(this.path)).slice(0,99),mode:this.mode||420,uid:this.uid||null,gid:this.gid||null,size:u,mtime:this.mtime||null,type:this.global?"GlobalExtendedHeader":"ExtendedHeader",linkpath:"",uname:this.uname||"",gname:this.gname||"",devmaj:0,devmin:0,atime:this.atime||null,ctime:this.ctime||null}).encode(d),d.write(r,512,u,"utf8");for(let v=u+512;v<d.length;v++)d[v]=0;return d}encodeBody(){return this.encodeField("path")+this.encodeField("ctime")+this.encodeField("atime")+this.encodeField("dev")+this.encodeField("ino")+this.encodeField("nlink")+this.encodeField("charset")+this.encodeField("comment")+this.encodeField("gid")+this.encodeField("gname")+this.encodeField("linkpath")+this.encodeField("mtime")+this.encodeField("size")+this.encodeField("uid")+this.encodeField("uname")}encodeField(r){if(this[r]===null||this[r]===void 0)return"";const u=this[r]instanceof Date?this[r].getTime()/1e3:this[r],l=" "+(r==="dev"||r==="ino"||r==="nlink"?"SCHILY.":"")+r+"="+u+`
`,d=Buffer.byteLength(l);let v=Math.floor(Math.log(d)/Math.log(10))+1;return d+v>=Math.pow(10,v)&&(v+=1),v+d+l}}o.parse=(e,r,u)=>new o(h(i(e),r),u);const h=(e,r)=>r?Object.keys(e).reduce((u,l)=>(u[l]=e[l],u),r):e,i=e=>e.replace(/\n$/,"").split(`
`).reduce(t,Object.create(null)),t=(e,r)=>{const u=parseInt(r,10);if(u!==Buffer.byteLength(r)+1)return e;r=r.slice((u+" ").length);const l=r.split("="),d=l.shift().replace(/^SCHILY\.(dev|ino|nlink)/,"$1");if(!d)return e;const v=l.join("=");return e[d]=/^([A-Z]+\.)?([mac]|birth|creation)time$/.test(d)?new Date(v*1e3):/^[0-9]+$/.test(v)?+v:v,e};return As=o,As}var ye={},Ts,Xc;function Yg(){if(Xc)return Ts;Xc=1;const n=gh.constants||{ZLIB_VERNUM:4736};return Ts=Object.freeze(Object.assign(Object.create(null),{Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_VERSION_ERROR:-6,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,DEFLATE:1,INFLATE:2,GZIP:3,GUNZIP:4,DEFLATERAW:5,INFLATERAW:6,UNZIP:7,BROTLI_DECODE:8,BROTLI_ENCODE:9,Z_MIN_WINDOWBITS:8,Z_MAX_WINDOWBITS:15,Z_DEFAULT_WINDOWBITS:15,Z_MIN_CHUNK:64,Z_MAX_CHUNK:1/0,Z_DEFAULT_CHUNK:16384,Z_MIN_MEMLEVEL:1,Z_MAX_MEMLEVEL:9,Z_DEFAULT_MEMLEVEL:8,Z_MIN_LEVEL:-1,Z_MAX_LEVEL:9,Z_DEFAULT_LEVEL:-1,BROTLI_OPERATION_PROCESS:0,BROTLI_OPERATION_FLUSH:1,BROTLI_OPERATION_FINISH:2,BROTLI_OPERATION_EMIT_METADATA:3,BROTLI_MODE_GENERIC:0,BROTLI_MODE_TEXT:1,BROTLI_MODE_FONT:2,BROTLI_DEFAULT_MODE:0,BROTLI_MIN_QUALITY:0,BROTLI_MAX_QUALITY:11,BROTLI_DEFAULT_QUALITY:11,BROTLI_MIN_WINDOW_BITS:10,BROTLI_MAX_WINDOW_BITS:24,BROTLI_LARGE_MAX_WINDOW_BITS:30,BROTLI_DEFAULT_WINDOW:22,BROTLI_MIN_INPUT_BLOCK_BITS:16,BROTLI_MAX_INPUT_BLOCK_BITS:24,BROTLI_PARAM_MODE:0,BROTLI_PARAM_QUALITY:1,BROTLI_PARAM_LGWIN:2,BROTLI_PARAM_LGBLOCK:3,BROTLI_PARAM_DISABLE_LITERAL_CONTEXT_MODELING:4,BROTLI_PARAM_SIZE_HINT:5,BROTLI_PARAM_LARGE_WINDOW:6,BROTLI_PARAM_NPOSTFIX:7,BROTLI_PARAM_NDIRECT:8,BROTLI_DECODER_RESULT_ERROR:0,BROTLI_DECODER_RESULT_SUCCESS:1,BROTLI_DECODER_RESULT_NEEDS_MORE_INPUT:2,BROTLI_DECODER_RESULT_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_PARAM_DISABLE_RING_BUFFER_REALLOCATION:0,BROTLI_DECODER_PARAM_LARGE_WINDOW:1,BROTLI_DECODER_NO_ERROR:0,BROTLI_DECODER_SUCCESS:1,BROTLI_DECODER_NEEDS_MORE_INPUT:2,BROTLI_DECODER_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_NIBBLE:-1,BROTLI_DECODER_ERROR_FORMAT_RESERVED:-2,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_META_NIBBLE:-3,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_ALPHABET:-4,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_SAME:-5,BROTLI_DECODER_ERROR_FORMAT_CL_SPACE:-6,BROTLI_DECODER_ERROR_FORMAT_HUFFMAN_SPACE:-7,BROTLI_DECODER_ERROR_FORMAT_CONTEXT_MAP_REPEAT:-8,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_1:-9,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_2:-10,BROTLI_DECODER_ERROR_FORMAT_TRANSFORM:-11,BROTLI_DECODER_ERROR_FORMAT_DICTIONARY:-12,BROTLI_DECODER_ERROR_FORMAT_WINDOW_BITS:-13,BROTLI_DECODER_ERROR_FORMAT_PADDING_1:-14,BROTLI_DECODER_ERROR_FORMAT_PADDING_2:-15,BROTLI_DECODER_ERROR_FORMAT_DISTANCE:-16,BROTLI_DECODER_ERROR_DICTIONARY_NOT_SET:-19,BROTLI_DECODER_ERROR_INVALID_ARGUMENTS:-20,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MODES:-21,BROTLI_DECODER_ERROR_ALLOC_TREE_GROUPS:-22,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MAP:-25,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_1:-26,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_2:-27,BROTLI_DECODER_ERROR_ALLOC_BLOCK_TYPE_TREES:-30,BROTLI_DECODER_ERROR_UNREACHABLE:-31},n)),Ts}var Ps,Zc;function Xh(){if(Zc)return Ps;Zc=1;const n=typeof process=="object"&&process?process:{stdout:null,stderr:null},s=Fe,o=qe,h=_h.StringDecoder,i=Symbol("EOF"),t=Symbol("maybeEmitEnd"),e=Symbol("emittedEnd"),r=Symbol("emittingEnd"),u=Symbol("emittedError"),l=Symbol("closed"),d=Symbol("read"),v=Symbol("flush"),_=Symbol("flushChunk"),R=Symbol("encoding"),w=Symbol("decoder"),S=Symbol("flowing"),g=Symbol("paused"),a=Symbol("resume"),f=Symbol("bufferLength"),c=Symbol("bufferPush"),m=Symbol("bufferShift"),p=Symbol("objectMode"),E=Symbol("destroyed"),y=Symbol("emitData"),b=Symbol("emitEnd"),A=Symbol("emitEnd2"),P=Symbol("async"),D=j=>Promise.resolve().then(j),q=xe._MP_NO_ITERATOR_SYMBOLS_!=="1",$=q&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),L=q&&Symbol.iterator||Symbol("iterator not implemented"),C=j=>j==="end"||j==="finish"||j==="prefinish",I=j=>j instanceof ArrayBuffer||typeof j=="object"&&j.constructor&&j.constructor.name==="ArrayBuffer"&&j.byteLength>=0,M=j=>!Buffer.isBuffer(j)&&ArrayBuffer.isView(j);class U{constructor(O,x,z){this.src=O,this.dest=x,this.opts=z,this.ondrain=()=>O[a](),x.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}}class W extends U{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(O,x,z){super(O,x,z),this.proxyErrors=ee=>x.emit("error",ee),O.on("error",this.proxyErrors)}}return Ps=class Kh extends o{constructor(O){super(),this[S]=!1,this[g]=!1,this.pipes=[],this.buffer=[],this[p]=O&&O.objectMode||!1,this[p]?this[R]=null:this[R]=O&&O.encoding||null,this[R]==="buffer"&&(this[R]=null),this[P]=O&&!!O.async||!1,this[w]=this[R]?new h(this[R]):null,this[i]=!1,this[e]=!1,this[r]=!1,this[l]=!1,this[u]=null,this.writable=!0,this.readable=!0,this[f]=0,this[E]=!1}get bufferLength(){return this[f]}get encoding(){return this[R]}set encoding(O){if(this[p])throw new Error("cannot set encoding in objectMode");if(this[R]&&O!==this[R]&&(this[w]&&this[w].lastNeed||this[f]))throw new Error("cannot change encoding");this[R]!==O&&(this[w]=O?new h(O):null,this.buffer.length&&(this.buffer=this.buffer.map(x=>this[w].write(x)))),this[R]=O}setEncoding(O){this.encoding=O}get objectMode(){return this[p]}set objectMode(O){this[p]=this[p]||!!O}get async(){return this[P]}set async(O){this[P]=this[P]||!!O}write(O,x,z){if(this[i])throw new Error("write after end");if(this[E])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof x=="function"&&(z=x,x="utf8"),x||(x="utf8");const ee=this[P]?D:k=>k();return!this[p]&&!Buffer.isBuffer(O)&&(M(O)?O=Buffer.from(O.buffer,O.byteOffset,O.byteLength):I(O)?O=Buffer.from(O):typeof O!="string"&&(this.objectMode=!0)),this[p]?(this.flowing&&this[f]!==0&&this[v](!0),this.flowing?this.emit("data",O):this[c](O),this[f]!==0&&this.emit("readable"),z&&ee(z),this.flowing):O.length?(typeof O=="string"&&!(x===this[R]&&!this[w].lastNeed)&&(O=Buffer.from(O,x)),Buffer.isBuffer(O)&&this[R]&&(O=this[w].write(O)),this.flowing&&this[f]!==0&&this[v](!0),this.flowing?this.emit("data",O):this[c](O),this[f]!==0&&this.emit("readable"),z&&ee(z),this.flowing):(this[f]!==0&&this.emit("readable"),z&&ee(z),this.flowing)}read(O){if(this[E])return null;if(this[f]===0||O===0||O>this[f])return this[t](),null;this[p]&&(O=null),this.buffer.length>1&&!this[p]&&(this.encoding?this.buffer=[this.buffer.join("")]:this.buffer=[Buffer.concat(this.buffer,this[f])]);const x=this[d](O||null,this.buffer[0]);return this[t](),x}[d](O,x){return O===x.length||O===null?this[m]():(this.buffer[0]=x.slice(O),x=x.slice(0,O),this[f]-=O),this.emit("data",x),!this.buffer.length&&!this[i]&&this.emit("drain"),x}end(O,x,z){return typeof O=="function"&&(z=O,O=null),typeof x=="function"&&(z=x,x="utf8"),O&&this.write(O,x),z&&this.once("end",z),this[i]=!0,this.writable=!1,(this.flowing||!this[g])&&this[t](),this}[a](){this[E]||(this[g]=!1,this[S]=!0,this.emit("resume"),this.buffer.length?this[v]():this[i]?this[t]():this.emit("drain"))}resume(){return this[a]()}pause(){this[S]=!1,this[g]=!0}get destroyed(){return this[E]}get flowing(){return this[S]}get paused(){return this[g]}[c](O){this[p]?this[f]+=1:this[f]+=O.length,this.buffer.push(O)}[m](){return this.buffer.length&&(this[p]?this[f]-=1:this[f]-=this.buffer[0].length),this.buffer.shift()}[v](O){do;while(this[_](this[m]()));!O&&!this.buffer.length&&!this[i]&&this.emit("drain")}[_](O){return O?(this.emit("data",O),this.flowing):!1}pipe(O,x){if(this[E])return;const z=this[e];return x=x||{},O===n.stdout||O===n.stderr?x.end=!1:x.end=x.end!==!1,x.proxyErrors=!!x.proxyErrors,z?x.end&&O.end():(this.pipes.push(x.proxyErrors?new W(this,O,x):new U(this,O,x)),this[P]?D(()=>this[a]()):this[a]()),O}unpipe(O){const x=this.pipes.find(z=>z.dest===O);x&&(this.pipes.splice(this.pipes.indexOf(x),1),x.unpipe())}addListener(O,x){return this.on(O,x)}on(O,x){const z=super.on(O,x);return O==="data"&&!this.pipes.length&&!this.flowing?this[a]():O==="readable"&&this[f]!==0?super.emit("readable"):C(O)&&this[e]?(super.emit(O),this.removeAllListeners(O)):O==="error"&&this[u]&&(this[P]?D(()=>x.call(this,this[u])):x.call(this,this[u])),z}get emittedEnd(){return this[e]}[t](){!this[r]&&!this[e]&&!this[E]&&this.buffer.length===0&&this[i]&&(this[r]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[l]&&this.emit("close"),this[r]=!1)}emit(O,x,...z){if(O!=="error"&&O!=="close"&&O!==E&&this[E])return;if(O==="data")return x?this[P]?D(()=>this[y](x)):this[y](x):!1;if(O==="end")return this[b]();if(O==="close"){if(this[l]=!0,!this[e]&&!this[E])return;const k=super.emit("close");return this.removeAllListeners("close"),k}else if(O==="error"){this[u]=x;const k=super.emit("error",x);return this[t](),k}else if(O==="resume"){const k=super.emit("resume");return this[t](),k}else if(O==="finish"||O==="prefinish"){const k=super.emit(O);return this.removeAllListeners(O),k}const ee=super.emit(O,x,...z);return this[t](),ee}[y](O){for(const z of this.pipes)z.dest.write(O)===!1&&this.pause();const x=super.emit("data",O);return this[t](),x}[b](){this[e]||(this[e]=!0,this.readable=!1,this[P]?D(()=>this[A]()):this[A]())}[A](){if(this[w]){const x=this[w].end();if(x){for(const z of this.pipes)z.dest.write(x);super.emit("data",x)}}for(const x of this.pipes)x.end();const O=super.emit("end");return this.removeAllListeners("end"),O}collect(){const O=[];this[p]||(O.dataLength=0);const x=this.promise();return this.on("data",z=>{O.push(z),this[p]||(O.dataLength+=z.length)}),x.then(()=>O)}concat(){return this[p]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(O=>this[p]?Promise.reject(new Error("cannot concat in objectMode")):this[R]?O.join(""):Buffer.concat(O,O.dataLength))}promise(){return new Promise((O,x)=>{this.on(E,()=>x(new Error("stream destroyed"))),this.on("error",z=>x(z)),this.on("end",()=>O())})}[$](){return{next:()=>{const x=this.read();if(x!==null)return Promise.resolve({done:!1,value:x});if(this[i])return Promise.resolve({done:!0});let z=null,ee=null;const k=F=>{this.removeListener("data",N),this.removeListener("end",H),ee(F)},N=F=>{this.removeListener("error",k),this.removeListener("end",H),this.pause(),z({value:F,done:!!this[i]})},H=()=>{this.removeListener("error",k),this.removeListener("data",N),z({done:!0})},V=()=>k(new Error("stream destroyed"));return new Promise((F,B)=>{ee=B,z=F,this.once(E,V),this.once("error",k),this.once("end",H),this.once("data",N)})}}}[L](){return{next:()=>{const x=this.read();return{value:x,done:x===null}}}}destroy(O){return this[E]?(O?this.emit("error",O):this.emit(E),this):(this[E]=!0,this.buffer.length=0,this[f]=0,typeof this.close=="function"&&!this[l]&&this.close(),O?this.emit("error",O):this.emit(E),this)}static isStream(O){return!!O&&(O instanceof Kh||O instanceof o||O instanceof s&&(typeof O.pipe=="function"||typeof O.write=="function"&&typeof O.end=="function"))}},Ps}var Jc;function Kg(){if(Jc)return ye;Jc=1;const n=ut,s=df.Buffer,o=gh,h=ye.constants=Yg(),i=Xh(),t=s.concat,e=Symbol("_superWrite");class r extends Error{constructor(I){super("zlib: "+I.message),this.code=I.code,this.errno=I.errno,this.code||(this.code="ZLIB_ERROR"),this.message="zlib: "+I.message,Error.captureStackTrace(this,this.constructor)}get name(){return"ZlibError"}}const u=Symbol("opts"),l=Symbol("flushFlag"),d=Symbol("finishFlushFlag"),v=Symbol("fullFlushFlag"),_=Symbol("handle"),R=Symbol("onError"),w=Symbol("sawError"),S=Symbol("level"),g=Symbol("strategy"),a=Symbol("ended");class f extends i{constructor(I,M){if(!I||typeof I!="object")throw new TypeError("invalid options for ZlibBase constructor");super(I),this[w]=!1,this[a]=!1,this[u]=I,this[l]=I.flush,this[d]=I.finishFlush;try{this[_]=new o[M](I)}catch(U){throw new r(U)}this[R]=U=>{this[w]||(this[w]=!0,this.close(),this.emit("error",U))},this[_].on("error",U=>this[R](new r(U))),this.once("end",()=>this.close)}close(){this[_]&&(this[_].close(),this[_]=null,this.emit("close"))}reset(){if(!this[w])return n(this[_],"zlib binding closed"),this[_].reset()}flush(I){this.ended||(typeof I!="number"&&(I=this[v]),this.write(Object.assign(s.alloc(0),{[l]:I})))}end(I,M,U){return I&&this.write(I,M),this.flush(this[d]),this[a]=!0,super.end(null,null,U)}get ended(){return this[a]}write(I,M,U){if(typeof M=="function"&&(U=M,M="utf8"),typeof I=="string"&&(I=s.from(I,M)),this[w])return;n(this[_],"zlib binding closed");const W=this[_]._handle,j=W.close;W.close=()=>{};const O=this[_].close;this[_].close=()=>{},s.concat=ee=>ee;let x;try{const ee=typeof I[l]=="number"?I[l]:this[l];x=this[_]._processChunk(I,ee),s.concat=t}catch(ee){s.concat=t,this[R](new r(ee))}finally{this[_]&&(this[_]._handle=W,W.close=j,this[_].close=O,this[_].removeAllListeners("error"))}this[_]&&this[_].on("error",ee=>this[R](new r(ee)));let z;if(x)if(Array.isArray(x)&&x.length>0){z=this[e](s.from(x[0]));for(let ee=1;ee<x.length;ee++)z=this[e](x[ee])}else z=this[e](s.from(x));return U&&U(),z}[e](I){return super.write(I)}}class c extends f{constructor(I,M){I=I||{},I.flush=I.flush||h.Z_NO_FLUSH,I.finishFlush=I.finishFlush||h.Z_FINISH,super(I,M),this[v]=h.Z_FULL_FLUSH,this[S]=I.level,this[g]=I.strategy}params(I,M){if(!this[w]){if(!this[_])throw new Error("cannot switch params when binding is closed");if(!this[_].params)throw new Error("not supported in this implementation");if(this[S]!==I||this[g]!==M){this.flush(h.Z_SYNC_FLUSH),n(this[_],"zlib binding closed");const U=this[_].flush;this[_].flush=(W,j)=>{this.flush(W),j()};try{this[_].params(I,M)}finally{this[_].flush=U}this[_]&&(this[S]=I,this[g]=M)}}}}class m extends c{constructor(I){super(I,"Deflate")}}class p extends c{constructor(I){super(I,"Inflate")}}const E=Symbol("_portable");class y extends c{constructor(I){super(I,"Gzip"),this[E]=I&&!!I.portable}[e](I){return this[E]?(this[E]=!1,I[9]=255,super[e](I)):super[e](I)}}class b extends c{constructor(I){super(I,"Gunzip")}}class A extends c{constructor(I){super(I,"DeflateRaw")}}class P extends c{constructor(I){super(I,"InflateRaw")}}class D extends c{constructor(I){super(I,"Unzip")}}class q extends f{constructor(I,M){I=I||{},I.flush=I.flush||h.BROTLI_OPERATION_PROCESS,I.finishFlush=I.finishFlush||h.BROTLI_OPERATION_FINISH,super(I,M),this[v]=h.BROTLI_OPERATION_FLUSH}}class $ extends q{constructor(I){super(I,"BrotliCompress")}}class L extends q{constructor(I){super(I,"BrotliDecompress")}}return ye.Deflate=m,ye.Inflate=p,ye.Gzip=y,ye.Gunzip=b,ye.DeflateRaw=A,ye.InflateRaw=P,ye.Unzip=D,typeof o.BrotliCompress=="function"?(ye.BrotliCompress=$,ye.BrotliDecompress=L):ye.BrotliCompress=ye.BrotliDecompress=class{constructor(){throw new Error("Brotli is not supported in this version of Node.js")}},ye}var Cs,Qc;function Xg(){if(Qc)return Cs;Qc=1;const n=Bg(),s=Yh(),o=Fe,h=Vg(),i=1024*1024,t=Wg(),e=zg(),r=Kg(),{nextTick:u}=mh,l=Buffer.from([31,139]),d=Symbol("state"),v=Symbol("writeEntry"),_=Symbol("readEntry"),R=Symbol("nextEntry"),w=Symbol("processEntry"),S=Symbol("extendedHeader"),g=Symbol("globalExtendedHeader"),a=Symbol("meta"),f=Symbol("emitMeta"),c=Symbol("buffer"),m=Symbol("queue"),p=Symbol("ended"),E=Symbol("emittedEnd"),y=Symbol("emit"),b=Symbol("unzip"),A=Symbol("consumeChunk"),P=Symbol("consumeChunkSub"),D=Symbol("consumeBody"),q=Symbol("consumeMeta"),$=Symbol("consumeHeader"),L=Symbol("consuming"),C=Symbol("bufferConcat"),I=Symbol("maybeEnd"),M=Symbol("writing"),U=Symbol("aborted"),W=Symbol("onDone"),j=Symbol("sawValidEntry"),O=Symbol("sawNullBlock"),x=Symbol("sawEOF"),z=Symbol("closeStream"),ee=k=>!0;return Cs=n(class extends o{constructor(N){N=N||{},super(N),this.file=N.file||"",this[j]=null,this.on(W,V=>{(this[d]==="begin"||this[j]===!1)&&this.warn("TAR_BAD_ARCHIVE","Unrecognized archive format")}),N.ondone?this.on(W,N.ondone):this.on(W,V=>{this.emit("prefinish"),this.emit("finish"),this.emit("end")}),this.strict=!!N.strict,this.maxMetaEntrySize=N.maxMetaEntrySize||i,this.filter=typeof N.filter=="function"?N.filter:ee;const H=N.file&&(N.file.endsWith(".tar.br")||N.file.endsWith(".tbr"));this.brotli=!N.gzip&&N.brotli!==void 0?N.brotli:H?void 0:!1,this.writable=!0,this.readable=!1,this[m]=new h,this[c]=null,this[_]=null,this[v]=null,this[d]="begin",this[a]="",this[S]=null,this[g]=null,this[p]=!1,this[b]=null,this[U]=!1,this[O]=!1,this[x]=!1,this.on("end",()=>this[z]()),typeof N.onwarn=="function"&&this.on("warn",N.onwarn),typeof N.onentry=="function"&&this.on("entry",N.onentry)}[$](N,H){this[j]===null&&(this[j]=!1);let V;try{V=new s(N,H,this[S],this[g])}catch(F){return this.warn("TAR_ENTRY_INVALID",F)}if(V.nullBlock)this[O]?(this[x]=!0,this[d]==="begin"&&(this[d]="header"),this[y]("eof")):(this[O]=!0,this[y]("nullBlock"));else if(this[O]=!1,!V.cksumValid)this.warn("TAR_ENTRY_INVALID","checksum failure",{header:V});else if(!V.path)this.warn("TAR_ENTRY_INVALID","path is required",{header:V});else{const F=V.type;if(/^(Symbolic)?Link$/.test(F)&&!V.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath required",{header:V});else if(!/^(Symbolic)?Link$/.test(F)&&V.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath forbidden",{header:V});else{const B=this[v]=new t(V,this[S],this[g]);if(!this[j])if(B.remain){const Y=()=>{B.invalid||(this[j]=!0)};B.on("end",Y)}else this[j]=!0;B.meta?B.size>this.maxMetaEntrySize?(B.ignore=!0,this[y]("ignoredEntry",B),this[d]="ignore",B.resume()):B.size>0&&(this[a]="",B.on("data",Y=>this[a]+=Y),this[d]="meta"):(this[S]=null,B.ignore=B.ignore||!this.filter(B.path,B),B.ignore?(this[y]("ignoredEntry",B),this[d]=B.remain?"ignore":"header",B.resume()):(B.remain?this[d]="body":(this[d]="header",B.end()),this[_]?this[m].push(B):(this[m].push(B),this[R]())))}}}[z](){u(()=>this.emit("close"))}[w](N){let H=!0;return N?Array.isArray(N)?this.emit.apply(this,N):(this[_]=N,this.emit("entry",N),N.emittedEnd||(N.on("end",V=>this[R]()),H=!1)):(this[_]=null,H=!1),H}[R](){do;while(this[w](this[m].shift()));if(!this[m].length){const N=this[_];!N||N.flowing||N.size===N.remain?this[M]||this.emit("drain"):N.once("drain",V=>this.emit("drain"))}}[D](N,H){const V=this[v],F=V.blockRemain,B=F>=N.length&&H===0?N:N.slice(H,H+F);return V.write(B),V.blockRemain||(this[d]="header",this[v]=null,V.end()),B.length}[q](N,H){const V=this[v],F=this[D](N,H);return this[v]||this[f](V),F}[y](N,H,V){!this[m].length&&!this[_]?this.emit(N,H,V):this[m].push([N,H,V])}[f](N){switch(this[y]("meta",this[a]),N.type){case"ExtendedHeader":case"OldExtendedHeader":this[S]=e.parse(this[a],this[S],!1);break;case"GlobalExtendedHeader":this[g]=e.parse(this[a],this[g],!0);break;case"NextFileHasLongPath":case"OldGnuLongPath":this[S]=this[S]||Object.create(null),this[S].path=this[a].replace(/\0.*/,"");break;case"NextFileHasLongLinkpath":this[S]=this[S]||Object.create(null),this[S].linkpath=this[a].replace(/\0.*/,"");break;default:throw new Error("unknown meta: "+N.type)}}abort(N){this[U]=!0,this.emit("abort",N),this.warn("TAR_ABORT",N,{recoverable:!1})}write(N){if(this[U])return;if((this[b]===null||this.brotli===void 0&&this[b]===!1)&&N){if(this[c]&&(N=Buffer.concat([this[c],N]),this[c]=null),N.length<l.length)return this[c]=N,!0;for(let B=0;this[b]===null&&B<l.length;B++)N[B]!==l[B]&&(this[b]=!1);const F=this.brotli===void 0;if(this[b]===!1&&F)if(N.length<512)if(this[p])this.brotli=!0;else return this[c]=N,!0;else try{new s(N.slice(0,512)),this.brotli=!1}catch{this.brotli=!0}if(this[b]===null||this[b]===!1&&this.brotli){const B=this[p];this[p]=!1,this[b]=this[b]===null?new r.Unzip:new r.BrotliDecompress,this[b].on("data",J=>this[A](J)),this[b].on("error",J=>this.abort(J)),this[b].on("end",J=>{this[p]=!0,this[A]()}),this[M]=!0;const Y=this[b][B?"end":"write"](N);return this[M]=!1,Y}}this[M]=!0,this[b]?this[b].write(N):this[A](N),this[M]=!1;const V=this[m].length?!1:this[_]?this[_].flowing:!0;return!V&&!this[m].length&&this[_].once("drain",F=>this.emit("drain")),V}[C](N){N&&!this[U]&&(this[c]=this[c]?Buffer.concat([this[c],N]):N)}[I](){if(this[p]&&!this[E]&&!this[U]&&!this[L]){this[E]=!0;const N=this[v];if(N&&N.blockRemain){const H=this[c]?this[c].length:0;this.warn("TAR_BAD_ARCHIVE",`Truncated input (needed ${N.blockRemain} more bytes, only ${H} available)`,{entry:N}),this[c]&&N.write(this[c]),N.end()}this[y](W)}}[A](N){if(this[L])this[C](N);else if(!N&&!this[c])this[I]();else{if(this[L]=!0,this[c]){this[C](N);const H=this[c];this[c]=null,this[P](H)}else this[P](N);for(;this[c]&&this[c].length>=512&&!this[U]&&!this[x];){const H=this[c];this[c]=null,this[P](H)}this[L]=!1}(!this[c]||this[p])&&this[I]()}[P](N){let H=0;const V=N.length;for(;H+512<=V&&!this[U]&&!this[x];)switch(this[d]){case"begin":case"header":this[$](N,H),H+=512;break;case"ignore":case"body":H+=this[D](N,H);break;case"meta":H+=this[q](N,H);break;default:throw new Error("invalid state: "+this[d])}H<V&&(this[c]?this[c]=Buffer.concat([N.slice(H),this[c]]):this[c]=N.slice(H))}end(N){this[U]||(this[b]?this[b].end(N):(this[p]=!0,this.brotli===void 0&&(N=N||Buffer.alloc(0)),this.write(N)))}}),Cs}var Ve={},eh;function Zh(){if(eh)return Ve;eh=1;const n=Xh(),s=Fe.EventEmitter,o=pe;let h=o.writev;if(!h){const j=process.binding("fs"),O=j.FSReqWrap||j.FSReqCallback;h=(x,z,ee,k)=>{const N=(V,F)=>k(V,F,z),H=new O;H.oncomplete=N,j.writeBuffers(x,z,ee,H)}}const i=Symbol("_autoClose"),t=Symbol("_close"),e=Symbol("_ended"),r=Symbol("_fd"),u=Symbol("_finished"),l=Symbol("_flags"),d=Symbol("_flush"),v=Symbol("_handleChunk"),_=Symbol("_makeBuf"),R=Symbol("_mode"),w=Symbol("_needDrain"),S=Symbol("_onerror"),g=Symbol("_onopen"),a=Symbol("_onread"),f=Symbol("_onwrite"),c=Symbol("_open"),m=Symbol("_path"),p=Symbol("_pos"),E=Symbol("_queue"),y=Symbol("_read"),b=Symbol("_readSize"),A=Symbol("_reading"),P=Symbol("_remain"),D=Symbol("_size"),q=Symbol("_write"),$=Symbol("_writing"),L=Symbol("_defaultFlag"),C=Symbol("_errored");class I extends n{constructor(O,x){if(x=x||{},super(x),this.readable=!0,this.writable=!1,typeof O!="string")throw new TypeError("path must be a string");this[C]=!1,this[r]=typeof x.fd=="number"?x.fd:null,this[m]=O,this[b]=x.readSize||16*1024*1024,this[A]=!1,this[D]=typeof x.size=="number"?x.size:1/0,this[P]=this[D],this[i]=typeof x.autoClose=="boolean"?x.autoClose:!0,typeof this[r]=="number"?this[y]():this[c]()}get fd(){return this[r]}get path(){return this[m]}write(){throw new TypeError("this is a readable stream")}end(){throw new TypeError("this is a readable stream")}[c](){o.open(this[m],"r",(O,x)=>this[g](O,x))}[g](O,x){O?this[S](O):(this[r]=x,this.emit("open",x),this[y]())}[_](){return Buffer.allocUnsafe(Math.min(this[b],this[P]))}[y](){if(!this[A]){this[A]=!0;const O=this[_]();if(O.length===0)return process.nextTick(()=>this[a](null,0,O));o.read(this[r],O,0,O.length,null,(x,z,ee)=>this[a](x,z,ee))}}[a](O,x,z){this[A]=!1,O?this[S](O):this[v](x,z)&&this[y]()}[t](){if(this[i]&&typeof this[r]=="number"){const O=this[r];this[r]=null,o.close(O,x=>x?this.emit("error",x):this.emit("close"))}}[S](O){this[A]=!0,this[t](),this.emit("error",O)}[v](O,x){let z=!1;return this[P]-=O,O>0&&(z=super.write(O<x.length?x.slice(0,O):x)),(O===0||this[P]<=0)&&(z=!1,this[t](),super.end()),z}emit(O,x){switch(O){case"prefinish":case"finish":break;case"drain":typeof this[r]=="number"&&this[y]();break;case"error":return this[C]?void 0:(this[C]=!0,super.emit(O,x));default:return super.emit(O,x)}}}class M extends I{[c](){let O=!0;try{this[g](null,o.openSync(this[m],"r")),O=!1}finally{O&&this[t]()}}[y](){let O=!0;try{if(!this[A]){this[A]=!0;do{const x=this[_](),z=x.length===0?0:o.readSync(this[r],x,0,x.length,null);if(!this[v](z,x))break}while(!0);this[A]=!1}O=!1}finally{O&&this[t]()}}[t](){if(this[i]&&typeof this[r]=="number"){const O=this[r];this[r]=null,o.closeSync(O),this.emit("close")}}}class U extends s{constructor(O,x){x=x||{},super(x),this.readable=!1,this.writable=!0,this[C]=!1,this[$]=!1,this[e]=!1,this[w]=!1,this[E]=[],this[m]=O,this[r]=typeof x.fd=="number"?x.fd:null,this[R]=x.mode===void 0?438:x.mode,this[p]=typeof x.start=="number"?x.start:null,this[i]=typeof x.autoClose=="boolean"?x.autoClose:!0;const z=this[p]!==null?"r+":"w";this[L]=x.flags===void 0,this[l]=this[L]?z:x.flags,this[r]===null&&this[c]()}emit(O,x){if(O==="error"){if(this[C])return;this[C]=!0}return super.emit(O,x)}get fd(){return this[r]}get path(){return this[m]}[S](O){this[t](),this[$]=!0,this.emit("error",O)}[c](){o.open(this[m],this[l],this[R],(O,x)=>this[g](O,x))}[g](O,x){this[L]&&this[l]==="r+"&&O&&O.code==="ENOENT"?(this[l]="w",this[c]()):O?this[S](O):(this[r]=x,this.emit("open",x),this[d]())}end(O,x){return O&&this.write(O,x),this[e]=!0,!this[$]&&!this[E].length&&typeof this[r]=="number"&&this[f](null,0),this}write(O,x){return typeof O=="string"&&(O=Buffer.from(O,x)),this[e]?(this.emit("error",new Error("write() after end()")),!1):this[r]===null||this[$]||this[E].length?(this[E].push(O),this[w]=!0,!1):(this[$]=!0,this[q](O),!0)}[q](O){o.write(this[r],O,0,O.length,this[p],(x,z)=>this[f](x,z))}[f](O,x){O?this[S](O):(this[p]!==null&&(this[p]+=x),this[E].length?this[d]():(this[$]=!1,this[e]&&!this[u]?(this[u]=!0,this[t](),this.emit("finish")):this[w]&&(this[w]=!1,this.emit("drain"))))}[d](){if(this[E].length===0)this[e]&&this[f](null,0);else if(this[E].length===1)this[q](this[E].pop());else{const O=this[E];this[E]=[],h(this[r],O,this[p],(x,z)=>this[f](x,z))}}[t](){if(this[i]&&typeof this[r]=="number"){const O=this[r];this[r]=null,o.close(O,x=>x?this.emit("error",x):this.emit("close"))}}}class W extends U{[c](){let O;if(this[L]&&this[l]==="r+")try{O=o.openSync(this[m],this[l],this[R])}catch(x){if(x.code==="ENOENT")return this[l]="w",this[c]();throw x}else O=o.openSync(this[m],this[l],this[R]);this[g](null,O)}[t](){if(this[i]&&typeof this[r]=="number"){const O=this[r];this[r]=null,o.closeSync(O),this.emit("close")}}[q](O){let x=!0;try{this[f](null,o.writeSync(this[r],O,0,O.length,this[p])),x=!1}finally{if(x)try{this[t]()}catch{}}}}return Ve.ReadStream=I,Ve.ReadStreamSync=M,Ve.WriteStream=U,Ve.WriteStreamSync=W,Ve}var Wt={exports:{}},Jh=Oe();const Zg=Jh.mkdirp,Jg=Object.freeze(Object.defineProperty({__proto__:null,default:Zg,sync:Jh.mkdirpSync},Symbol.toStringTag,{value:"Module"})),Qg=mf(Jg);var Is,th;function ey(){if(th)return Is;th=1;const n=pe,s=Q,o=n.lchown?"lchown":"chown",h=n.lchownSync?"lchownSync":"chownSync",i=n.lchown&&!process.version.match(/v1[1-9]+\./)&&!process.version.match(/v10\.[6-9]/),t=(a,f,c)=>{try{return n[h](a,f,c)}catch(m){if(m.code!=="ENOENT")throw m}},e=(a,f,c)=>{try{return n.chownSync(a,f,c)}catch(m){if(m.code!=="ENOENT")throw m}},r=i?(a,f,c,m)=>p=>{!p||p.code!=="EISDIR"?m(p):n.chown(a,f,c,m)}:(a,f,c,m)=>m,u=i?(a,f,c)=>{try{return t(a,f,c)}catch(m){if(m.code!=="EISDIR")throw m;e(a,f,c)}}:(a,f,c)=>t(a,f,c),l=process.version;let d=(a,f,c)=>n.readdir(a,f,c),v=(a,f)=>n.readdirSync(a,f);/^v4\./.test(l)&&(d=(a,f,c)=>n.readdir(a,c));const _=(a,f,c,m)=>{n[o](a,f,c,r(a,f,c,p=>{m(p&&p.code!=="ENOENT"?p:null)}))},R=(a,f,c,m,p)=>{if(typeof f=="string")return n.lstat(s.resolve(a,f),(E,y)=>{if(E)return p(E.code!=="ENOENT"?E:null);y.name=f,R(a,y,c,m,p)});if(f.isDirectory())w(s.resolve(a,f.name),c,m,E=>{if(E)return p(E);const y=s.resolve(a,f.name);_(y,c,m,p)});else{const E=s.resolve(a,f.name);_(E,c,m,p)}},w=(a,f,c,m)=>{d(a,{withFileTypes:!0},(p,E)=>{if(p){if(p.code==="ENOENT")return m();if(p.code!=="ENOTDIR"&&p.code!=="ENOTSUP")return m(p)}if(p||!E.length)return _(a,f,c,m);let y=E.length,b=null;const A=P=>{if(!b){if(P)return m(b=P);if(--y===0)return _(a,f,c,m)}};E.forEach(P=>R(a,P,f,c,A))})},S=(a,f,c,m)=>{if(typeof f=="string")try{const p=n.lstatSync(s.resolve(a,f));p.name=f,f=p}catch(p){if(p.code==="ENOENT")return;throw p}f.isDirectory()&&g(s.resolve(a,f.name),c,m),u(s.resolve(a,f.name),c,m)},g=(a,f,c)=>{let m;try{m=v(a,{withFileTypes:!0})}catch(p){if(p.code==="ENOENT")return;if(p.code==="ENOTDIR"||p.code==="ENOTSUP")return u(a,f,c);throw p}return m&&m.length&&m.forEach(p=>S(a,p,f,c)),u(a,f,c)};return Is=w,w.sync=g,Is}var rh;function ty(){if(rh)return Wt.exports;rh=1;const n=Qg,s=pe,o=Q,h=ey(),i=so();class t extends Error{constructor(w,S){super("Cannot extract through symbolic link"),this.path=S,this.symlink=w}get name(){return"SylinkError"}}class e extends Error{constructor(w,S){super(S+": Cannot cd into '"+w+"'"),this.path=w,this.code=S}get name(){return"CwdError"}}const r=(R,w)=>R.get(i(w)),u=(R,w,S)=>R.set(i(w),S),l=(R,w)=>{s.stat(R,(S,g)=>{(S||!g.isDirectory())&&(S=new e(R,S&&S.code||"ENOTDIR")),w(S)})};Wt.exports=(R,w,S)=>{R=i(R);const g=w.umask,a=w.mode|448,f=(a&g)!==0,c=w.uid,m=w.gid,p=typeof c=="number"&&typeof m=="number"&&(c!==w.processUid||m!==w.processGid),E=w.preserve,y=w.unlink,b=w.cache,A=i(w.cwd),P=($,L)=>{$?S($):(u(b,R,!0),L&&p?h(L,c,m,C=>P(C)):f?s.chmod(R,a,S):S())};if(b&&r(b,R)===!0)return P();if(R===A)return l(R,P);if(E)return n(R,{mode:a}).then($=>P(null,$),P);const q=i(o.relative(A,R)).split("/");d(A,q,a,b,y,A,null,P)};const d=(R,w,S,g,a,f,c,m)=>{if(!w.length)return m(null,c);const p=w.shift(),E=i(o.resolve(R+"/"+p));if(r(g,E))return d(E,w,S,g,a,f,c,m);s.mkdir(E,S,v(E,w,S,g,a,f,c,m))},v=(R,w,S,g,a,f,c,m)=>p=>{p?s.lstat(R,(E,y)=>{if(E)E.path=E.path&&i(E.path),m(E);else if(y.isDirectory())d(R,w,S,g,a,f,c,m);else if(a)s.unlink(R,b=>{if(b)return m(b);s.mkdir(R,S,v(R,w,S,g,a,f,c,m))});else{if(y.isSymbolicLink())return m(new t(R,R+"/"+w.join("/")));m(p)}}):(c=c||R,d(R,w,S,g,a,f,c,m))},_=R=>{let w=!1,S="ENOTDIR";try{w=s.statSync(R).isDirectory()}catch(g){S=g.code}finally{if(!w)throw new e(R,S)}};return Wt.exports.sync=(R,w)=>{R=i(R);const S=w.umask,g=w.mode|448,a=(g&S)!==0,f=w.uid,c=w.gid,m=typeof f=="number"&&typeof c=="number"&&(f!==w.processUid||c!==w.processGid),p=w.preserve,E=w.unlink,y=w.cache,b=i(w.cwd),A=$=>{u(y,R,!0),$&&m&&h.sync($,f,c),a&&s.chmodSync(R,g)};if(y&&r(y,R)===!0)return A();if(R===b)return _(b),A();if(p)return A(n.sync(R,g));const D=i(o.relative(b,R)).split("/");let q=null;for(let $=D.shift(),L=b;$&&(L+="/"+$);$=D.shift())if(L=i(o.resolve(L)),!r(y,L))try{s.mkdirSync(L,g),q=q||L,u(y,L,!0)}catch{const I=s.lstatSync(L);if(I.isDirectory()){u(y,L,!0);continue}else if(E){s.unlinkSync(L),s.mkdirSync(L,g),q=q||L,u(y,L,!0);continue}else if(I.isSymbolicLink())return new t(L,L+"/"+D.join("/"))}return A(q)},Wt.exports}var xs,nh;function ry(){if(nh)return xs;nh=1;const n=["|","<",">","?",":"],s=n.map(i=>String.fromCharCode(61440+i.charCodeAt(0))),o=new Map(n.map((i,t)=>[i,s[t]])),h=new Map(s.map((i,t)=>[i,n[t]]));return xs={encode:i=>n.reduce((t,e)=>t.split(e).join(o.get(e)),i),decode:i=>s.reduce((t,e)=>t.split(e).join(h.get(e)),i)},xs}var $s,ih;function Qh(){if(ih)return $s;ih=1;const n=Object.create(null),{hasOwnProperty:s}=Object.prototype;return $s=o=>(s.call(n,o)||(n[o]=o.normalize("NFD")),n[o]),$s}var Ns,sh;function oo(){return sh||(sh=1,Ns=n=>{let s=n.length-1,o=-1;for(;s>-1&&n.charAt(s)==="/";)o=s,s--;return o===-1?n:n.slice(0,o)}),Ns}var Ds,oh;function ny(){if(oh)return Ds;oh=1;const n=ut,s=Qh(),o=oo(),{join:h}=Q,t=(process.env.TESTING_TAR_FAKE_PLATFORM||process.platform)==="win32";return Ds=()=>{const e=new Map,r=new Map,u=S=>S.split("/").slice(0,-1).reduce((a,f)=>(a.length&&(f=h(a[a.length-1],f)),a.push(f||"/"),a),[]),l=new Set,d=S=>{const g=r.get(S);if(!g)throw new Error("function does not have any path reservations");return{paths:g.paths.map(a=>e.get(a)),dirs:[...g.dirs].map(a=>e.get(a))}},v=S=>{const{paths:g,dirs:a}=d(S);return g.every(f=>f[0]===S)&&a.every(f=>f[0]instanceof Set&&f[0].has(S))},_=S=>l.has(S)||!v(S)?!1:(l.add(S),S(()=>R(S)),!0),R=S=>{if(!l.has(S))return!1;const{paths:g,dirs:a}=r.get(S),f=new Set;return g.forEach(c=>{const m=e.get(c);n.equal(m[0],S),m.length===1?e.delete(c):(m.shift(),typeof m[0]=="function"?f.add(m[0]):m[0].forEach(p=>f.add(p)))}),a.forEach(c=>{const m=e.get(c);n(m[0]instanceof Set),m[0].size===1&&m.length===1?e.delete(c):m[0].size===1?(m.shift(),f.add(m[0])):m[0].delete(S)}),l.delete(S),f.forEach(c=>_(c)),!0};return{check:v,reserve:(S,g)=>{S=t?["win32 parallelization disabled"]:S.map(f=>o(h(s(f))).toLowerCase());const a=new Set(S.map(f=>u(f)).reduce((f,c)=>f.concat(c)));return r.set(g,{dirs:a,paths:S}),S.forEach(f=>{const c=e.get(f);c?c.push(g):e.set(f,[g])}),a.forEach(f=>{const c=e.get(f);c?c[c.length-1]instanceof Set?c[c.length-1].add(g):c.push(new Set([g])):e.set(f,[new Set([g])])}),_(g)}}},Ds}var Ls,ah;function iy(){if(ah)return Ls;ah=1;const{isAbsolute:n,parse:s}=Q.win32;return Ls=o=>{let h="",i=s(o);for(;n(o)||i.root;){const t=o.charAt(0)==="/"&&o.slice(0,4)!=="//?/"?"/":i.root;o=o.slice(t.length),h+=t,i=s(o)}return[h,o]},Ls}var Fs,uh;function sy(){if(uh)return Fs;uh=1;const s=(process.env.__FAKE_PLATFORM__||process.platform)==="win32",o=xe.__FAKE_TESTING_FS__||pe,{O_CREAT:h,O_TRUNC:i,O_WRONLY:t,UV_FS_O_FILEMAP:e=0}=o.constants,r=s&&!!e,u=512*1024,l=e|i|h|t;return Fs=r?d=>d<u?l:"w":()=>"w",Fs}var qs,lh;function oy(){if(lh)return qs;lh=1;const n=ut,s=Xg(),o=pe,h=Zh(),i=Q,t=ty(),e=ry(),r=ny(),u=iy(),l=so(),d=oo(),v=Qh(),_=Symbol("onEntry"),R=Symbol("checkFs"),w=Symbol("checkFs2"),S=Symbol("pruneCache"),g=Symbol("isReusable"),a=Symbol("makeFs"),f=Symbol("file"),c=Symbol("directory"),m=Symbol("link"),p=Symbol("symlink"),E=Symbol("hardlink"),y=Symbol("unsupported"),b=Symbol("checkPath"),A=Symbol("mkdir"),P=Symbol("onError"),D=Symbol("pending"),q=Symbol("pend"),$=Symbol("unpend"),L=Symbol("ended"),C=Symbol("maybeClose"),I=Symbol("skip"),M=Symbol("doChown"),U=Symbol("uid"),W=Symbol("gid"),j=Symbol("checkedCwd"),O=yh,x=sy(),ee=(process.env.TESTING_TAR_FAKE_PLATFORM||process.platform)==="win32",k=1024,N=(Z,T)=>{if(!ee)return o.unlink(Z,T);const X=Z+".DELETE."+O.randomBytes(16).toString("hex");o.rename(Z,X,te=>{if(te)return T(te);o.unlink(X,T)})},H=Z=>{if(!ee)return o.unlinkSync(Z);const T=Z+".DELETE."+O.randomBytes(16).toString("hex");o.renameSync(Z,T),o.unlinkSync(T)},V=(Z,T,X)=>Z===Z>>>0?Z:T===T>>>0?T:X,F=Z=>d(l(v(Z))).toLowerCase(),B=(Z,T)=>{T=F(T);for(const X of Z.keys()){const te=F(X);(te===T||te.indexOf(T+"/")===0)&&Z.delete(X)}},Y=Z=>{for(const T of Z.keys())Z.delete(T)};class J extends s{constructor(T){if(T||(T={}),T.ondone=X=>{this[L]=!0,this[C]()},super(T),this[j]=!1,this.reservations=r(),this.transform=typeof T.transform=="function"?T.transform:null,this.writable=!0,this.readable=!1,this[D]=0,this[L]=!1,this.dirCache=T.dirCache||new Map,typeof T.uid=="number"||typeof T.gid=="number"){if(typeof T.uid!="number"||typeof T.gid!="number")throw new TypeError("cannot set owner without number uid and gid");if(T.preserveOwner)throw new TypeError("cannot preserve owner in archive and also set owner explicitly");this.uid=T.uid,this.gid=T.gid,this.setOwner=!0}else this.uid=null,this.gid=null,this.setOwner=!1;T.preserveOwner===void 0&&typeof T.uid!="number"?this.preserveOwner=process.getuid&&process.getuid()===0:this.preserveOwner=!!T.preserveOwner,this.processUid=(this.preserveOwner||this.setOwner)&&process.getuid?process.getuid():null,this.processGid=(this.preserveOwner||this.setOwner)&&process.getgid?process.getgid():null,this.maxDepth=typeof T.maxDepth=="number"?T.maxDepth:k,this.forceChown=T.forceChown===!0,this.win32=!!T.win32||ee,this.newer=!!T.newer,this.keep=!!T.keep,this.noMtime=!!T.noMtime,this.preservePaths=!!T.preservePaths,this.unlink=!!T.unlink,this.cwd=l(i.resolve(T.cwd||process.cwd())),this.strip=+T.strip||0,this.processUmask=T.noChmod?0:process.umask(),this.umask=typeof T.umask=="number"?T.umask:this.processUmask,this.dmode=T.dmode||511&~this.umask,this.fmode=T.fmode||438&~this.umask,this.on("entry",X=>this[_](X))}warn(T,X,te={}){return(T==="TAR_BAD_ARCHIVE"||T==="TAR_ABORT")&&(te.recoverable=!1),super.warn(T,X,te)}[C](){this[L]&&this[D]===0&&(this.emit("prefinish"),this.emit("finish"),this.emit("end"))}[b](T){const X=l(T.path),te=X.split("/");if(this.strip){if(te.length<this.strip)return!1;if(T.type==="Link"){const G=l(T.linkpath).split("/");if(G.length>=this.strip)T.linkpath=G.slice(this.strip).join("/");else return!1}te.splice(0,this.strip),T.path=te.join("/")}if(isFinite(this.maxDepth)&&te.length>this.maxDepth)return this.warn("TAR_ENTRY_ERROR","path excessively deep",{entry:T,path:X,depth:te.length,maxDepth:this.maxDepth}),!1;if(!this.preservePaths){if(te.includes("..")||ee&&/^[a-z]:\.\.$/i.test(te[0]))return this.warn("TAR_ENTRY_ERROR","path contains '..'",{entry:T,path:X}),!1;const[G,ie]=u(X);G&&(T.path=ie,this.warn("TAR_ENTRY_INFO",`stripping ${G} from absolute path`,{entry:T,path:X}))}if(i.isAbsolute(T.path)?T.absolute=l(i.resolve(T.path)):T.absolute=l(i.resolve(this.cwd,T.path)),!this.preservePaths&&T.absolute.indexOf(this.cwd+"/")!==0&&T.absolute!==this.cwd)return this.warn("TAR_ENTRY_ERROR","path escaped extraction target",{entry:T,path:l(T.path),resolvedPath:T.absolute,cwd:this.cwd}),!1;if(T.absolute===this.cwd&&T.type!=="Directory"&&T.type!=="GNUDumpDir")return!1;if(this.win32){const{root:G}=i.win32.parse(T.absolute);T.absolute=G+e.encode(T.absolute.slice(G.length));const{root:ie}=i.win32.parse(T.path);T.path=ie+e.encode(T.path.slice(ie.length))}return!0}[_](T){if(!this[b](T))return T.resume();switch(n.equal(typeof T.absolute,"string"),T.type){case"Directory":case"GNUDumpDir":T.mode&&(T.mode=T.mode|448);case"File":case"OldFile":case"ContiguousFile":case"Link":case"SymbolicLink":return this[R](T);case"CharacterDevice":case"BlockDevice":case"FIFO":default:return this[y](T)}}[P](T,X){T.name==="CwdError"?this.emit("error",T):(this.warn("TAR_ENTRY_ERROR",T,{entry:X}),this[$](),X.resume())}[A](T,X,te){t(l(T),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:X,noChmod:this.noChmod},te)}[M](T){return this.forceChown||this.preserveOwner&&(typeof T.uid=="number"&&T.uid!==this.processUid||typeof T.gid=="number"&&T.gid!==this.processGid)||typeof this.uid=="number"&&this.uid!==this.processUid||typeof this.gid=="number"&&this.gid!==this.processGid}[U](T){return V(this.uid,T.uid,this.processUid)}[W](T){return V(this.gid,T.gid,this.processGid)}[f](T,X){const te=T.mode&4095||this.fmode,G=new h.WriteStream(T.absolute,{flags:x(T.size),mode:te,autoClose:!1});G.on("error",se=>{G.fd&&o.close(G.fd,()=>{}),G.write=()=>!0,this[P](se,T),X()});let ie=1;const K=se=>{if(se){G.fd&&o.close(G.fd,()=>{}),this[P](se,T),X();return}--ie===0&&o.close(G.fd,le=>{le?this[P](le,T):this[$](),X()})};G.on("finish",se=>{const le=T.absolute,ce=G.fd;if(T.mtime&&!this.noMtime){ie++;const he=T.atime||new Date,ge=T.mtime;o.futimes(ce,he,ge,Je=>Je?o.utimes(le,he,ge,sr=>K(sr&&Je)):K())}if(this[M](T)){ie++;const he=this[U](T),ge=this[W](T);o.fchown(ce,he,ge,Je=>Je?o.chown(le,he,ge,sr=>K(sr&&Je)):K())}K()});const ne=this.transform&&this.transform(T)||T;ne!==T&&(ne.on("error",se=>{this[P](se,T),X()}),T.pipe(ne)),ne.pipe(G)}[c](T,X){const te=T.mode&4095||this.dmode;this[A](T.absolute,te,G=>{if(G){this[P](G,T),X();return}let ie=1;const K=ne=>{--ie===0&&(X(),this[$](),T.resume())};T.mtime&&!this.noMtime&&(ie++,o.utimes(T.absolute,T.atime||new Date,T.mtime,K)),this[M](T)&&(ie++,o.chown(T.absolute,this[U](T),this[W](T),K)),K()})}[y](T){T.unsupported=!0,this.warn("TAR_ENTRY_UNSUPPORTED",`unsupported entry type: ${T.type}`,{entry:T}),T.resume()}[p](T,X){this[m](T,T.linkpath,"symlink",X)}[E](T,X){const te=l(i.resolve(this.cwd,T.linkpath));this[m](T,te,"link",X)}[q](){this[D]++}[$](){this[D]--,this[C]()}[I](T){this[$](),T.resume()}[g](T,X){return T.type==="File"&&!this.unlink&&X.isFile()&&X.nlink<=1&&!ee}[R](T){this[q]();const X=[T.path];T.linkpath&&X.push(T.linkpath),this.reservations.reserve(X,te=>this[w](T,te))}[S](T){T.type==="SymbolicLink"?Y(this.dirCache):T.type!=="Directory"&&B(this.dirCache,T.absolute)}[w](T,X){this[S](T);const te=ne=>{this[S](T),X(ne)},G=()=>{this[A](this.cwd,this.dmode,ne=>{if(ne){this[P](ne,T),te();return}this[j]=!0,ie()})},ie=()=>{if(T.absolute!==this.cwd){const ne=l(i.dirname(T.absolute));if(ne!==this.cwd)return this[A](ne,this.dmode,se=>{if(se){this[P](se,T),te();return}K()})}K()},K=()=>{o.lstat(T.absolute,(ne,se)=>{if(se&&(this.keep||this.newer&&se.mtime>T.mtime)){this[I](T),te();return}if(ne||this[g](T,se))return this[a](null,T,te);if(se.isDirectory()){if(T.type==="Directory"){const le=!this.noChmod&&T.mode&&(se.mode&4095)!==T.mode,ce=he=>this[a](he,T,te);return le?o.chmod(T.absolute,T.mode,ce):ce()}if(T.absolute!==this.cwd)return o.rmdir(T.absolute,le=>this[a](le,T,te))}if(T.absolute===this.cwd)return this[a](null,T,te);N(T.absolute,le=>this[a](le,T,te))})};this[j]?ie():G()}[a](T,X,te){if(T){this[P](T,X),te();return}switch(X.type){case"File":case"OldFile":case"ContiguousFile":return this[f](X,te);case"Link":return this[E](X,te);case"SymbolicLink":return this[p](X,te);case"Directory":case"GNUDumpDir":return this[c](X,te)}}[m](T,X,te,G){o[te](X,T.absolute,ie=>{ie?this[P](ie,T):(this[$](),T.resume()),G()})}}const re=Z=>{try{return[null,Z()]}catch(T){return[T,null]}};class oe extends J{[a](T,X){return super[a](T,X,()=>{})}[R](T){if(this[S](T),!this[j]){const ie=this[A](this.cwd,this.dmode);if(ie)return this[P](ie,T);this[j]=!0}if(T.absolute!==this.cwd){const ie=l(i.dirname(T.absolute));if(ie!==this.cwd){const K=this[A](ie,this.dmode);if(K)return this[P](K,T)}}const[X,te]=re(()=>o.lstatSync(T.absolute));if(te&&(this.keep||this.newer&&te.mtime>T.mtime))return this[I](T);if(X||this[g](T,te))return this[a](null,T);if(te.isDirectory()){if(T.type==="Directory"){const K=!this.noChmod&&T.mode&&(te.mode&4095)!==T.mode,[ne]=K?re(()=>{o.chmodSync(T.absolute,T.mode)}):[];return this[a](ne,T)}const[ie]=re(()=>o.rmdirSync(T.absolute));this[a](ie,T)}const[G]=T.absolute===this.cwd?[]:re(()=>H(T.absolute));this[a](G,T)}[f](T,X){const te=T.mode&4095||this.fmode,G=ne=>{let se;try{o.closeSync(ie)}catch(le){se=le}(ne||se)&&this[P](ne||se,T),X()};let ie;try{ie=o.openSync(T.absolute,x(T.size),te)}catch(ne){return G(ne)}const K=this.transform&&this.transform(T)||T;K!==T&&(K.on("error",ne=>this[P](ne,T)),T.pipe(K)),K.on("data",ne=>{try{o.writeSync(ie,ne,0,ne.length)}catch(se){G(se)}}),K.on("end",ne=>{let se=null;if(T.mtime&&!this.noMtime){const le=T.atime||new Date,ce=T.mtime;try{o.futimesSync(ie,le,ce)}catch(he){try{o.utimesSync(T.absolute,le,ce)}catch{se=he}}}if(this[M](T)){const le=this[U](T),ce=this[W](T);try{o.fchownSync(ie,le,ce)}catch(he){try{o.chownSync(T.absolute,le,ce)}catch{se=se||he}}}G(se)})}[c](T,X){const te=T.mode&4095||this.dmode,G=this[A](T.absolute,te);if(G){this[P](G,T),X();return}if(T.mtime&&!this.noMtime)try{o.utimesSync(T.absolute,T.atime||new Date,T.mtime)}catch{}if(this[M](T))try{o.chownSync(T.absolute,this[U](T),this[W](T))}catch{}X(),T.resume()}[A](T,X){try{return t.sync(l(T),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:X})}catch(te){return te}}[m](T,X,te,G){try{o[te+"Sync"](X,T.absolute),G(),T.resume()}catch(ie){return this[P](ie,T)}}}return J.Sync=oe,qs=J,qs}var ks,ch;function ay(){if(ch)return ks;ch=1;const n=Mg(),s=oy(),o=pe,h=Zh(),i=Q,t=oo();ks=(v,_,R)=>{typeof v=="function"?(R=v,_=null,v={}):Array.isArray(v)&&(_=v,v={}),typeof _=="function"&&(R=_,_=null),_?_=Array.from(_):_=[];const w=n(v);if(w.sync&&typeof R=="function")throw new TypeError("callback not supported for sync tar functions");if(!w.file&&typeof R=="function")throw new TypeError("callback only supported with file option");return _.length&&e(w,_),w.file&&w.sync?r(w):w.file?u(w,R):w.sync?l(w):d(w)};const e=(v,_)=>{const R=new Map(_.map(g=>[t(g),!0])),w=v.filter,S=(g,a)=>{const f=a||i.parse(g).root||".",c=g===f?!1:R.has(g)?R.get(g):S(i.dirname(g),f);return R.set(g,c),c};v.filter=w?(g,a)=>w(g,a)&&S(t(g)):g=>S(t(g))},r=v=>{const _=new s.Sync(v),R=v.file,w=o.statSync(R),S=v.maxReadSize||16*1024*1024;new h.ReadStreamSync(R,{readSize:S,size:w.size}).pipe(_)},u=(v,_)=>{const R=new s(v),w=v.maxReadSize||16*1024*1024,S=v.file,g=new Promise((a,f)=>{R.on("error",f),R.on("close",a),o.stat(S,(c,m)=>{if(c)f(c);else{const p=new h.ReadStream(S,{readSize:w,size:m.size});p.on("error",f),p.pipe(R)}})});return _?g.then(_,_):g},l=v=>new s.Sync(v),d=v=>new s(v);return ks}var uy=ay();const ly=be(uy);async function Yt(n,s=3,o=1e3){for(let h=0;h!==s;h++)try{return await n()}catch(i){if(h===s-1)throw i;await cy(o)}throw new Error("Retry failed")}function cy(n){return new Promise(s=>{setTimeout(s,n)})}async function ao(n,s){var o,h;try{const i=(o=s.path)!=null?o:Q.join(We.tmpdir(),"cmake-ts",`${Math.random()}`,Q.basename(n)),t=Q.basename(i),e=Q.dirname(i);ae.debug(`Downloading ${n} to ${i}`),await de.ensureDir(e);const r=new kg.DownloaderHelper(n,e,{fileName:t,timeout:(h=s.timeout)!=null?h:-1,override:!0,retry:{maxRetries:3,delay:1e3}}),u=new Promise((d,v)=>{r.on("error",_=>{v(_)}),r.on("end",()=>{d()})}),l={filePath:i,hash:void 0};return await Promise.all([r.start(),u]),l.hash=s.hashType!==void 0?await hy(i,s.hashType):void 0,l}catch(i){throw new Error(`Failed to download ${n}: ${i}`)}}async function hy(n,s){const o=await de.readFile(n),h=yh.createHash(s);return h.update(o),h.digest("hex")}async function fy(n,s={}){const{filePath:o}=await ao(n,s);try{return await de.readFile(o,"utf8")}finally{await de.remove(o).catch(h=>{ae.debug("Ignoring error removing temporary file",o,h)})}}async function dy(n,s){const{hash:o}=await ao(n,s);if(!ef(o,s))throw new Error(`Checksum mismatch for download ${n}. Expected ${s.hashSum}, got ${o}`);return o}async function py(n,s){var i;const{filePath:o,hash:h}=await ao(n,s);try{if(!ef(h,s))throw new Error(`Checksum mismatch for download ${n}. Expected ${s.hashSum}, got ${h}`);return await Yt(()=>ly({file:o,...s.extractOptions})),h}finally{((i=s.removeAfterExtract)==null||i)&&await de.remove(o).catch(t=>{ae.debug("Ignoring error removing temporary file",o,t)})}}function ef(n,s){return s.hashType===void 0||s.hashSum===void 0||s.hashSum===n}function hh(n,s,o){const h=n.find(i=>i.getPath===o);return!!(h&&h.sum===s)}class my{constructor(s){this.config=s}_abi=null;internalPath(){return Q.join(Dp,".cmake-ts",this.config.runtime,this.config.os,this.config.arch,`v${this.config.runtimeVersion}`)}externalPath(){return Ge(this.config).externalPath}winLibs(){return Ge(this.config).winLibs.map(s=>Q.join(this.internalPath(),s.dir,s.name))}headerOnly(){return Ge(this.config).headerOnly}abi(){return this._abi}async checkDownloaded(){let s=!1,o=!0,h=await Ie(this.internalPath());return h.isDirectory()||(s=!1),this.headerOnly()?(h=await Ie(Q.join(this.internalPath(),"include/node/node.h")),s=h.isFile()):(h=await Ie(Q.join(this.internalPath(),"src/node.h")),h.isFile()&&(h=await Ie(Q.join(this.internalPath(),"deps/v8/include/v8.h")),s=h.isFile())),this.config.os==="win32"&&(o=(await Promise.all(this.winLibs().map(e=>Ie(e)))).every(e=>e.isFile())),s&&o}async determineABI(){const s=await $g("*/node_version.h",{cwd:Q.join(this.internalPath(),"include"),absolute:!0,onlyFiles:!0,braceExpansion:!1}),o=s.length;if(o===0)return Promise.reject(new Error(`couldn't find include/*/node_version.h in ${this.internalPath()}. Make sure you install the dependencies for building the package.`));if(o!==1)return Promise.reject(new Error(`more than one node_version.h was found in ${this.internalPath()}.`));const h=s[0];let i;try{i=await de.readFile(h,"utf8")}catch(r){if(r instanceof Error)return Promise.reject(r);throw r}const t=i.match(/#define\s+NODE_MODULE_VERSION\s+(\d+)/);if(!t)return Promise.reject(new Error("Failed to find NODE_MODULE_VERSION macro"));const e=Number.parseInt(t[1],10);return Number.isNaN(e)?Promise.reject(new Error("Invalid version specified by NODE_MODULE_VERSION macro")):(this._abi=e,this.config.abi=e,this.config.libc=Fg(this.config.os),Promise.resolve())}async ensureDownloaded(){await this.checkDownloaded()||await this.download()}async download(){await de.ensureDir(this.internalPath());const s=await this.downloadHashSums();await this.downloadTar(s),await this.downloadLibs(s)}async downloadHashSums(){if(this.config.runtime==="node"||this.config.runtime==="iojs"){const s=Gt(this.externalPath(),"SHASUMS256.txt");return(await fy(s)).split(`
`).map(h=>{const i=h.split(/\s+/);return{getPath:i[1],sum:i[0]}}).filter(h=>h.getPath&&h.sum)}return null}async downloadTar(s){const o=Ge(this.config).tarPath,h=Gt(this.externalPath(),o),i=await py(h,{hashType:s?"sha256":void 0,extractOptions:{cwd:this.internalPath(),strip:1,filter:t=>{if(t===this.internalPath())return!0;const e=Q.extname(t);return e!==""&&e.toLowerCase()===".h"}}});if(s&&!hh(s,i,o))throw new Error("Checksum mismatch")}async downloadLibs(s){if(this.config.os!=="win32")return;const o=Ge(this.config);await Promise.all(o.winLibs.map(h=>this.downloadLib(h,s)))}async downloadLib(s,o){const h=s.dir?Gt(s.dir,s.name):s.name,i=Gt(this.externalPath(),h);await de.ensureDir(Q.join(this.internalPath(),s.dir));const t=await dy(i,{path:Q.join(this.internalPath(),h),hashType:o?"sha256":void 0});if(o&&!hh(o,t,h))throw new Error("Checksum mismatch")}}async function _y(n){if(n.command.type==="error")return ae.error("The given options are invalid"),null;if(n.command.type==="none")return[];if(n.help)return[];const s=Q.resolve(Q.join(process.cwd(),"package.json")),o=await __(s);if(o instanceof Error)return ae.error(o),null;const h=await f_(n,o);if(h===null)return ae.error("No configs to build"),null;for(const i of h)try{await gy(i,n)}catch(t){return ae.error("Error building config",i.name,t),null}return h}async function gy(n,s){ae.debug("config",JSON.stringify(n,null,2)),n.targetDirectory=Q.resolve(Q.join(n.packageDirectory,n.targetDirectory)),ae.debug("running in",n.packageDirectory,"command",s),ae.debug("> Setting up staging directory... "),n.stagingDirectory=Q.resolve(Q.join(n.packageDirectory,n.stagingDirectory)),await de.pathExists(n.stagingDirectory)&&await Yt(()=>de.remove(n.stagingDirectory)),await de.ensureDir(n.stagingDirectory);const h=new my(n);ae.debug("> Distribution File Download... "),await h.ensureDownloaded(),ae.debug("> Determining ABI... "),await h.determineABI(),ae.debug("> Building directories... ");const i=Q.join(n.os,n.arch,n.runtime,`${n.libc}-${h.abi()}-${n.buildType}`,n.addonSubdirectory),t=Q.resolve(Q.join(n.stagingDirectory,i)),e=Q.resolve(Q.join(n.targetDirectory,i));C_(n);const r=new Wp(n,h),[u,l]=await r.configureCommand(),[d,v]=r.buildCommand(t);ae.info(yy(n,h)),ae.debug(`> Configure: ${u} ${l.map(a=>`"${a}"`).join(" ")} in ${t}`),await de.ensureDir(t),await al(u,l,t),ae.debug(`> Build ${n.generatorBinary} ${v.map(a=>`"${a}"`).join(" ")} in ${t}`),await al(d,v,t),ae.debug(`> Copying ${n.projectName}.node to ${e}`);const _=Q.join(e,`${n.projectName}.node`),R=n.generatorToUse.includes("Visual Studio")?Q.join(t,n.buildType,`${n.projectName}.node`):Q.join(t,`${n.projectName}.node`);await de.ensureDir(e),await Yt(()=>de.copy(R,_)),ae.debug("Adding the built config to the manifest file...");const w=Q.join(n.targetDirectory,"manifest.json");let S={};if(await de.pathExists(w)){const a=await de.readFile(w,"utf-8");S=JSON.parse(a)}S[vy(n,n.packageDirectory)]=Q.relative(n.targetDirectory,_);const g=JSON.stringify(S,null,2);await Yt(()=>de.writeFile(w,g))}function yy(n,s){var o,h;return`${n.name} ${n.os} ${n.arch} ${n.libc} ${n.runtime} ${n.runtimeVersion} ABI ${s.abi()}
${n.generatorToUse} ${(h=(o=n.generatorFlags)==null?void 0:o.join(" "))!=null?h:""} ${n.buildType} ${n.toolchainFile!==void 0?`toolchain ${n.toolchainFile}`:""}
  ${n.CMakeOptions.join(" ")}`}function vy(n,s){return JSON.stringify(n,(o,h)=>typeof h=="string"&&h.startsWith(s)?Q.relative(s,h):h)}async function Ey(){const n=wf();return await _y(n)===null?1:0}Ey().then(n=>{process.exit(n)}).catch(n=>(ae.error(n),1));
//# sourceMappingURL=main.js.map
