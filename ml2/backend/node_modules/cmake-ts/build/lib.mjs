import ce,{join as fe,sep as kf,normalize as Bf,delimiter as jf,resolve as Fe,basename as to,dirname as Hf,extname as Uf,relative as Jl}from"path";import me,{existsSync as er}from"fs";import Gf from"constants";import qe from"stream";import Vt from"util";import ut from"assert";import ct,{tmpdir as Wf}from"os";import*as Ql from"child_process";import{execSync as ef}from"child_process";import Ve from"events";import Vf from"url";import zf from"http";import Yf from"https";import tf from"string_decoder";import Kf from"buffer";import rf from"zlib";import Xf from"process";import nf from"crypto";import{createRequire as Zf}from"module";var $e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ie(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Jf(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var s=function c(){return this instanceof c?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(c){var a=Object.getOwnPropertyDescriptor(e,c);Object.defineProperty(s,c,a.get?a:{enumerable:!0,get:function(){return e[c]}})}),s}var tr={},lt={},ro;function Se(){return ro||(ro=1,lt.fromCallback=function(e){return Object.defineProperty(function(...t){if(typeof t[t.length-1]=="function")e.apply(this,t);else return new Promise((s,c)=>{t.push((a,n)=>a!=null?c(a):s(n)),e.apply(this,t)})},"name",{value:e.name})},lt.fromPromise=function(e){return Object.defineProperty(function(...t){const s=t[t.length-1];if(typeof s!="function")return e.apply(this,t);t.pop(),e.apply(this,t).then(c=>s(null,c),s)},"name",{value:e.name})}),lt}var rr,no;function Qf(){if(no)return rr;no=1;var e=Gf,t=process.cwd,s=null,c=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return s||(s=t.call(process)),s};try{process.cwd()}catch{}if(typeof process.chdir=="function"){var a=process.chdir;process.chdir=function(r){s=null,a.call(process,r)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,a)}rr=n;function n(r){e.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&i(r),r.lutimes||o(r),r.chown=m(r.chown),r.fchown=m(r.fchown),r.lchown=m(r.lchown),r.chmod=u(r.chmod),r.fchmod=u(r.fchmod),r.lchmod=u(r.lchmod),r.chownSync=h(r.chownSync),r.fchownSync=h(r.fchownSync),r.lchownSync=h(r.lchownSync),r.chmodSync=l(r.chmodSync),r.fchmodSync=l(r.fchmodSync),r.lchmodSync=l(r.lchmodSync),r.stat=E(r.stat),r.fstat=E(r.fstat),r.lstat=E(r.lstat),r.statSync=R(r.statSync),r.fstatSync=R(r.fstatSync),r.lstatSync=R(r.lstatSync),r.chmod&&!r.lchmod&&(r.lchmod=function(d,p,g){g&&process.nextTick(g)},r.lchmodSync=function(){}),r.chown&&!r.lchown&&(r.lchown=function(d,p,g,f){f&&process.nextTick(f)},r.lchownSync=function(){}),c==="win32"&&(r.rename=typeof r.rename!="function"?r.rename:function(d){function p(g,f,S){var _=Date.now(),w=0;d(g,f,function y(b){if(b&&(b.code==="EACCES"||b.code==="EPERM"||b.code==="EBUSY")&&Date.now()-_<6e4){setTimeout(function(){r.stat(f,function(P,D){P&&P.code==="ENOENT"?d(g,f,y):S(b)})},w),w<100&&(w+=10);return}S&&S(b)})}return Object.setPrototypeOf&&Object.setPrototypeOf(p,d),p}(r.rename)),r.read=typeof r.read!="function"?r.read:function(d){function p(g,f,S,_,w,y){var b;if(y&&typeof y=="function"){var P=0;b=function(D,x,q){if(D&&D.code==="EAGAIN"&&P<10)return P++,d.call(r,g,f,S,_,w,b);y.apply(this,arguments)}}return d.call(r,g,f,S,_,w,b)}return Object.setPrototypeOf&&Object.setPrototypeOf(p,d),p}(r.read),r.readSync=typeof r.readSync!="function"?r.readSync:function(d){return function(p,g,f,S,_){for(var w=0;;)try{return d.call(r,p,g,f,S,_)}catch(y){if(y.code==="EAGAIN"&&w<10){w++;continue}throw y}}}(r.readSync);function i(d){d.lchmod=function(p,g,f){d.open(p,e.O_WRONLY|e.O_SYMLINK,g,function(S,_){if(S){f&&f(S);return}d.fchmod(_,g,function(w){d.close(_,function(y){f&&f(w||y)})})})},d.lchmodSync=function(p,g){var f=d.openSync(p,e.O_WRONLY|e.O_SYMLINK,g),S=!0,_;try{_=d.fchmodSync(f,g),S=!1}finally{if(S)try{d.closeSync(f)}catch{}else d.closeSync(f)}return _}}function o(d){e.hasOwnProperty("O_SYMLINK")&&d.futimes?(d.lutimes=function(p,g,f,S){d.open(p,e.O_SYMLINK,function(_,w){if(_){S&&S(_);return}d.futimes(w,g,f,function(y){d.close(w,function(b){S&&S(y||b)})})})},d.lutimesSync=function(p,g,f){var S=d.openSync(p,e.O_SYMLINK),_,w=!0;try{_=d.futimesSync(S,g,f),w=!1}finally{if(w)try{d.closeSync(S)}catch{}else d.closeSync(S)}return _}):d.futimes&&(d.lutimes=function(p,g,f,S){S&&process.nextTick(S)},d.lutimesSync=function(){})}function u(d){return d&&function(p,g,f){return d.call(r,p,g,function(S){v(S)&&(S=null),f&&f.apply(this,arguments)})}}function l(d){return d&&function(p,g){try{return d.call(r,p,g)}catch(f){if(!v(f))throw f}}}function m(d){return d&&function(p,g,f,S){return d.call(r,p,g,f,function(_){v(_)&&(_=null),S&&S.apply(this,arguments)})}}function h(d){return d&&function(p,g,f){try{return d.call(r,p,g,f)}catch(S){if(!v(S))throw S}}}function E(d){return d&&function(p,g,f){typeof g=="function"&&(f=g,g=null);function S(_,w){w&&(w.uid<0&&(w.uid+=4294967296),w.gid<0&&(w.gid+=4294967296)),f&&f.apply(this,arguments)}return g?d.call(r,p,g,S):d.call(r,p,S)}}function R(d){return d&&function(p,g){var f=g?d.call(r,p,g):d.call(r,p);return f&&(f.uid<0&&(f.uid+=4294967296),f.gid<0&&(f.gid+=4294967296)),f}}function v(d){if(!d||d.code==="ENOSYS")return!0;var p=!process.getuid||process.getuid()!==0;return!!(p&&(d.code==="EINVAL"||d.code==="EPERM"))}}return rr}var nr,io;function eh(){if(io)return nr;io=1;var e=qe.Stream;nr=t;function t(s){return{ReadStream:c,WriteStream:a};function c(n,r){if(!(this instanceof c))return new c(n,r);e.call(this);var i=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,r=r||{};for(var o=Object.keys(r),u=0,l=o.length;u<l;u++){var m=o[u];this[m]=r[m]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){i._read()});return}s.open(this.path,this.flags,this.mode,function(h,E){if(h){i.emit("error",h),i.readable=!1;return}i.fd=E,i.emit("open",E),i._read()})}function a(n,r){if(!(this instanceof a))return new a(n,r);e.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,r=r||{};for(var i=Object.keys(r),o=0,u=i.length;o<u;o++){var l=i[o];this[l]=r[l]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=s.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}return nr}var ir,so;function th(){if(so)return ir;so=1,ir=t;var e=Object.getPrototypeOf||function(s){return s.__proto__};function t(s){if(s===null||typeof s!="object")return s;if(s instanceof Object)var c={__proto__:e(s)};else var c=Object.create(null);return Object.getOwnPropertyNames(s).forEach(function(a){Object.defineProperty(c,a,Object.getOwnPropertyDescriptor(s,a))}),c}return ir}var ft,oo;function Ee(){if(oo)return ft;oo=1;var e=me,t=Qf(),s=eh(),c=th(),a=Vt,n,r;typeof Symbol=="function"&&typeof Symbol.for=="function"?(n=Symbol.for("graceful-fs.queue"),r=Symbol.for("graceful-fs.previous")):(n="___graceful-fs.queue",r="___graceful-fs.previous");function i(){}function o(d,p){Object.defineProperty(d,n,{get:function(){return p}})}var u=i;if(a.debuglog?u=a.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(u=function(){var d=a.format.apply(a,arguments);d="GFS4: "+d.split(/\n/).join(`
GFS4: `),console.error(d)}),!e[n]){var l=$e[n]||[];o(e,l),e.close=function(d){function p(g,f){return d.call(e,g,function(S){S||R(),typeof f=="function"&&f.apply(this,arguments)})}return Object.defineProperty(p,r,{value:d}),p}(e.close),e.closeSync=function(d){function p(g){d.apply(e,arguments),R()}return Object.defineProperty(p,r,{value:d}),p}(e.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){u(e[n]),ut.equal(e[n].length,0)})}$e[n]||o($e,e[n]),ft=m(c(e)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!e.__patched&&(ft=m(e),e.__patched=!0);function m(d){t(d),d.gracefulify=m,d.createReadStream=O,d.createWriteStream=N;var p=d.readFile;d.readFile=g;function g(M,C,H){return typeof C=="function"&&(H=C,C=null),G(M,C,H);function G(F,B,Y,J){return p(F,B,function(re){re&&(re.code==="EMFILE"||re.code==="ENFILE")?h([G,[F,B,Y],re,J||Date.now(),Date.now()]):typeof Y=="function"&&Y.apply(this,arguments)})}}var f=d.writeFile;d.writeFile=S;function S(M,C,H,G){return typeof H=="function"&&(G=H,H=null),F(M,C,H,G);function F(B,Y,J,re,se){return f(B,Y,J,function(Z){Z&&(Z.code==="EMFILE"||Z.code==="ENFILE")?h([F,[B,Y,J,re],Z,se||Date.now(),Date.now()]):typeof re=="function"&&re.apply(this,arguments)})}}var _=d.appendFile;_&&(d.appendFile=w);function w(M,C,H,G){return typeof H=="function"&&(G=H,H=null),F(M,C,H,G);function F(B,Y,J,re,se){return _(B,Y,J,function(Z){Z&&(Z.code==="EMFILE"||Z.code==="ENFILE")?h([F,[B,Y,J,re],Z,se||Date.now(),Date.now()]):typeof re=="function"&&re.apply(this,arguments)})}}var y=d.copyFile;y&&(d.copyFile=b);function b(M,C,H,G){return typeof H=="function"&&(G=H,H=0),F(M,C,H,G);function F(B,Y,J,re,se){return y(B,Y,J,function(Z){Z&&(Z.code==="EMFILE"||Z.code==="ENFILE")?h([F,[B,Y,J,re],Z,se||Date.now(),Date.now()]):typeof re=="function"&&re.apply(this,arguments)})}}var P=d.readdir;d.readdir=x;var D=/^v[0-5]\./;function x(M,C,H){typeof C=="function"&&(H=C,C=null);var G=D.test(process.version)?function(Y,J,re,se){return P(Y,F(Y,J,re,se))}:function(Y,J,re,se){return P(Y,J,F(Y,J,re,se))};return G(M,C,H);function F(B,Y,J,re){return function(se,Z){se&&(se.code==="EMFILE"||se.code==="ENFILE")?h([G,[B,Y,J],se,re||Date.now(),Date.now()]):(Z&&Z.sort&&Z.sort(),typeof J=="function"&&J.call(this,se,Z))}}}if(process.version.substr(0,4)==="v0.8"){var q=s(d);k=q.ReadStream,V=q.WriteStream}var $=d.ReadStream;$&&(k.prototype=Object.create($.prototype),k.prototype.open=U);var L=d.WriteStream;L&&(V.prototype=Object.create(L.prototype),V.prototype.open=j),Object.defineProperty(d,"ReadStream",{get:function(){return k},set:function(M){k=M},enumerable:!0,configurable:!0}),Object.defineProperty(d,"WriteStream",{get:function(){return V},set:function(M){V=M},enumerable:!0,configurable:!0});var T=k;Object.defineProperty(d,"FileReadStream",{get:function(){return T},set:function(M){T=M},enumerable:!0,configurable:!0});var I=V;Object.defineProperty(d,"FileWriteStream",{get:function(){return I},set:function(M){I=M},enumerable:!0,configurable:!0});function k(M,C){return this instanceof k?($.apply(this,arguments),this):k.apply(Object.create(k.prototype),arguments)}function U(){var M=this;ee(M.path,M.flags,M.mode,function(C,H){C?(M.autoClose&&M.destroy(),M.emit("error",C)):(M.fd=H,M.emit("open",H),M.read())})}function V(M,C){return this instanceof V?(L.apply(this,arguments),this):V.apply(Object.create(V.prototype),arguments)}function j(){var M=this;ee(M.path,M.flags,M.mode,function(C,H){C?(M.destroy(),M.emit("error",C)):(M.fd=H,M.emit("open",H))})}function O(M,C){return new d.ReadStream(M,C)}function N(M,C){return new d.WriteStream(M,C)}var z=d.open;d.open=ee;function ee(M,C,H,G){return typeof H=="function"&&(G=H,H=null),F(M,C,H,G);function F(B,Y,J,re,se){return z(B,Y,J,function(Z,A){Z&&(Z.code==="EMFILE"||Z.code==="ENFILE")?h([F,[B,Y,J,re],Z,se||Date.now(),Date.now()]):typeof re=="function"&&re.apply(this,arguments)})}}return d}function h(d){u("ENQUEUE",d[0].name,d[1]),e[n].push(d),v()}var E;function R(){for(var d=Date.now(),p=0;p<e[n].length;++p)e[n][p].length>2&&(e[n][p][3]=d,e[n][p][4]=d);v()}function v(){if(clearTimeout(E),E=void 0,e[n].length!==0){var d=e[n].shift(),p=d[0],g=d[1],f=d[2],S=d[3],_=d[4];if(S===void 0)u("RETRY",p.name,g),p.apply(null,g);else if(Date.now()-S>=6e4){u("TIMEOUT",p.name,g);var w=g.pop();typeof w=="function"&&w.call(null,f)}else{var y=Date.now()-_,b=Math.max(_-S,1),P=Math.min(b*1.2,100);y>=P?(u("RETRY",p.name,g),p.apply(null,g.concat([S]))):e[n].push(d)}E===void 0&&(E=setTimeout(v,0))}}return ft}var ao;function ze(){return ao||(ao=1,function(e){const t=Se().fromCallback,s=Ee(),c=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(a=>typeof s[a]=="function");Object.assign(e,s),c.forEach(a=>{e[a]=t(s[a])}),e.exists=function(a,n){return typeof n=="function"?s.exists(a,n):new Promise(r=>s.exists(a,r))},e.read=function(a,n,r,i,o,u){return typeof u=="function"?s.read(a,n,r,i,o,u):new Promise((l,m)=>{s.read(a,n,r,i,o,(h,E,R)=>{if(h)return m(h);l({bytesRead:E,buffer:R})})})},e.write=function(a,n,...r){return typeof r[r.length-1]=="function"?s.write(a,n,...r):new Promise((i,o)=>{s.write(a,n,...r,(u,l,m)=>{if(u)return o(u);i({bytesWritten:l,buffer:m})})})},typeof s.writev=="function"&&(e.writev=function(a,n,...r){return typeof r[r.length-1]=="function"?s.writev(a,n,...r):new Promise((i,o)=>{s.writev(a,n,...r,(u,l,m)=>{if(u)return o(u);i({bytesWritten:l,buffers:m})})})}),typeof s.realpath.native=="function"?e.realpath.native=t(s.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")}(tr)),tr}var ht={},sr={},uo;function rh(){if(uo)return sr;uo=1;const e=ce;return sr.checkPath=function(s){if(process.platform==="win32"&&/[<>:"|?*]/.test(s.replace(e.parse(s).root,""))){const a=new Error(`Path contains invalid characters: ${s}`);throw a.code="EINVAL",a}},sr}var co;function nh(){if(co)return ht;co=1;const e=ze(),{checkPath:t}=rh(),s=c=>{const a={mode:511};return typeof c=="number"?c:{...a,...c}.mode};return ht.makeDir=async(c,a)=>(t(c),e.mkdir(c,{mode:s(a),recursive:!0})),ht.makeDirSync=(c,a)=>(t(c),e.mkdirSync(c,{mode:s(a),recursive:!0})),ht}var or,lo;function Oe(){if(lo)return or;lo=1;const e=Se().fromPromise,{makeDir:t,makeDirSync:s}=nh(),c=e(t);return or={mkdirs:c,mkdirsSync:s,mkdirp:c,mkdirpSync:s,ensureDir:c,ensureDirSync:s},or}var ar,fo;function Me(){if(fo)return ar;fo=1;const e=Se().fromPromise,t=ze();function s(c){return t.access(c).then(()=>!0).catch(()=>!1)}return ar={pathExists:e(s),pathExistsSync:t.existsSync},ar}var ur,ho;function sf(){if(ho)return ur;ho=1;const e=Ee();function t(c,a,n,r){e.open(c,"r+",(i,o)=>{if(i)return r(i);e.futimes(o,a,n,u=>{e.close(o,l=>{r&&r(u||l)})})})}function s(c,a,n){const r=e.openSync(c,"r+");return e.futimesSync(r,a,n),e.closeSync(r)}return ur={utimesMillis:t,utimesMillisSync:s},ur}var cr,po;function Ye(){if(po)return cr;po=1;const e=ze(),t=ce,s=Vt;function c(h,E,R){const v=R.dereference?d=>e.stat(d,{bigint:!0}):d=>e.lstat(d,{bigint:!0});return Promise.all([v(h),v(E).catch(d=>{if(d.code==="ENOENT")return null;throw d})]).then(([d,p])=>({srcStat:d,destStat:p}))}function a(h,E,R){let v;const d=R.dereference?g=>e.statSync(g,{bigint:!0}):g=>e.lstatSync(g,{bigint:!0}),p=d(h);try{v=d(E)}catch(g){if(g.code==="ENOENT")return{srcStat:p,destStat:null};throw g}return{srcStat:p,destStat:v}}function n(h,E,R,v,d){s.callbackify(c)(h,E,v,(p,g)=>{if(p)return d(p);const{srcStat:f,destStat:S}=g;if(S){if(u(f,S)){const _=t.basename(h),w=t.basename(E);return R==="move"&&_!==w&&_.toLowerCase()===w.toLowerCase()?d(null,{srcStat:f,destStat:S,isChangingCase:!0}):d(new Error("Source and destination must not be the same."))}if(f.isDirectory()&&!S.isDirectory())return d(new Error(`Cannot overwrite non-directory '${E}' with directory '${h}'.`));if(!f.isDirectory()&&S.isDirectory())return d(new Error(`Cannot overwrite directory '${E}' with non-directory '${h}'.`))}return f.isDirectory()&&l(h,E)?d(new Error(m(h,E,R))):d(null,{srcStat:f,destStat:S})})}function r(h,E,R,v){const{srcStat:d,destStat:p}=a(h,E,v);if(p){if(u(d,p)){const g=t.basename(h),f=t.basename(E);if(R==="move"&&g!==f&&g.toLowerCase()===f.toLowerCase())return{srcStat:d,destStat:p,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(d.isDirectory()&&!p.isDirectory())throw new Error(`Cannot overwrite non-directory '${E}' with directory '${h}'.`);if(!d.isDirectory()&&p.isDirectory())throw new Error(`Cannot overwrite directory '${E}' with non-directory '${h}'.`)}if(d.isDirectory()&&l(h,E))throw new Error(m(h,E,R));return{srcStat:d,destStat:p}}function i(h,E,R,v,d){const p=t.resolve(t.dirname(h)),g=t.resolve(t.dirname(R));if(g===p||g===t.parse(g).root)return d();e.stat(g,{bigint:!0},(f,S)=>f?f.code==="ENOENT"?d():d(f):u(E,S)?d(new Error(m(h,R,v))):i(h,E,g,v,d))}function o(h,E,R,v){const d=t.resolve(t.dirname(h)),p=t.resolve(t.dirname(R));if(p===d||p===t.parse(p).root)return;let g;try{g=e.statSync(p,{bigint:!0})}catch(f){if(f.code==="ENOENT")return;throw f}if(u(E,g))throw new Error(m(h,R,v));return o(h,E,p,v)}function u(h,E){return E.ino&&E.dev&&E.ino===h.ino&&E.dev===h.dev}function l(h,E){const R=t.resolve(h).split(t.sep).filter(d=>d),v=t.resolve(E).split(t.sep).filter(d=>d);return R.reduce((d,p,g)=>d&&v[g]===p,!0)}function m(h,E,R){return`Cannot ${R} '${h}' to a subdirectory of itself, '${E}'.`}return cr={checkPaths:n,checkPathsSync:r,checkParentPaths:i,checkParentPathsSync:o,isSrcSubdir:l,areIdentical:u},cr}var lr,mo;function ih(){if(mo)return lr;mo=1;const e=Ee(),t=ce,s=Oe().mkdirs,c=Me().pathExists,a=sf().utimesMillis,n=Ye();function r(x,q,$,L){typeof $=="function"&&!L?(L=$,$={}):typeof $=="function"&&($={filter:$}),L=L||function(){},$=$||{},$.clobber="clobber"in $?!!$.clobber:!0,$.overwrite="overwrite"in $?!!$.overwrite:$.clobber,$.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0001"),n.checkPaths(x,q,"copy",$,(T,I)=>{if(T)return L(T);const{srcStat:k,destStat:U}=I;n.checkParentPaths(x,k,q,"copy",V=>V?L(V):$.filter?o(i,U,x,q,$,L):i(U,x,q,$,L))})}function i(x,q,$,L,T){const I=t.dirname($);c(I,(k,U)=>{if(k)return T(k);if(U)return l(x,q,$,L,T);s(I,V=>V?T(V):l(x,q,$,L,T))})}function o(x,q,$,L,T,I){Promise.resolve(T.filter($,L)).then(k=>k?x(q,$,L,T,I):I(),k=>I(k))}function u(x,q,$,L,T){return L.filter?o(l,x,q,$,L,T):l(x,q,$,L,T)}function l(x,q,$,L,T){(L.dereference?e.stat:e.lstat)(q,(k,U)=>k?T(k):U.isDirectory()?S(U,x,q,$,L,T):U.isFile()||U.isCharacterDevice()||U.isBlockDevice()?m(U,x,q,$,L,T):U.isSymbolicLink()?P(x,q,$,L,T):U.isSocket()?T(new Error(`Cannot copy a socket file: ${q}`)):U.isFIFO()?T(new Error(`Cannot copy a FIFO pipe: ${q}`)):T(new Error(`Unknown file: ${q}`)))}function m(x,q,$,L,T,I){return q?h(x,$,L,T,I):E(x,$,L,T,I)}function h(x,q,$,L,T){if(L.overwrite)e.unlink($,I=>I?T(I):E(x,q,$,L,T));else return L.errorOnExist?T(new Error(`'${$}' already exists`)):T()}function E(x,q,$,L,T){e.copyFile(q,$,I=>I?T(I):L.preserveTimestamps?R(x.mode,q,$,T):g($,x.mode,T))}function R(x,q,$,L){return v(x)?d($,x,T=>T?L(T):p(x,q,$,L)):p(x,q,$,L)}function v(x){return(x&128)===0}function d(x,q,$){return g(x,q|128,$)}function p(x,q,$,L){f(q,$,T=>T?L(T):g($,x,L))}function g(x,q,$){return e.chmod(x,q,$)}function f(x,q,$){e.stat(x,(L,T)=>L?$(L):a(q,T.atime,T.mtime,$))}function S(x,q,$,L,T,I){return q?w($,L,T,I):_(x.mode,$,L,T,I)}function _(x,q,$,L,T){e.mkdir($,I=>{if(I)return T(I);w(q,$,L,k=>k?T(k):g($,x,T))})}function w(x,q,$,L){e.readdir(x,(T,I)=>T?L(T):y(I,x,q,$,L))}function y(x,q,$,L,T){const I=x.pop();return I?b(x,I,q,$,L,T):T()}function b(x,q,$,L,T,I){const k=t.join($,q),U=t.join(L,q);n.checkPaths(k,U,"copy",T,(V,j)=>{if(V)return I(V);const{destStat:O}=j;u(O,k,U,T,N=>N?I(N):y(x,$,L,T,I))})}function P(x,q,$,L,T){e.readlink(q,(I,k)=>{if(I)return T(I);if(L.dereference&&(k=t.resolve(process.cwd(),k)),x)e.readlink($,(U,V)=>U?U.code==="EINVAL"||U.code==="UNKNOWN"?e.symlink(k,$,T):T(U):(L.dereference&&(V=t.resolve(process.cwd(),V)),n.isSrcSubdir(k,V)?T(new Error(`Cannot copy '${k}' to a subdirectory of itself, '${V}'.`)):x.isDirectory()&&n.isSrcSubdir(V,k)?T(new Error(`Cannot overwrite '${V}' with '${k}'.`)):D(k,$,T)));else return e.symlink(k,$,T)})}function D(x,q,$){e.unlink(q,L=>L?$(L):e.symlink(x,q,$))}return lr=r,lr}var fr,_o;function sh(){if(_o)return fr;_o=1;const e=Ee(),t=ce,s=Oe().mkdirsSync,c=sf().utimesMillisSync,a=Ye();function n(y,b,P){typeof P=="function"&&(P={filter:P}),P=P||{},P.clobber="clobber"in P?!!P.clobber:!0,P.overwrite="overwrite"in P?!!P.overwrite:P.clobber,P.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0002");const{srcStat:D,destStat:x}=a.checkPathsSync(y,b,"copy",P);return a.checkParentPathsSync(y,D,b,"copy"),r(x,y,b,P)}function r(y,b,P,D){if(D.filter&&!D.filter(b,P))return;const x=t.dirname(P);return e.existsSync(x)||s(x),o(y,b,P,D)}function i(y,b,P,D){if(!(D.filter&&!D.filter(b,P)))return o(y,b,P,D)}function o(y,b,P,D){const q=(D.dereference?e.statSync:e.lstatSync)(b);if(q.isDirectory())return p(q,y,b,P,D);if(q.isFile()||q.isCharacterDevice()||q.isBlockDevice())return u(q,y,b,P,D);if(q.isSymbolicLink())return _(y,b,P,D);throw q.isSocket()?new Error(`Cannot copy a socket file: ${b}`):q.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${b}`):new Error(`Unknown file: ${b}`)}function u(y,b,P,D,x){return b?l(y,P,D,x):m(y,P,D,x)}function l(y,b,P,D){if(D.overwrite)return e.unlinkSync(P),m(y,b,P,D);if(D.errorOnExist)throw new Error(`'${P}' already exists`)}function m(y,b,P,D){return e.copyFileSync(b,P),D.preserveTimestamps&&h(y.mode,b,P),v(P,y.mode)}function h(y,b,P){return E(y)&&R(P,y),d(b,P)}function E(y){return(y&128)===0}function R(y,b){return v(y,b|128)}function v(y,b){return e.chmodSync(y,b)}function d(y,b){const P=e.statSync(y);return c(b,P.atime,P.mtime)}function p(y,b,P,D,x){return b?f(P,D,x):g(y.mode,P,D,x)}function g(y,b,P,D){return e.mkdirSync(P),f(b,P,D),v(P,y)}function f(y,b,P){e.readdirSync(y).forEach(D=>S(D,y,b,P))}function S(y,b,P,D){const x=t.join(b,y),q=t.join(P,y),{destStat:$}=a.checkPathsSync(x,q,"copy",D);return i($,x,q,D)}function _(y,b,P,D){let x=e.readlinkSync(b);if(D.dereference&&(x=t.resolve(process.cwd(),x)),y){let q;try{q=e.readlinkSync(P)}catch($){if($.code==="EINVAL"||$.code==="UNKNOWN")return e.symlinkSync(x,P);throw $}if(D.dereference&&(q=t.resolve(process.cwd(),q)),a.isSrcSubdir(x,q))throw new Error(`Cannot copy '${x}' to a subdirectory of itself, '${q}'.`);if(e.statSync(P).isDirectory()&&a.isSrcSubdir(q,x))throw new Error(`Cannot overwrite '${q}' with '${x}'.`);return w(x,P)}else return e.symlinkSync(x,P)}function w(y,b){return e.unlinkSync(b),e.symlinkSync(y,b)}return fr=n,fr}var hr,yo;function Ds(){if(yo)return hr;yo=1;const e=Se().fromCallback;return hr={copy:e(ih()),copySync:sh()},hr}var dr,go;function oh(){if(go)return dr;go=1;const e=Ee(),t=ce,s=ut,c=process.platform==="win32";function a(R){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(d=>{R[d]=R[d]||e[d],d=d+"Sync",R[d]=R[d]||e[d]}),R.maxBusyTries=R.maxBusyTries||3}function n(R,v,d){let p=0;typeof v=="function"&&(d=v,v={}),s(R,"rimraf: missing path"),s.strictEqual(typeof R,"string","rimraf: path should be a string"),s.strictEqual(typeof d,"function","rimraf: callback function required"),s(v,"rimraf: invalid options argument provided"),s.strictEqual(typeof v,"object","rimraf: options should be object"),a(v),r(R,v,function g(f){if(f){if((f.code==="EBUSY"||f.code==="ENOTEMPTY"||f.code==="EPERM")&&p<v.maxBusyTries){p++;const S=p*100;return setTimeout(()=>r(R,v,g),S)}f.code==="ENOENT"&&(f=null)}d(f)})}function r(R,v,d){s(R),s(v),s(typeof d=="function"),v.lstat(R,(p,g)=>{if(p&&p.code==="ENOENT")return d(null);if(p&&p.code==="EPERM"&&c)return i(R,v,p,d);if(g&&g.isDirectory())return u(R,v,p,d);v.unlink(R,f=>{if(f){if(f.code==="ENOENT")return d(null);if(f.code==="EPERM")return c?i(R,v,f,d):u(R,v,f,d);if(f.code==="EISDIR")return u(R,v,f,d)}return d(f)})})}function i(R,v,d,p){s(R),s(v),s(typeof p=="function"),v.chmod(R,438,g=>{g?p(g.code==="ENOENT"?null:d):v.stat(R,(f,S)=>{f?p(f.code==="ENOENT"?null:d):S.isDirectory()?u(R,v,d,p):v.unlink(R,p)})})}function o(R,v,d){let p;s(R),s(v);try{v.chmodSync(R,438)}catch(g){if(g.code==="ENOENT")return;throw d}try{p=v.statSync(R)}catch(g){if(g.code==="ENOENT")return;throw d}p.isDirectory()?h(R,v,d):v.unlinkSync(R)}function u(R,v,d,p){s(R),s(v),s(typeof p=="function"),v.rmdir(R,g=>{g&&(g.code==="ENOTEMPTY"||g.code==="EEXIST"||g.code==="EPERM")?l(R,v,p):g&&g.code==="ENOTDIR"?p(d):p(g)})}function l(R,v,d){s(R),s(v),s(typeof d=="function"),v.readdir(R,(p,g)=>{if(p)return d(p);let f=g.length,S;if(f===0)return v.rmdir(R,d);g.forEach(_=>{n(t.join(R,_),v,w=>{if(!S){if(w)return d(S=w);--f===0&&v.rmdir(R,d)}})})})}function m(R,v){let d;v=v||{},a(v),s(R,"rimraf: missing path"),s.strictEqual(typeof R,"string","rimraf: path should be a string"),s(v,"rimraf: missing options"),s.strictEqual(typeof v,"object","rimraf: options should be object");try{d=v.lstatSync(R)}catch(p){if(p.code==="ENOENT")return;p.code==="EPERM"&&c&&o(R,v,p)}try{d&&d.isDirectory()?h(R,v,null):v.unlinkSync(R)}catch(p){if(p.code==="ENOENT")return;if(p.code==="EPERM")return c?o(R,v,p):h(R,v,p);if(p.code!=="EISDIR")throw p;h(R,v,p)}}function h(R,v,d){s(R),s(v);try{v.rmdirSync(R)}catch(p){if(p.code==="ENOTDIR")throw d;if(p.code==="ENOTEMPTY"||p.code==="EEXIST"||p.code==="EPERM")E(R,v);else if(p.code!=="ENOENT")throw p}}function E(R,v){if(s(R),s(v),v.readdirSync(R).forEach(d=>m(t.join(R,d),v)),c){const d=Date.now();do try{return v.rmdirSync(R,v)}catch{}while(Date.now()-d<500)}else return v.rmdirSync(R,v)}return dr=n,n.sync=m,dr}var pr,vo;function zt(){if(vo)return pr;vo=1;const e=Ee(),t=Se().fromCallback,s=oh();function c(n,r){if(e.rm)return e.rm(n,{recursive:!0,force:!0},r);s(n,r)}function a(n){if(e.rmSync)return e.rmSync(n,{recursive:!0,force:!0});s.sync(n)}return pr={remove:t(c),removeSync:a},pr}var mr,Eo;function ah(){if(Eo)return mr;Eo=1;const e=Se().fromPromise,t=ze(),s=ce,c=Oe(),a=zt(),n=e(async function(o){let u;try{u=await t.readdir(o)}catch{return c.mkdirs(o)}return Promise.all(u.map(l=>a.remove(s.join(o,l))))});function r(i){let o;try{o=t.readdirSync(i)}catch{return c.mkdirsSync(i)}o.forEach(u=>{u=s.join(i,u),a.removeSync(u)})}return mr={emptyDirSync:r,emptydirSync:r,emptyDir:n,emptydir:n},mr}var _r,So;function uh(){if(So)return _r;So=1;const e=Se().fromCallback,t=ce,s=Ee(),c=Oe();function a(r,i){function o(){s.writeFile(r,"",u=>{if(u)return i(u);i()})}s.stat(r,(u,l)=>{if(!u&&l.isFile())return i();const m=t.dirname(r);s.stat(m,(h,E)=>{if(h)return h.code==="ENOENT"?c.mkdirs(m,R=>{if(R)return i(R);o()}):i(h);E.isDirectory()?o():s.readdir(m,R=>{if(R)return i(R)})})})}function n(r){let i;try{i=s.statSync(r)}catch{}if(i&&i.isFile())return;const o=t.dirname(r);try{s.statSync(o).isDirectory()||s.readdirSync(o)}catch(u){if(u&&u.code==="ENOENT")c.mkdirsSync(o);else throw u}s.writeFileSync(r,"")}return _r={createFile:e(a),createFileSync:n},_r}var yr,Ro;function ch(){if(Ro)return yr;Ro=1;const e=Se().fromCallback,t=ce,s=Ee(),c=Oe(),a=Me().pathExists,{areIdentical:n}=Ye();function r(o,u,l){function m(h,E){s.link(h,E,R=>{if(R)return l(R);l(null)})}s.lstat(u,(h,E)=>{s.lstat(o,(R,v)=>{if(R)return R.message=R.message.replace("lstat","ensureLink"),l(R);if(E&&n(v,E))return l(null);const d=t.dirname(u);a(d,(p,g)=>{if(p)return l(p);if(g)return m(o,u);c.mkdirs(d,f=>{if(f)return l(f);m(o,u)})})})})}function i(o,u){let l;try{l=s.lstatSync(u)}catch{}try{const E=s.lstatSync(o);if(l&&n(E,l))return}catch(E){throw E.message=E.message.replace("lstat","ensureLink"),E}const m=t.dirname(u);return s.existsSync(m)||c.mkdirsSync(m),s.linkSync(o,u)}return yr={createLink:e(r),createLinkSync:i},yr}var gr,wo;function lh(){if(wo)return gr;wo=1;const e=ce,t=Ee(),s=Me().pathExists;function c(n,r,i){if(e.isAbsolute(n))return t.lstat(n,o=>o?(o.message=o.message.replace("lstat","ensureSymlink"),i(o)):i(null,{toCwd:n,toDst:n}));{const o=e.dirname(r),u=e.join(o,n);return s(u,(l,m)=>l?i(l):m?i(null,{toCwd:u,toDst:n}):t.lstat(n,h=>h?(h.message=h.message.replace("lstat","ensureSymlink"),i(h)):i(null,{toCwd:n,toDst:e.relative(o,n)})))}}function a(n,r){let i;if(e.isAbsolute(n)){if(i=t.existsSync(n),!i)throw new Error("absolute srcpath does not exist");return{toCwd:n,toDst:n}}else{const o=e.dirname(r),u=e.join(o,n);if(i=t.existsSync(u),i)return{toCwd:u,toDst:n};if(i=t.existsSync(n),!i)throw new Error("relative srcpath does not exist");return{toCwd:n,toDst:e.relative(o,n)}}}return gr={symlinkPaths:c,symlinkPathsSync:a},gr}var vr,Oo;function fh(){if(Oo)return vr;Oo=1;const e=Ee();function t(c,a,n){if(n=typeof a=="function"?a:n,a=typeof a=="function"?!1:a,a)return n(null,a);e.lstat(c,(r,i)=>{if(r)return n(null,"file");a=i&&i.isDirectory()?"dir":"file",n(null,a)})}function s(c,a){let n;if(a)return a;try{n=e.lstatSync(c)}catch{return"file"}return n&&n.isDirectory()?"dir":"file"}return vr={symlinkType:t,symlinkTypeSync:s},vr}var Er,bo;function hh(){if(bo)return Er;bo=1;const e=Se().fromCallback,t=ce,s=ze(),c=Oe(),a=c.mkdirs,n=c.mkdirsSync,r=lh(),i=r.symlinkPaths,o=r.symlinkPathsSync,u=fh(),l=u.symlinkType,m=u.symlinkTypeSync,h=Me().pathExists,{areIdentical:E}=Ye();function R(p,g,f,S){S=typeof f=="function"?f:S,f=typeof f=="function"?!1:f,s.lstat(g,(_,w)=>{!_&&w.isSymbolicLink()?Promise.all([s.stat(p),s.stat(g)]).then(([y,b])=>{if(E(y,b))return S(null);v(p,g,f,S)}):v(p,g,f,S)})}function v(p,g,f,S){i(p,g,(_,w)=>{if(_)return S(_);p=w.toDst,l(w.toCwd,f,(y,b)=>{if(y)return S(y);const P=t.dirname(g);h(P,(D,x)=>{if(D)return S(D);if(x)return s.symlink(p,g,b,S);a(P,q=>{if(q)return S(q);s.symlink(p,g,b,S)})})})})}function d(p,g,f){let S;try{S=s.lstatSync(g)}catch{}if(S&&S.isSymbolicLink()){const b=s.statSync(p),P=s.statSync(g);if(E(b,P))return}const _=o(p,g);p=_.toDst,f=m(_.toCwd,f);const w=t.dirname(g);return s.existsSync(w)||n(w),s.symlinkSync(p,g,f)}return Er={createSymlink:e(R),createSymlinkSync:d},Er}var Sr,Ao;function dh(){if(Ao)return Sr;Ao=1;const{createFile:e,createFileSync:t}=uh(),{createLink:s,createLinkSync:c}=ch(),{createSymlink:a,createSymlinkSync:n}=hh();return Sr={createFile:e,createFileSync:t,ensureFile:e,ensureFileSync:t,createLink:s,createLinkSync:c,ensureLink:s,ensureLinkSync:c,createSymlink:a,createSymlinkSync:n,ensureSymlink:a,ensureSymlinkSync:n},Sr}var Rr,Po;function xs(){if(Po)return Rr;Po=1;function e(s,{EOL:c=`
`,finalEOL:a=!0,replacer:n=null,spaces:r}={}){const i=a?c:"";return JSON.stringify(s,n,r).replace(/\n/g,c)+i}function t(s){return Buffer.isBuffer(s)&&(s=s.toString("utf8")),s.replace(/^\uFEFF/,"")}return Rr={stringify:e,stripBom:t},Rr}var wr,To;function ph(){if(To)return wr;To=1;let e;try{e=Ee()}catch{e=me}const t=Se(),{stringify:s,stripBom:c}=xs();async function a(m,h={}){typeof h=="string"&&(h={encoding:h});const E=h.fs||e,R="throws"in h?h.throws:!0;let v=await t.fromCallback(E.readFile)(m,h);v=c(v);let d;try{d=JSON.parse(v,h?h.reviver:null)}catch(p){if(R)throw p.message=`${m}: ${p.message}`,p;return null}return d}const n=t.fromPromise(a);function r(m,h={}){typeof h=="string"&&(h={encoding:h});const E=h.fs||e,R="throws"in h?h.throws:!0;try{let v=E.readFileSync(m,h);return v=c(v),JSON.parse(v,h.reviver)}catch(v){if(R)throw v.message=`${m}: ${v.message}`,v;return null}}async function i(m,h,E={}){const R=E.fs||e,v=s(h,E);await t.fromCallback(R.writeFile)(m,v,E)}const o=t.fromPromise(i);function u(m,h,E={}){const R=E.fs||e,v=s(h,E);return R.writeFileSync(m,v,E)}return wr={readFile:n,readFileSync:r,writeFile:o,writeFileSync:u},wr}var Or,Io;function mh(){if(Io)return Or;Io=1;const e=ph();return Or={readJson:e.readFile,readJsonSync:e.readFileSync,writeJson:e.writeFile,writeJsonSync:e.writeFileSync},Or}var br,No;function Fs(){if(No)return br;No=1;const e=Se().fromCallback,t=Ee(),s=ce,c=Oe(),a=Me().pathExists;function n(i,o,u,l){typeof u=="function"&&(l=u,u="utf8");const m=s.dirname(i);a(m,(h,E)=>{if(h)return l(h);if(E)return t.writeFile(i,o,u,l);c.mkdirs(m,R=>{if(R)return l(R);t.writeFile(i,o,u,l)})})}function r(i,...o){const u=s.dirname(i);if(t.existsSync(u))return t.writeFileSync(i,...o);c.mkdirsSync(u),t.writeFileSync(i,...o)}return br={outputFile:e(n),outputFileSync:r},br}var Ar,$o;function _h(){if($o)return Ar;$o=1;const{stringify:e}=xs(),{outputFile:t}=Fs();async function s(c,a,n={}){const r=e(a,n);await t(c,r,n)}return Ar=s,Ar}var Pr,Co;function yh(){if(Co)return Pr;Co=1;const{stringify:e}=xs(),{outputFileSync:t}=Fs();function s(c,a,n){const r=e(a,n);t(c,r,n)}return Pr=s,Pr}var Tr,Lo;function gh(){if(Lo)return Tr;Lo=1;const e=Se().fromPromise,t=mh();return t.outputJson=e(_h()),t.outputJsonSync=yh(),t.outputJSON=t.outputJson,t.outputJSONSync=t.outputJsonSync,t.writeJSON=t.writeJson,t.writeJSONSync=t.writeJsonSync,t.readJSON=t.readJson,t.readJSONSync=t.readJsonSync,Tr=t,Tr}var Ir,Do;function vh(){if(Do)return Ir;Do=1;const e=Ee(),t=ce,s=Ds().copy,c=zt().remove,a=Oe().mkdirp,n=Me().pathExists,r=Ye();function i(h,E,R,v){typeof R=="function"&&(v=R,R={}),R=R||{};const d=R.overwrite||R.clobber||!1;r.checkPaths(h,E,"move",R,(p,g)=>{if(p)return v(p);const{srcStat:f,isChangingCase:S=!1}=g;r.checkParentPaths(h,f,E,"move",_=>{if(_)return v(_);if(o(E))return u(h,E,d,S,v);a(t.dirname(E),w=>w?v(w):u(h,E,d,S,v))})})}function o(h){const E=t.dirname(h);return t.parse(E).root===E}function u(h,E,R,v,d){if(v)return l(h,E,R,d);if(R)return c(E,p=>p?d(p):l(h,E,R,d));n(E,(p,g)=>p?d(p):g?d(new Error("dest already exists.")):l(h,E,R,d))}function l(h,E,R,v){e.rename(h,E,d=>d?d.code!=="EXDEV"?v(d):m(h,E,R,v):v())}function m(h,E,R,v){s(h,E,{overwrite:R,errorOnExist:!0},p=>p?v(p):c(h,v))}return Ir=i,Ir}var Nr,xo;function Eh(){if(xo)return Nr;xo=1;const e=Ee(),t=ce,s=Ds().copySync,c=zt().removeSync,a=Oe().mkdirpSync,n=Ye();function r(m,h,E){E=E||{};const R=E.overwrite||E.clobber||!1,{srcStat:v,isChangingCase:d=!1}=n.checkPathsSync(m,h,"move",E);return n.checkParentPathsSync(m,v,h,"move"),i(h)||a(t.dirname(h)),o(m,h,R,d)}function i(m){const h=t.dirname(m);return t.parse(h).root===h}function o(m,h,E,R){if(R)return u(m,h,E);if(E)return c(h),u(m,h,E);if(e.existsSync(h))throw new Error("dest already exists.");return u(m,h,E)}function u(m,h,E){try{e.renameSync(m,h)}catch(R){if(R.code!=="EXDEV")throw R;return l(m,h,E)}}function l(m,h,E){return s(m,h,{overwrite:E,errorOnExist:!0}),c(m)}return Nr=r,Nr}var $r,Fo;function Sh(){if(Fo)return $r;Fo=1;const e=Se().fromCallback;return $r={move:e(vh()),moveSync:Eh()},$r}var Cr,qo;function Rh(){return qo||(qo=1,Cr={...ze(),...Ds(),...ah(),...dh(),...gh(),...Oe(),...Sh(),...Fs(),...Me(),...zt()}),Cr}var pe=Rh(),Lr,Mo;function wh(){if(Mo)return Lr;Mo=1;var e=ct;return Lr=e.homedir||function(){var s=process.env.HOME,c=process.env.LOGNAME||process.env.USER||process.env.LNAME||process.env.USERNAME;return process.platform==="win32"?process.env.USERPROFILE||process.env.HOMEDRIVE+process.env.HOMEPATH||s||null:process.platform==="darwin"?s||(c?"/Users/"+c:null):process.platform==="linux"?s||(process.getuid()===0?"/root":c?"/home/"+c:null):s||null},Lr}var Dr,ko;function Oh(){return ko||(ko=1,Dr=function(){var e=Error.prepareStackTrace;Error.prepareStackTrace=function(s,c){return c};var t=new Error().stack;return Error.prepareStackTrace=e,t[2].getFileName()}),Dr}var Ue={exports:{}},Bo;function bh(){if(Bo)return Ue.exports;Bo=1;var e=process.platform==="win32",t=/^(((?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?[\\\/]?)(?:[^\\\/]*[\\\/])*)((\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))[\\\/]*$/,s={};function c(i){return t.exec(i).slice(1)}s.parse=function(i){if(typeof i!="string")throw new TypeError("Parameter 'pathString' must be a string, not "+typeof i);var o=c(i);if(!o||o.length!==5)throw new TypeError("Invalid path '"+i+"'");return{root:o[1],dir:o[0]===o[1]?o[0]:o[0].slice(0,-1),base:o[2],ext:o[4],name:o[3]}};var a=/^((\/?)(?:[^\/]*\/)*)((\.{1,2}|[^\/]+?|)(\.[^.\/]*|))[\/]*$/,n={};function r(i){return a.exec(i).slice(1)}return n.parse=function(i){if(typeof i!="string")throw new TypeError("Parameter 'pathString' must be a string, not "+typeof i);var o=r(i);if(!o||o.length!==5)throw new TypeError("Invalid path '"+i+"'");return{root:o[1],dir:o[0].slice(0,-1),base:o[2],ext:o[4],name:o[3]}},e?Ue.exports=s.parse:Ue.exports=n.parse,Ue.exports.posix=n.parse,Ue.exports.win32=s.parse,Ue.exports}var xr,jo;function Ah(){if(jo)return xr;jo=1;var e=ce,t=e.parse||bh(),s=function(a,n){var r="/";/^([A-Za-z]:)/.test(a)?r="":/^\\\\/.test(a)&&(r="\\\\");for(var i=[a],o=t(a);o.dir!==i[i.length-1];)i.push(o.dir),o=t(o.dir);return i.reduce(function(u,l){return u.concat(n.map(function(m){return e.resolve(r,l,m)}))},[])};return xr=function(a,n,r){var i=n&&n.moduleDirectory?[].concat(n.moduleDirectory):["node_modules"];if(n&&typeof n.paths=="function")return n.paths(r,a,function(){return s(a,i)},n);var o=s(a,i);return n&&n.paths?o.concat(n.paths):o},xr}var Fr,Ho;function Ph(){return Ho||(Ho=1,Fr=function(e,t){return t||{}}),Fr}var qr,Uo;function Th(){if(Uo)return qr;Uo=1;var e="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,s=Math.max,c="[object Function]",a=function(o,u){for(var l=[],m=0;m<o.length;m+=1)l[m]=o[m];for(var h=0;h<u.length;h+=1)l[h+o.length]=u[h];return l},n=function(o,u){for(var l=[],m=u,h=0;m<o.length;m+=1,h+=1)l[h]=o[m];return l},r=function(i,o){for(var u="",l=0;l<i.length;l+=1)u+=i[l],l+1<i.length&&(u+=o);return u};return qr=function(o){var u=this;if(typeof u!="function"||t.apply(u)!==c)throw new TypeError(e+u);for(var l=n(arguments,1),m,h=function(){if(this instanceof m){var p=u.apply(this,a(l,arguments));return Object(p)===p?p:this}return u.apply(o,a(l,arguments))},E=s(0,u.length-l.length),R=[],v=0;v<E;v++)R[v]="$"+v;if(m=Function("binder","return function ("+r(R,",")+"){ return binder.apply(this,arguments); }")(h),u.prototype){var d=function(){};d.prototype=u.prototype,m.prototype=new d,d.prototype=null}return m},qr}var Mr,Go;function Ih(){if(Go)return Mr;Go=1;var e=Th();return Mr=Function.prototype.bind||e,Mr}var kr,Wo;function Nh(){if(Wo)return kr;Wo=1;var e=Function.prototype.call,t=Object.prototype.hasOwnProperty,s=Ih();return kr=s.call(e,t),kr}const $h=!0,Ch=">= 8",Lh=">= 0.5 && < 0.9.7",Dh=!0,xh=!0,Fh=">= 0.5",qh=!0,Mh=!0,kh=!0,Bh=">= 1 && < 8",jh="< 8",Hh=!0,Uh=[">= 14.17 && < 15",">= 15.1"],Gh=!0,Wh=">= 0.7.12",Vh=!0,zh="< 6",Yh=!0,Kh=">= 0.11.1",Xh=">= 0.11.1",Zh=">= 0.11.1",Jh=">= 0.11.1",Qh=">= 0.11.1",ed=">= 0.11.1",td=!0,rd=">= 8.8",nd=!0,id=">= 8",sd="< 8",od=!0,ad=!0,ud=!0,cd=!0,ld=">= 8.5",fd=">= 1",hd=">= 0.5",dd=!0,pd=!0,md=!0,_d=">= 0.11.5 && < 3",yd=">= 0.9.4",gd=">= 0.9.4",vd=">= 1.4.1",Ed=">= 0.9.4",Sd=">= 0.9.4",Rd=">= 0.9.4",wd=!0,Od=!0,bd=[">= 0.4 && < 0.7",">= 0.8"],Ad=!0,Pd=">= 0.11.13",Td=">= 0.11.3 && < 10",Id=">= 0.11.3",Nd=!0,$d=">= 10",Cd=!0,Ld=!0,Dd=!0,xd=">= 1",Fd=!0,qd=[">= 13.4 && < 13.5",">= 18.17 && < 19",">= 20"],Md=">= 11.7",kd=">= 0.5",Bd={assert:$h,"node:assert":[">= 14.18 && < 15",">= 16"],"assert/strict":">= 15","node:assert/strict":">= 16",async_hooks:Ch,"node:async_hooks":[">= 14.18 && < 15",">= 16"],buffer_ieee754:Lh,buffer:Dh,"node:buffer":[">= 14.18 && < 15",">= 16"],child_process:xh,"node:child_process":[">= 14.18 && < 15",">= 16"],cluster:Fh,"node:cluster":[">= 14.18 && < 15",">= 16"],console:qh,"node:console":[">= 14.18 && < 15",">= 16"],constants:Mh,"node:constants":[">= 14.18 && < 15",">= 16"],crypto:kh,"node:crypto":[">= 14.18 && < 15",">= 16"],_debug_agent:Bh,_debugger:jh,dgram:Hh,"node:dgram":[">= 14.18 && < 15",">= 16"],diagnostics_channel:Uh,"node:diagnostics_channel":[">= 14.18 && < 15",">= 16"],dns:Gh,"node:dns":[">= 14.18 && < 15",">= 16"],"dns/promises":">= 15","node:dns/promises":">= 16",domain:Wh,"node:domain":[">= 14.18 && < 15",">= 16"],events:Vh,"node:events":[">= 14.18 && < 15",">= 16"],freelist:zh,fs:Yh,"node:fs":[">= 14.18 && < 15",">= 16"],"fs/promises":[">= 10 && < 10.1",">= 14"],"node:fs/promises":[">= 14.18 && < 15",">= 16"],_http_agent:Kh,"node:_http_agent":[">= 14.18 && < 15",">= 16"],_http_client:Xh,"node:_http_client":[">= 14.18 && < 15",">= 16"],_http_common:Zh,"node:_http_common":[">= 14.18 && < 15",">= 16"],_http_incoming:Jh,"node:_http_incoming":[">= 14.18 && < 15",">= 16"],_http_outgoing:Qh,"node:_http_outgoing":[">= 14.18 && < 15",">= 16"],_http_server:ed,"node:_http_server":[">= 14.18 && < 15",">= 16"],http:td,"node:http":[">= 14.18 && < 15",">= 16"],http2:rd,"node:http2":[">= 14.18 && < 15",">= 16"],https:nd,"node:https":[">= 14.18 && < 15",">= 16"],inspector:id,"node:inspector":[">= 14.18 && < 15",">= 16"],"inspector/promises":[">= 19"],"node:inspector/promises":[">= 19"],_linklist:sd,module:od,"node:module":[">= 14.18 && < 15",">= 16"],net:ad,"node:net":[">= 14.18 && < 15",">= 16"],"node-inspect/lib/_inspect":">= 7.6 && < 12","node-inspect/lib/internal/inspect_client":">= 7.6 && < 12","node-inspect/lib/internal/inspect_repl":">= 7.6 && < 12",os:ud,"node:os":[">= 14.18 && < 15",">= 16"],path:cd,"node:path":[">= 14.18 && < 15",">= 16"],"path/posix":">= 15.3","node:path/posix":">= 16","path/win32":">= 15.3","node:path/win32":">= 16",perf_hooks:ld,"node:perf_hooks":[">= 14.18 && < 15",">= 16"],process:fd,"node:process":[">= 14.18 && < 15",">= 16"],punycode:hd,"node:punycode":[">= 14.18 && < 15",">= 16"],querystring:dd,"node:querystring":[">= 14.18 && < 15",">= 16"],readline:pd,"node:readline":[">= 14.18 && < 15",">= 16"],"readline/promises":">= 17","node:readline/promises":">= 17",repl:md,"node:repl":[">= 14.18 && < 15",">= 16"],"node:sea":[">= 20.12 && < 21",">= 21.7"],smalloc:_d,"node:sqlite":[">= 22.13 && < 23",">= 23.4"],_stream_duplex:yd,"node:_stream_duplex":[">= 14.18 && < 15",">= 16"],_stream_transform:gd,"node:_stream_transform":[">= 14.18 && < 15",">= 16"],_stream_wrap:vd,"node:_stream_wrap":[">= 14.18 && < 15",">= 16"],_stream_passthrough:Ed,"node:_stream_passthrough":[">= 14.18 && < 15",">= 16"],_stream_readable:Sd,"node:_stream_readable":[">= 14.18 && < 15",">= 16"],_stream_writable:Rd,"node:_stream_writable":[">= 14.18 && < 15",">= 16"],stream:wd,"node:stream":[">= 14.18 && < 15",">= 16"],"stream/consumers":">= 16.7","node:stream/consumers":">= 16.7","stream/promises":">= 15","node:stream/promises":">= 16","stream/web":">= 16.5","node:stream/web":">= 16.5",string_decoder:Od,"node:string_decoder":[">= 14.18 && < 15",">= 16"],sys:bd,"node:sys":[">= 14.18 && < 15",">= 16"],"test/reporters":">= 19.9 && < 20.2","node:test/reporters":[">= 18.17 && < 19",">= 19.9",">= 20"],"test/mock_loader":">= 22.3 && < 22.7","node:test/mock_loader":">= 22.3 && < 22.7","node:test":[">= 16.17 && < 17",">= 18"],timers:Ad,"node:timers":[">= 14.18 && < 15",">= 16"],"timers/promises":">= 15","node:timers/promises":">= 16",_tls_common:Pd,"node:_tls_common":[">= 14.18 && < 15",">= 16"],_tls_legacy:Td,_tls_wrap:Id,"node:_tls_wrap":[">= 14.18 && < 15",">= 16"],tls:Nd,"node:tls":[">= 14.18 && < 15",">= 16"],trace_events:$d,"node:trace_events":[">= 14.18 && < 15",">= 16"],tty:Cd,"node:tty":[">= 14.18 && < 15",">= 16"],url:Ld,"node:url":[">= 14.18 && < 15",">= 16"],util:Dd,"node:util":[">= 14.18 && < 15",">= 16"],"util/types":">= 15.3","node:util/types":">= 16","v8/tools/arguments":">= 10 && < 12","v8/tools/codemap":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/consarray":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/csvparser":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/logreader":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/profile_view":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/splaytree":[">= 4.4 && < 5",">= 5.2 && < 12"],v8:xd,"node:v8":[">= 14.18 && < 15",">= 16"],vm:Fd,"node:vm":[">= 14.18 && < 15",">= 16"],wasi:qd,"node:wasi":[">= 18.17 && < 19",">= 20"],worker_threads:Md,"node:worker_threads":[">= 14.18 && < 15",">= 16"],zlib:kd,"node:zlib":[">= 14.18 && < 15",">= 16"]};var Br,Vo;function jd(){if(Vo)return Br;Vo=1;var e=Nh();function t(n,r){for(var i=n.split("."),o=r.split(" "),u=o.length>1?o[0]:"=",l=(o.length>1?o[1]:o[0]).split("."),m=0;m<3;++m){var h=parseInt(i[m]||0,10),E=parseInt(l[m]||0,10);if(h!==E)return u==="<"?h<E:u===">="?h>=E:!1}return u===">="}function s(n,r){var i=r.split(/ ?&& ?/);if(i.length===0)return!1;for(var o=0;o<i.length;++o)if(!t(n,i[o]))return!1;return!0}function c(n,r){if(typeof r=="boolean")return r;var i=typeof n>"u"?process.versions&&process.versions.node:n;if(typeof i!="string")throw new TypeError(typeof n>"u"?"Unable to determine current node version":"If provided, a valid node version is required");if(r&&typeof r=="object"){for(var o=0;o<r.length;++o)if(s(i,r[o]))return!0;return!1}return s(i,r)}var a=Bd;return Br=function(r,i){return e(a,r)&&c(i,a[r])},Br}var jr,zo;function Hd(){if(zo)return jr;zo=1;var e=me,t=wh(),s=ce,c=Oh(),a=Ah(),n=Ph(),r=jd(),i=process.platform!=="win32"&&e.realpath&&typeof e.realpath.native=="function"?e.realpath.native:e.realpath,o=t(),u=function(){return[s.join(o,".node_modules"),s.join(o,".node_libraries")]},l=function(p,g){e.stat(p,function(f,S){return f?f.code==="ENOENT"||f.code==="ENOTDIR"?g(null,!1):g(f):g(null,S.isFile()||S.isFIFO())})},m=function(p,g){e.stat(p,function(f,S){return f?f.code==="ENOENT"||f.code==="ENOTDIR"?g(null,!1):g(f):g(null,S.isDirectory())})},h=function(p,g){i(p,function(f,S){f&&f.code!=="ENOENT"?g(f):g(null,f?p:S)})},E=function(p,g,f,S){f&&f.preserveSymlinks===!1?p(g,S):S(null,g)},R=function(p,g,f){p(g,function(S,_){if(S)f(S);else try{var w=JSON.parse(_);f(null,w)}catch{f(null)}})},v=function(p,g,f){for(var S=a(g,f,p),_=0;_<S.length;_++)S[_]=s.join(S[_],p);return S};return jr=function(p,g,f){var S=f,_=g;if(typeof g=="function"&&(S=_,_={}),typeof p!="string"){var w=new TypeError("Path must be a string.");return process.nextTick(function(){S(w)})}_=n(p,_);var y=_.isFile||l,b=_.isDirectory||m,P=_.readFile||e.readFile,D=_.realpath||h,x=_.readPackage||R;if(_.readFile&&_.readPackage){var q=new TypeError("`readFile` and `readPackage` are mutually exclusive.");return process.nextTick(function(){S(q)})}var $=_.packageIterator,L=_.extensions||[".js"],T=_.includeCoreModules!==!1,I=_.basedir||s.dirname(c()),k=_.filename||I;_.paths=_.paths||u();var U=s.resolve(I);E(D,U,_,function(H,G){H?S(H):j(G)});var V;function j(H){if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(p))V=s.resolve(H,p),(p==="."||p===".."||p.slice(-1)==="/")&&(V+="/"),/\/$/.test(p)&&V===H?ee(V,_.package,O):N(V,_.package,O);else{if(T&&r(p))return S(null,p);C(p,H,function(G,F,B){if(G)S(G);else{if(F)return E(D,F,_,function(J,re){J?S(J):S(null,re,B)});var Y=new Error("Cannot find module '"+p+"' from '"+k+"'");Y.code="MODULE_NOT_FOUND",S(Y)}})}}function O(H,G,F){H?S(H):G?S(null,G,F):ee(V,function(B,Y,J){if(B)S(B);else if(Y)E(D,Y,_,function(se,Z){se?S(se):S(null,Z,J)});else{var re=new Error("Cannot find module '"+p+"' from '"+k+"'");re.code="MODULE_NOT_FOUND",S(re)}})}function N(H,G,F){var B=G,Y=F;typeof B=="function"&&(Y=B,B=void 0);var J=[""].concat(L);re(J,H,B);function re(se,Z,A){if(se.length===0)return Y(null,void 0,A);var X=Z+se[0],Q=A;Q?W(null,Q):z(s.dirname(X),W);function W(K,te,ie){if(Q=te,K)return Y(K);if(ie&&Q&&_.pathFilter){var ue=s.relative(ie,X),le=ue.slice(0,ue.length-se[0].length),he=_.pathFilter(Q,Z,le);if(he)return re([""].concat(L.slice()),s.resolve(ie,he),Q)}y(X,ne)}function ne(K,te){if(K)return Y(K);if(te)return Y(null,X,Q);re(se.slice(1),Z,Q)}}}function z(H,G){if(H===""||H==="/"||process.platform==="win32"&&/^\w:[/\\]*$/.test(H)||/[/\\]node_modules[/\\]*$/.test(H))return G(null);E(D,H,_,function(F,B){if(F)return z(s.dirname(H),G);var Y=s.join(B,"package.json");y(Y,function(J,re){if(!re)return z(s.dirname(H),G);x(P,Y,function(se,Z){se&&G(se);var A=Z;A&&_.packageFilter&&(A=_.packageFilter(A,Y)),G(null,A,H)})})})}function ee(H,G,F){var B=F,Y=G;typeof Y=="function"&&(B=Y,Y=_.package),E(D,H,_,function(J,re){if(J)return B(J);var se=s.join(re,"package.json");y(se,function(Z,A){if(Z)return B(Z);if(!A)return N(s.join(H,"index"),Y,B);x(P,se,function(X,Q){if(X)return B(X);var W=Q;if(W&&_.packageFilter&&(W=_.packageFilter(W,se)),W&&W.main){if(typeof W.main!="string"){var ne=new TypeError("package “"+W.name+"” `main` must be a string");return ne.code="INVALID_PACKAGE_MAIN",B(ne)}(W.main==="."||W.main==="./")&&(W.main="index"),N(s.resolve(H,W.main),W,function(K,te,ie){if(K)return B(K);if(te)return B(null,te,ie);if(!ie)return N(s.join(H,"index"),ie,B);var ue=s.resolve(H,ie.main);ee(ue,ie,function(le,he,ge){if(le)return B(le);if(he)return B(null,he,ge);N(s.join(H,"index"),ge,B)})});return}N(s.join(H,"/index"),W,B)})})})}function M(H,G){if(G.length===0)return H(null,void 0);var F=G[0];b(s.dirname(F),B);function B(re,se){if(re)return H(re);if(!se)return M(H,G.slice(1));N(F,_.package,Y)}function Y(re,se,Z){if(re)return H(re);if(se)return H(null,se,Z);ee(F,_.package,J)}function J(re,se,Z){if(re)return H(re);if(se)return H(null,se,Z);M(H,G.slice(1))}}function C(H,G,F){var B=function(){return v(H,G,_)};M(F,$?$(H,G,B,_):B())}},jr}var Hr,Yo;function Ud(){return Yo||(Yo=1,Hr=Hd()),Hr}var Gd=Ud();const Wd=Ie(Gd);async function Vd(){if(typeof require=="function")return require;const{createRequire:e}=await import("module");return e(import.meta.url)}async function zd(e){try{const t=await Vd();let s=null;const c=console.log;console.log=n=>{s=n};const a=t(e);if(console.log=c,typeof a=="string")return a;if(typeof a=="object"){if(typeof a.include_dir=="string")return a.include_dir;if(typeof a.include=="string")return a.include;if(s!==null)return s}}catch{}return e}async function Yd(e,t){try{const s=await Kd(t,e);if(s!==void 0)return s}catch{}return null}function Kd(e,t){return new Promise(s=>{Wd(e,{basedir:t},(c,a)=>{if(c)throw c;return s(a)})})}async function Ne(e,t){try{return await pe.stat(e,t)}catch{return new Xd}}class Xd{isFile=()=>!1;isDirectory=()=>!1;isBlockDevice=()=>!1;isCharacterDevice=()=>!1;isSymbolicLink=()=>!1;isFIFO=()=>!1;isSocket=()=>!1}class Zd{level=2;setLevel(t="info"){this.level=t==="trace"?4:t==="debug"?3:t==="info"?2:t==="warn"?1:t==="error"?0:-1}error(...t){this.level>=0&&console.error("\x1B[31m[ERROR cmake-ts]\x1B[0m",...t)}warn(...t){this.level>=1&&console.warn("\x1B[33m[WARN cmake-ts]\x1B[0m",...t)}info(...t){this.level>=2&&console.info("\x1B[32m[INFO cmake-ts]\x1B[0m",...t)}log(...t){return this.info(...t)}debug(...t){this.level>=3&&console.debug("\x1B[34m[DEBUG cmake-ts]\x1B[0m",...t)}trace(...t){this.level>=4&&console.trace("\x1B[34m[TRACE cmake-ts]\x1B[0m",...t)}}const oe=new Zd;function Wt(e){return e instanceof Error&&e.stack!==void 0?e.stack:String(e)}async function of(e,t){if(!await Jd(e))return null;const c=fe(e,"node_modules",t);return await Qd(c,t==="node-addon-api"?"napi.h":`${t}.h`)?(oe.debug(`Found package "${t}" at path ${c}!`),c):of(ep(e),t)}async function Jd(e){const t=fe(e,"package.json"),s=fe(e,"node_modules");return(await Ne(t)).isFile()||(await Ne(s)).isDirectory()}async function Qd(e,t){const s=fe(e,t);return(await Ne(s)).isFile()}function ep(e){let t=e;const s=t.split(kf),c=s[s.length-2];return c&&c.charAt(0)==="@"&&(t=fe(t,"..")),t=fe(t,"..",".."),Bf(t)}async function tp(e,t){if(await pe.pathExists(t))return t;const s=await Yd(e,t);return typeof s=="string"?zd(s):of(e,t)}var Ur,Ko;function Yt(){return Ko||(Ko=1,Ur=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{}),Ur}var Gr,Xo;function qs(){if(Xo)return Gr;Xo=1;const e="2.0.0",t=256,s=Number.MAX_SAFE_INTEGER||9007199254740991,c=16,a=t-6;return Gr={MAX_LENGTH:t,MAX_SAFE_COMPONENT_LENGTH:c,MAX_SAFE_BUILD_LENGTH:a,MAX_SAFE_INTEGER:s,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:e,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},Gr}var dt={exports:{}},Zo;function Ms(){return Zo||(Zo=1,function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:s,MAX_SAFE_BUILD_LENGTH:c,MAX_LENGTH:a}=qs(),n=Yt();t=e.exports={};const r=t.re=[],i=t.safeRe=[],o=t.src=[],u=t.safeSrc=[],l=t.t={};let m=0;const h="[a-zA-Z0-9-]",E=[["\\s",1],["\\d",a],[h,c]],R=d=>{for(const[p,g]of E)d=d.split(`${p}*`).join(`${p}{0,${g}}`).split(`${p}+`).join(`${p}{1,${g}}`);return d},v=(d,p,g)=>{const f=R(p),S=m++;n(d,S,p),l[d]=S,o[S]=p,u[S]=f,r[S]=new RegExp(p,g?"g":void 0),i[S]=new RegExp(f,g?"g":void 0)};v("NUMERICIDENTIFIER","0|[1-9]\\d*"),v("NUMERICIDENTIFIERLOOSE","\\d+"),v("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${h}*`),v("MAINVERSION",`(${o[l.NUMERICIDENTIFIER]})\\.(${o[l.NUMERICIDENTIFIER]})\\.(${o[l.NUMERICIDENTIFIER]})`),v("MAINVERSIONLOOSE",`(${o[l.NUMERICIDENTIFIERLOOSE]})\\.(${o[l.NUMERICIDENTIFIERLOOSE]})\\.(${o[l.NUMERICIDENTIFIERLOOSE]})`),v("PRERELEASEIDENTIFIER",`(?:${o[l.NUMERICIDENTIFIER]}|${o[l.NONNUMERICIDENTIFIER]})`),v("PRERELEASEIDENTIFIERLOOSE",`(?:${o[l.NUMERICIDENTIFIERLOOSE]}|${o[l.NONNUMERICIDENTIFIER]})`),v("PRERELEASE",`(?:-(${o[l.PRERELEASEIDENTIFIER]}(?:\\.${o[l.PRERELEASEIDENTIFIER]})*))`),v("PRERELEASELOOSE",`(?:-?(${o[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${o[l.PRERELEASEIDENTIFIERLOOSE]})*))`),v("BUILDIDENTIFIER",`${h}+`),v("BUILD",`(?:\\+(${o[l.BUILDIDENTIFIER]}(?:\\.${o[l.BUILDIDENTIFIER]})*))`),v("FULLPLAIN",`v?${o[l.MAINVERSION]}${o[l.PRERELEASE]}?${o[l.BUILD]}?`),v("FULL",`^${o[l.FULLPLAIN]}$`),v("LOOSEPLAIN",`[v=\\s]*${o[l.MAINVERSIONLOOSE]}${o[l.PRERELEASELOOSE]}?${o[l.BUILD]}?`),v("LOOSE",`^${o[l.LOOSEPLAIN]}$`),v("GTLT","((?:<|>)?=?)"),v("XRANGEIDENTIFIERLOOSE",`${o[l.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),v("XRANGEIDENTIFIER",`${o[l.NUMERICIDENTIFIER]}|x|X|\\*`),v("XRANGEPLAIN",`[v=\\s]*(${o[l.XRANGEIDENTIFIER]})(?:\\.(${o[l.XRANGEIDENTIFIER]})(?:\\.(${o[l.XRANGEIDENTIFIER]})(?:${o[l.PRERELEASE]})?${o[l.BUILD]}?)?)?`),v("XRANGEPLAINLOOSE",`[v=\\s]*(${o[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[l.XRANGEIDENTIFIERLOOSE]})(?:${o[l.PRERELEASELOOSE]})?${o[l.BUILD]}?)?)?`),v("XRANGE",`^${o[l.GTLT]}\\s*${o[l.XRANGEPLAIN]}$`),v("XRANGELOOSE",`^${o[l.GTLT]}\\s*${o[l.XRANGEPLAINLOOSE]}$`),v("COERCEPLAIN",`(^|[^\\d])(\\d{1,${s}})(?:\\.(\\d{1,${s}}))?(?:\\.(\\d{1,${s}}))?`),v("COERCE",`${o[l.COERCEPLAIN]}(?:$|[^\\d])`),v("COERCEFULL",o[l.COERCEPLAIN]+`(?:${o[l.PRERELEASE]})?(?:${o[l.BUILD]})?(?:$|[^\\d])`),v("COERCERTL",o[l.COERCE],!0),v("COERCERTLFULL",o[l.COERCEFULL],!0),v("LONETILDE","(?:~>?)"),v("TILDETRIM",`(\\s*)${o[l.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",v("TILDE",`^${o[l.LONETILDE]}${o[l.XRANGEPLAIN]}$`),v("TILDELOOSE",`^${o[l.LONETILDE]}${o[l.XRANGEPLAINLOOSE]}$`),v("LONECARET","(?:\\^)"),v("CARETTRIM",`(\\s*)${o[l.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",v("CARET",`^${o[l.LONECARET]}${o[l.XRANGEPLAIN]}$`),v("CARETLOOSE",`^${o[l.LONECARET]}${o[l.XRANGEPLAINLOOSE]}$`),v("COMPARATORLOOSE",`^${o[l.GTLT]}\\s*(${o[l.LOOSEPLAIN]})$|^$`),v("COMPARATOR",`^${o[l.GTLT]}\\s*(${o[l.FULLPLAIN]})$|^$`),v("COMPARATORTRIM",`(\\s*)${o[l.GTLT]}\\s*(${o[l.LOOSEPLAIN]}|${o[l.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",v("HYPHENRANGE",`^\\s*(${o[l.XRANGEPLAIN]})\\s+-\\s+(${o[l.XRANGEPLAIN]})\\s*$`),v("HYPHENRANGELOOSE",`^\\s*(${o[l.XRANGEPLAINLOOSE]})\\s+-\\s+(${o[l.XRANGEPLAINLOOSE]})\\s*$`),v("STAR","(<|>)?=?\\s*\\*"),v("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),v("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(dt,dt.exports)),dt.exports}var Wr,Jo;function ks(){if(Jo)return Wr;Jo=1;const e=Object.freeze({loose:!0}),t=Object.freeze({});return Wr=c=>c?typeof c!="object"?e:c:t,Wr}var Vr,Qo;function rp(){if(Qo)return Vr;Qo=1;const e=/^[0-9]+$/,t=(c,a)=>{const n=e.test(c),r=e.test(a);return n&&r&&(c=+c,a=+a),c===a?0:n&&!r?-1:r&&!n?1:c<a?-1:1};return Vr={compareIdentifiers:t,rcompareIdentifiers:(c,a)=>t(a,c)},Vr}var zr,ea;function Bs(){if(ea)return zr;ea=1;const e=Yt(),{MAX_LENGTH:t,MAX_SAFE_INTEGER:s}=qs(),{safeRe:c,safeSrc:a,t:n}=Ms(),r=ks(),{compareIdentifiers:i}=rp();class o{constructor(l,m){if(m=r(m),l instanceof o){if(l.loose===!!m.loose&&l.includePrerelease===!!m.includePrerelease)return l;l=l.version}else if(typeof l!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof l}".`);if(l.length>t)throw new TypeError(`version is longer than ${t} characters`);e("SemVer",l,m),this.options=m,this.loose=!!m.loose,this.includePrerelease=!!m.includePrerelease;const h=l.trim().match(m.loose?c[n.LOOSE]:c[n.FULL]);if(!h)throw new TypeError(`Invalid Version: ${l}`);if(this.raw=l,this.major=+h[1],this.minor=+h[2],this.patch=+h[3],this.major>s||this.major<0)throw new TypeError("Invalid major version");if(this.minor>s||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>s||this.patch<0)throw new TypeError("Invalid patch version");h[4]?this.prerelease=h[4].split(".").map(E=>{if(/^[0-9]+$/.test(E)){const R=+E;if(R>=0&&R<s)return R}return E}):this.prerelease=[],this.build=h[5]?h[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(l){if(e("SemVer.compare",this.version,this.options,l),!(l instanceof o)){if(typeof l=="string"&&l===this.version)return 0;l=new o(l,this.options)}return l.version===this.version?0:this.compareMain(l)||this.comparePre(l)}compareMain(l){return l instanceof o||(l=new o(l,this.options)),i(this.major,l.major)||i(this.minor,l.minor)||i(this.patch,l.patch)}comparePre(l){if(l instanceof o||(l=new o(l,this.options)),this.prerelease.length&&!l.prerelease.length)return-1;if(!this.prerelease.length&&l.prerelease.length)return 1;if(!this.prerelease.length&&!l.prerelease.length)return 0;let m=0;do{const h=this.prerelease[m],E=l.prerelease[m];if(e("prerelease compare",m,h,E),h===void 0&&E===void 0)return 0;if(E===void 0)return 1;if(h===void 0)return-1;if(h===E)continue;return i(h,E)}while(++m)}compareBuild(l){l instanceof o||(l=new o(l,this.options));let m=0;do{const h=this.build[m],E=l.build[m];if(e("build compare",m,h,E),h===void 0&&E===void 0)return 0;if(E===void 0)return 1;if(h===void 0)return-1;if(h===E)continue;return i(h,E)}while(++m)}inc(l,m,h){if(l.startsWith("pre")){if(!m&&h===!1)throw new Error("invalid increment argument: identifier is empty");if(m){const E=new RegExp(`^${this.options.loose?a[n.PRERELEASELOOSE]:a[n.PRERELEASE]}$`),R=`-${m}`.match(E);if(!R||R[1]!==m)throw new Error(`invalid identifier: ${m}`)}}switch(l){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",m,h);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",m,h);break;case"prepatch":this.prerelease.length=0,this.inc("patch",m,h),this.inc("pre",m,h);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",m,h),this.inc("pre",m,h);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const E=Number(h)?1:0;if(this.prerelease.length===0)this.prerelease=[E];else{let R=this.prerelease.length;for(;--R>=0;)typeof this.prerelease[R]=="number"&&(this.prerelease[R]++,R=-2);if(R===-1){if(m===this.prerelease.join(".")&&h===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(E)}}if(m){let R=[m,E];h===!1&&(R=[m]),i(this.prerelease[0],m)===0?isNaN(this.prerelease[1])&&(this.prerelease=R):this.prerelease=R}break}default:throw new Error(`invalid increment argument: ${l}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return zr=o,zr}var Yr,ta;function Ke(){if(ta)return Yr;ta=1;const e=Bs();return Yr=(s,c,a)=>new e(s,a).compare(new e(c,a)),Yr}var Kr,ra;function af(){if(ra)return Kr;ra=1;const e=Ke();return Kr=(s,c,a)=>e(s,c,a)>=0,Kr}var np=af();const ip=Ie(np);var Xr,na;function uf(){if(na)return Xr;na=1;const e=Ke();return Xr=(s,c,a)=>e(s,c,a)<0,Xr}var sp=uf();const op=Ie(sp);function js(e){const t=process.env[e];if(typeof t=="string"&&t.length>0&&t!=="undefined"&&t!=="null")return t}const cf=js("NVM_NODEJS_ORG_MIRROR")??"https://nodejs.org/dist",ap=js("NVM_IOJS_ORG_MIRROR")??"https://iojs.org/dist",up=js("ELECTRON_MIRROR")??"https://artifacts.electronjs.org/headers/dist",cp=process.env[ct.platform()==="win32"?"USERPROFILE":"HOME"];function We(e){switch(e.runtime){case"node":return(op(e.runtimeVersion,"4.0.0")?lp:fp)(e);case"iojs":return{externalPath:`${ap}/v${e.runtimeVersion}/`,winLibs:[{dir:e.arch==="x64"||e.arch==="arm64"?"win-x64":"win-x86",name:`${e.runtime}.lib`}],tarPath:`${e.runtime}-v${e.runtimeVersion}.tar.gz`,headerOnly:!1};case"electron":return{externalPath:`${up}/v${e.runtimeVersion}/`,winLibs:[{dir:e.arch==="x64"?"x64":e.arch==="arm64"?"arm64":"",name:"node.lib"}],tarPath:`node-v${e.runtimeVersion}.tar.gz`,headerOnly:ip(e.runtimeVersion,"4.0.0-alpha")};default:throw new Error(`Unsupported runtime ${e.runtime}`)}}function lp(e){return{externalPath:`${cf}/v${e.runtimeVersion}/`,winLibs:[{dir:e.arch==="x64"||e.arch==="arm64"?"x64":"",name:`${e.runtime}.lib`}],tarPath:`${e.runtime}-v${e.runtimeVersion}.tar.gz`,headerOnly:!1}}function fp(e){return{externalPath:`${cf}/v${e.runtimeVersion}/`,winLibs:[{dir:e.arch==="x64"?"win-x64":e.arch==="arm64"?"win-arm64":e.arch==="ia32"?"win-x86":"",name:`${e.runtime}.lib`}],tarPath:`${e.runtime}-v${e.runtimeVersion}-headers.tar.gz`,headerOnly:!0}}const lf=process.env["ProgramFiles(x86)"],hp=[process.env["ProgramFiles(x86)"],process.env.ProgramFiles],dp=["Enterprise","Professional","Community","BuildTools"],pp=["2022","2019","2017"],mp=`${lf}\\Microsoft Visual Studio\\Installer`;function _p(e,t){try{return`${ef(`vswhere -products * ${t} -prerelease -property installationPath`).toString().trim()}\\${e}`}catch(s){oe.debug(`vswhere failed: ${s}`)}return null}function yp(e){let s=_p("VC\\Auxiliary\\Build\\vcvarsall.bat","-latest");if(s!==null&&er(s))return oe.debug(`Found with vswhere: ${s}`),s;oe.debug("Not found with vswhere");const c=pp;for(const a of hp)for(const n of c)for(const r of dp)if(s=`${a}\\Microsoft Visual Studio\\${n}\\${r}\\VC\\Auxiliary\\Build\\vcvarsall.bat`,oe.debug(`Trying standard location: ${s}`),er(s))return oe.debug(`Found standard location: ${s}`),s;if(oe.debug("Not found in standard locations"),s=`${lf}\\Microsoft Visual C++ Build Tools\\vcbuildtools.bat`,er(s))return oe.debug(`Found VS 2015: ${s}`),s;throw oe.debug(`Not found in VS 2015 location: ${s}`),new Error("Microsoft Visual Studio not found")}function gp(e){return["PATH","INCLUDE","LIB","LIBPATH"].includes(e.toUpperCase())}function vp(e){return e.split(";").filter((t,s,c)=>c.indexOf(t)===s).join(";")}function ia(e){switch(e){case"ia32":return"x86";case"x64":return"amd64";default:return e}}function Ep(e,t){if(process.platform!=="win32")return;const s=ia(process.arch),c=ia(e),a=s===c?c:`${s}_${c}`;oe.debug(`Setting up MSVC for ${a}`),console.group(),process.env.PATH+=jf+mp;const n=[a],r=`"${yp()}" ${n.join(" ")}`;oe.debug(`vcvars command-line: ${r}`);const o=ef(`set && cls && ${r} && cls && set`,{shell:"cmd"}).toString().split("\f"),u=o[0].split(`\r
`),l=o[1].split(`\r
`),m=o[2].split(`\r
`),h=l.filter(R=>!!(R.match(/^\[ERROR.*]/)&&!R.match(/Error in script usage. The correct usage is:$/)));if(h.length>0)throw new Error(`invalid parameters\r
${h.join(`\r
`)}`);const E={};for(const R of u){const[v,d]=R.split("=");E[v]=d}for(const R of m){if(!R.includes("="))continue;let[v,d]=R.split("=");const p=E[v];d!==p&&(oe.debug(`Setting env var ${v}=${d}`),gp(v)&&(d=vp(d)),process.env[v]=d)}console.groupEnd()}class Sp{constructor(t,s){this.config=t,this.rtd=s}async configureCommand(){const t=[this.config.packageDirectory,"--no-warn-unused-cli"],s=await this.buildDefines();for(const[c,a]of s)t.push(`-D${c}=${a}`);return this.config.generatorToUse!=="native"&&(t.push("-G",this.config.generatorToUse),this.config.generatorFlags!==void 0&&t.push(...this.config.generatorFlags)),[this.config.cmakeToUse,t]}buildCommand(t){return[this.config.cmakeToUse,["--build",t,"--config",this.config.buildType,"--parallel"]]}async buildDefines(){const t=We(this.config),s=[];if(s.push(["CMAKE_BUILD_TYPE",this.config.buildType]),this.config.toolchainFile!==void 0&&s.push(["CMAKE_TOOLCHAIN_FILE",Fe(this.config.toolchainFile)]),this.config.os==="win32"){const n=this.rtd.winLibs();n.length&&s.push(["CMAKE_JS_LIB",n.join(";")])}else this.config.os==="darwin"&&s.push(["CMAKE_JS_CXX_FLAGS","-undefined dynamic_lookup"]);const c=[];t.headerOnly?c.push(fe(this.rtd.internalPath(),"/include/node")):c.push(fe(this.rtd.internalPath(),"/src"),fe(this.rtd.internalPath(),"/deps/v8/include"),fe(this.rtd.internalPath(),"/deps/uv/include")),this.config.nodeAPI?.includes("nan")===!0&&oe.warn(`Specified nodeAPI ${this.config.nodeAPI} seems to be nan - The usage of nan is discouraged due to subtle and hard-to-fix ABI issues! Consider using node-addon-api / N-API instead!`),this.config.nodeAPI===void 0&&oe.warn('NodeAPI was not specified. The default changed from "nan" to "node-addon-api" in v0.3.0! Please make sure this is intended.');const a=await tp(this.config.packageDirectory,this.config.nodeAPI??"node-addon-api");if(this.config.nodeAPI!==void 0&&a===null&&oe.warn(`NodeAPI was specified, but module "${this.config.nodeAPI}" could not be found!`),a!==null&&c.push(a),s.push(["CMAKE_JS_INC",c.join(";")]),s.push(["NODE_RUNTIME",this.config.runtime],["NODE_ARCH",this.config.arch],["NODE_PLATFORM",this.config.os],["NODE_RUNTIMEVERSION",this.config.runtimeVersion],["NODE_ABI_VERSION",`${this.rtd.abi()}`]),s.push(["CMAKE_JS_DEFINES",this.config.additionalDefines.join(";")]),this.config.cross===!0){const n=ff(this.config.arch,this.config.os),r=Rp(this.config.os);if(oe.info(`Cross-compiling for ${r}/${n}`),s.push(["CMAKE_SYSTEM_PROCESSOR",n],["CMAKE_SYSTEM_NAME",r]),r==="Darwin"&&s.push(["CMAKE_OSX_ARCHITECTURES",n]),this.config.os==="win32"){const i=this.config.generatorToUse.includes("Visual Studio");try{Ep(this.config.arch),i&&(oe.debug("Removing the generator flags in favour of the vcvarsall.bat script"),this.config.generatorFlags=void 0)}catch(o){oe.warn(`Failed to setup MSVC variables for ${this.config.arch}: ${o}.`),i&&(oe.debug("Setting the CMake generator platform to the target architecture"),s.push(["CMAKE_GENERATOR_PLATFORM",n]))}}}if(this.config.CMakeOptions.length!==0)for(const n of this.config.CMakeOptions)s.push([n.name,n.value.replace(/\$ROOT\$/g,Fe(this.config.packageDirectory))]);return s}}function ff(e,t){return t in Zr&&e in Zr[t]?Zr[t][e]:t==="win32"?e.toUpperCase():e}const Zr={win32:{arm64:"arm64",x64:"AMD64",ia32:"X86"},darwin:{arm64:"arm64",x64:"x86_64",ppc64:"powerpc64",ppc:"powerpc"},linux:{arm64:"aarch64",x64:"x86_64",ia32:"i386",arm:"arm",loong64:"loong64",mips:"mips",mipsel:"mipsel",ppc64:"ppc64"}};function Rp(e){return e in sa?sa[e]:e.toUpperCase()}const sa={win32:"Windows",darwin:"Darwin",linux:"Linux",android:"Android",openbsd:"OpenBSD",freebsd:"FreeBSD",netbsd:"NetBSD",cygwin:"CYGWIN",aix:"AIX",sunos:"SunOS",haiku:"Haiku"};var Jr,oa;function wp(){if(oa)return Jr;oa=1,Jr=c,c.sync=a;var e=me;function t(n,r){var i=r.pathExt!==void 0?r.pathExt:process.env.PATHEXT;if(!i||(i=i.split(";"),i.indexOf("")!==-1))return!0;for(var o=0;o<i.length;o++){var u=i[o].toLowerCase();if(u&&n.substr(-u.length).toLowerCase()===u)return!0}return!1}function s(n,r,i){return!n.isSymbolicLink()&&!n.isFile()?!1:t(r,i)}function c(n,r,i){e.stat(n,function(o,u){i(o,o?!1:s(u,n,r))})}function a(n,r){return s(e.statSync(n),n,r)}return Jr}var Qr,aa;function Op(){if(aa)return Qr;aa=1,Qr=t,t.sync=s;var e=me;function t(n,r,i){e.stat(n,function(o,u){i(o,o?!1:c(u,r))})}function s(n,r){return c(e.statSync(n),r)}function c(n,r){return n.isFile()&&a(n,r)}function a(n,r){var i=n.mode,o=n.uid,u=n.gid,l=r.uid!==void 0?r.uid:process.getuid&&process.getuid(),m=r.gid!==void 0?r.gid:process.getgid&&process.getgid(),h=parseInt("100",8),E=parseInt("010",8),R=parseInt("001",8),v=h|E,d=i&R||i&E&&u===m||i&h&&o===l||i&v&&l===0;return d}return Qr}var en,ua;function bp(){if(ua)return en;ua=1;var e;process.platform==="win32"||$e.TESTING_WINDOWS?e=wp():e=Op(),en=t,t.sync=s;function t(c,a,n){if(typeof a=="function"&&(n=a,a={}),!n){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(r,i){t(c,a||{},function(o,u){o?i(o):r(u)})})}e(c,a||{},function(r,i){r&&(r.code==="EACCES"||a&&a.ignoreErrors)&&(r=null,i=!1),n(r,i)})}function s(c,a){try{return e.sync(c,a||{})}catch(n){if(a&&a.ignoreErrors||n.code==="EACCES")return!1;throw n}}return en}var tn,ca;function Ap(){if(ca)return tn;ca=1;const e=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",t=ce,s=e?";":":",c=bp(),a=o=>Object.assign(new Error(`not found: ${o}`),{code:"ENOENT"}),n=(o,u)=>{const l=u.colon||s,m=o.match(/\//)||e&&o.match(/\\/)?[""]:[...e?[process.cwd()]:[],...(u.path||process.env.PATH||"").split(l)],h=e?u.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",E=e?h.split(l):[""];return e&&o.indexOf(".")!==-1&&E[0]!==""&&E.unshift(""),{pathEnv:m,pathExt:E,pathExtExe:h}},r=(o,u,l)=>{typeof u=="function"&&(l=u,u={}),u||(u={});const{pathEnv:m,pathExt:h,pathExtExe:E}=n(o,u),R=[],v=p=>new Promise((g,f)=>{if(p===m.length)return u.all&&R.length?g(R):f(a(o));const S=m[p],_=/^".*"$/.test(S)?S.slice(1,-1):S,w=t.join(_,o),y=!_&&/^\.[\\\/]/.test(o)?o.slice(0,2)+w:w;g(d(y,p,0))}),d=(p,g,f)=>new Promise((S,_)=>{if(f===h.length)return S(v(g+1));const w=h[f];c(p+w,{pathExt:E},(y,b)=>{if(!y&&b)if(u.all)R.push(p+w);else return S(p+w);return S(d(p,g,f+1))})});return l?v(0).then(p=>l(null,p),l):v(0)},i=(o,u)=>{u=u||{};const{pathEnv:l,pathExt:m,pathExtExe:h}=n(o,u),E=[];for(let R=0;R<l.length;R++){const v=l[R],d=/^".*"$/.test(v)?v.slice(1,-1):v,p=t.join(d,o),g=!d&&/^\.[\\\/]/.test(o)?o.slice(0,2)+p:p;for(let f=0;f<m.length;f++){const S=g+m[f];try{if(c.sync(S,{pathExt:h}))if(u.all)E.push(S);else return S}catch{}}}if(u.all&&E.length)return E;if(u.nothrow)return null;throw a(o)};return tn=r,r.sync=i,tn}var Pp=Ap();const hf=Ie(Pp);var rn,la;function Tp(){return la||(la=1,rn=function(){}),rn}var nn,fa;function ke(){if(fa)return nn;fa=1;var e=Tp()();return nn=function(t){return t!==e&&t!==null},nn}var sn,ha;function df(){if(ha)return sn;ha=1;var e=ke(),t=Array.prototype.forEach,s=Object.create,c=function(a,n){var r;for(r in a)n[r]=a[r]};return sn=function(a){var n=s(null);return t.call(arguments,function(r){e(r)&&c(Object(r),n)}),n},sn}var on,da;function Ip(){return da||(da=1,on=function(){var e=Math.sign;return typeof e!="function"?!1:e(10)===1&&e(-20)===-1}),on}var an,pa;function Np(){return pa||(pa=1,an=function(e){return e=Number(e),isNaN(e)||e===0?e:e>0?1:-1}),an}var un,ma;function $p(){return ma||(ma=1,un=Ip()()?Math.sign:Np()),un}var cn,_a;function Cp(){if(_a)return cn;_a=1;var e=$p(),t=Math.abs,s=Math.floor;return cn=function(c){return isNaN(c)?0:(c=Number(c),c===0||!isFinite(c)?c:e(c)*s(t(c)))},cn}var ln,ya;function Be(){if(ya)return ln;ya=1;var e=Cp(),t=Math.max;return ln=function(s){return t(0,e(s))},ln}var fn,ga;function pf(){if(ga)return fn;ga=1;var e=Be();return fn=function(t,s,c){var a;return isNaN(t)?(a=s,a>=0?c&&a?a-1:a:1):t===!1?!1:e(t)},fn}var hn,va;function Ce(){return va||(va=1,hn=function(e){if(typeof e!="function")throw new TypeError(e+" is not a function");return e}),hn}var dn,Ea;function Xe(){if(Ea)return dn;Ea=1;var e=ke();return dn=function(t){if(!e(t))throw new TypeError("Cannot use null or undefined");return t},dn}var pn,Sa;function Lp(){if(Sa)return pn;Sa=1;var e=Ce(),t=Xe(),s=Function.prototype.bind,c=Function.prototype.call,a=Object.keys,n=Object.prototype.propertyIsEnumerable;return pn=function(r,i){return function(o,u){var l,m=arguments[2],h=arguments[3];return o=Object(t(o)),e(u),l=a(o),h&&l.sort(typeof h=="function"?s.call(h,o):void 0),typeof r!="function"&&(r=l[r]),c.call(r,l,function(E,R){return n.call(o,E)?c.call(u,m,o[E],E,o,R):i})}},pn}var mn,Ra;function Kt(){return Ra||(Ra=1,mn=Lp()("forEach")),mn}var wa={},Oa;function je(){return Oa||(Oa=1),wa}var _n={exports:{}},yn,ba;function Dp(){return ba||(ba=1,yn=function(){var e=Object.assign,t;return typeof e!="function"?!1:(t={foo:"raz"},e(t,{bar:"dwa"},{trzy:"trzy"}),t.foo+t.bar+t.trzy==="razdwatrzy")}),yn}var gn,Aa;function xp(){return Aa||(Aa=1,gn=function(){try{return Object.keys("primitive"),!0}catch{return!1}}),gn}var vn,Pa;function Fp(){if(Pa)return vn;Pa=1;var e=ke(),t=Object.keys;return vn=function(s){return t(e(s)?Object(s):s)},vn}var En,Ta;function qp(){return Ta||(Ta=1,En=xp()()?Object.keys:Fp()),En}var Sn,Ia;function Mp(){if(Ia)return Sn;Ia=1;var e=qp(),t=Xe(),s=Math.max;return Sn=function(c,a){var n,r,i=s(arguments.length,2),o;for(c=Object(t(c)),o=function(u){try{c[u]=a[u]}catch(l){n||(n=l)}},r=1;r<i;++r)a=arguments[r],e(a).forEach(o);if(n!==void 0)throw n;return c},Sn}var Rn,Na;function mf(){return Na||(Na=1,Rn=Dp()()?Object.assign:Mp()),Rn}var wn,$a;function kp(){if($a)return wn;$a=1;var e=ke(),t={function:!0,object:!0};return wn=function(s){return e(s)&&t[typeof s]||!1},wn}var Ca;function Bp(){return Ca||(Ca=1,function(e){var t=mf(),s=kp(),c=ke(),a=Error.captureStackTrace;e.exports=function(n){var r=new Error(n),i=arguments[1],o=arguments[2];return c(o)||s(i)&&(o=i,i=null),c(o)&&t(r,o),c(i)&&(r.code=i),a&&a(r,e.exports),r}}(_n)),_n.exports}var pt={exports:{}},On,La;function _f(){if(La)return On;La=1;var e=Xe(),t=Object.defineProperty,s=Object.getOwnPropertyDescriptor,c=Object.getOwnPropertyNames,a=Object.getOwnPropertySymbols;return On=function(n,r){var i,o=Object(e(r));if(n=Object(e(n)),c(o).forEach(function(u){try{t(n,u,s(r,u))}catch(l){i=l}}),typeof a=="function"&&a(o).forEach(function(u){try{t(n,u,s(r,u))}catch(l){i=l}}),i!==void 0)throw i;return n},On}var Da;function yf(){if(Da)return pt.exports;Da=1;var e=Be(),t=function(r,i){return i},s,c,a,n;try{Object.defineProperty(t,"length",{configurable:!0,writable:!1,enumerable:!1,value:1})}catch{}return t.length===1?(s={configurable:!0,writable:!1,enumerable:!1},c=Object.defineProperty,pt.exports=function(r,i){return i=e(i),r.length===i?r:(s.value=i,c(r,"length",s))}):(n=_f(),a=function(){var r=[];return function(i){var o,u=0;if(r[i])return r[i];for(o=[];i--;)o.push("a"+(++u).toString(36));return new Function("fn","return function ("+o.join(", ")+") { return fn.apply(this, arguments); };")}}(),pt.exports=function(r,i){var o;if(i=e(i),r.length===i)return r;o=a(i)(r);try{n(o,r)}catch{}return o}),pt.exports}var bn={exports:{}},An,xa;function gf(){if(xa)return An;xa=1;var e=void 0;return An=function(t){return t!==e&&t!==null},An}var Pn,Fa;function jp(){if(Fa)return Pn;Fa=1;var e=gf(),t={object:!0,function:!0,undefined:!0};return Pn=function(s){return e(s)?hasOwnProperty.call(t,typeof s):!1},Pn}var Tn,qa;function Hp(){if(qa)return Tn;qa=1;var e=jp();return Tn=function(t){if(!e(t))return!1;try{return t.constructor?t.constructor.prototype===t:!1}catch{return!1}},Tn}var In,Ma;function Up(){if(Ma)return In;Ma=1;var e=Hp();return In=function(t){if(typeof t!="function"||!hasOwnProperty.call(t,"length"))return!1;try{if(typeof t.length!="number"||typeof t.call!="function"||typeof t.apply!="function")return!1}catch{return!1}return!e(t)},In}var Nn,ka;function Gp(){if(ka)return Nn;ka=1;var e=Up(),t=/^\s*class[\s{/}]/,s=Function.prototype.toString;return Nn=function(c){return!(!e(c)||t.test(s.call(c)))},Nn}var $n,Ba;function Wp(){if(Ba)return $n;Ba=1;var e="razdwatrzy";return $n=function(){return typeof e.contains!="function"?!1:e.contains("dwa")===!0&&e.contains("foo")===!1},$n}var Cn,ja;function Vp(){if(ja)return Cn;ja=1;var e=String.prototype.indexOf;return Cn=function(t){return e.call(this,t,arguments[1])>-1},Cn}var Ln,Ha;function zp(){return Ha||(Ha=1,Ln=Wp()()?String.prototype.contains:Vp()),Ln}var Ua;function He(){if(Ua)return bn.exports;Ua=1;var e=gf(),t=Gp(),s=mf(),c=df(),a=zp(),n=bn.exports=function(r,i){var o,u,l,m,h;return arguments.length<2||typeof r!="string"?(m=i,i=r,r=null):m=arguments[2],e(r)?(o=a.call(r,"c"),u=a.call(r,"e"),l=a.call(r,"w")):(o=l=!0,u=!1),h={value:i,configurable:o,enumerable:u,writable:l},m?s(c(m),h):h};return n.gs=function(r,i,o){var u,l,m,h;return typeof r!="string"?(m=o,o=i,i=r,r=null):m=arguments[3],e(i)?t(i)?e(o)?t(o)||(m=o,o=void 0):o=void 0:(m=i,i=o=void 0):i=void 0,e(r)?(u=a.call(r,"c"),l=a.call(r,"e")):(u=!0,l=!1),h={get:i,set:o,configurable:u,enumerable:l},m?s(c(m),h):h},bn.exports}var mt={exports:{}},Ga;function Yp(){return Ga||(Ga=1,function(e,t){var s=He(),c=Ce(),a=Function.prototype.apply,n=Function.prototype.call,r=Object.create,i=Object.defineProperty,o=Object.defineProperties,u=Object.prototype.hasOwnProperty,l={configurable:!0,enumerable:!1,writable:!0},m,h,E,R,v,d,p;m=function(g,f){var S;return c(f),u.call(this,"__ee__")?S=this.__ee__:(S=l.value=r(null),i(this,"__ee__",l),l.value=null),S[g]?typeof S[g]=="object"?S[g].push(f):S[g]=[S[g],f]:S[g]=f,this},h=function(g,f){var S,_;return c(f),_=this,m.call(this,g,S=function(){E.call(_,g,S),a.call(f,this,arguments)}),S.__eeOnceListener__=f,this},E=function(g,f){var S,_,w,y;if(c(f),!u.call(this,"__ee__"))return this;if(S=this.__ee__,!S[g])return this;if(_=S[g],typeof _=="object")for(y=0;w=_[y];++y)(w===f||w.__eeOnceListener__===f)&&(_.length===2?S[g]=_[y?0:1]:_.splice(y,1));else(_===f||_.__eeOnceListener__===f)&&delete S[g];return this},R=function(g){var f,S,_,w,y;if(u.call(this,"__ee__")&&(w=this.__ee__[g],!!w))if(typeof w=="object"){for(S=arguments.length,y=new Array(S-1),f=1;f<S;++f)y[f-1]=arguments[f];for(w=w.slice(),f=0;_=w[f];++f)a.call(_,this,y)}else switch(arguments.length){case 1:n.call(w,this);break;case 2:n.call(w,this,arguments[1]);break;case 3:n.call(w,this,arguments[1],arguments[2]);break;default:for(S=arguments.length,y=new Array(S-1),f=1;f<S;++f)y[f-1]=arguments[f];a.call(w,this,y)}},v={on:m,once:h,off:E,emit:R},d={on:s(m),once:s(h),off:s(E),emit:s(R)},p=o({},d),e.exports=t=function(g){return g==null?r(p):o(Object(g),d)},t.methods=v}(mt,mt.exports)),mt.exports}var Dn,Wa;function Kp(){return Wa||(Wa=1,Dn=function(){var e=Array.from,t,s;return typeof e!="function"?!1:(t=["raz","dwa"],s=e(t),!!(s&&s!==t&&s[1]==="dwa"))}),Dn}var xn,Va;function Xp(){return Va||(Va=1,xn=function(){return typeof globalThis!="object"||!globalThis?!1:globalThis.Array===Array}),xn}var Fn,za;function Zp(){if(za)return Fn;za=1;var e=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};return Fn=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return e()}try{return __global__||e()}finally{delete Object.prototype.__global__}}(),Fn}var qn,Ya;function Xt(){return Ya||(Ya=1,qn=Xp()()?globalThis:Zp()),qn}var Mn,Ka;function Jp(){if(Ka)return Mn;Ka=1;var e=Xt(),t={object:!0,symbol:!0};return Mn=function(){var s=e.Symbol,c;if(typeof s!="function")return!1;c=s("test symbol");try{String(c)}catch{return!1}return!(!t[typeof s.iterator]||!t[typeof s.toPrimitive]||!t[typeof s.toStringTag])},Mn}var kn,Xa;function Qp(){return Xa||(Xa=1,kn=function(e){return e?typeof e=="symbol"?!0:!e.constructor||e.constructor.name!=="Symbol"?!1:e[e.constructor.toStringTag]==="Symbol":!1}),kn}var Bn,Za;function vf(){if(Za)return Bn;Za=1;var e=Qp();return Bn=function(t){if(!e(t))throw new TypeError(t+" is not a symbol");return t},Bn}var jn,Ja;function em(){if(Ja)return jn;Ja=1;var e=He(),t=Object.create,s=Object.defineProperty,c=Object.prototype,a=t(null);return jn=function(n){for(var r=0,i,o;a[n+(r||"")];)++r;return n+=r||"",a[n]=!0,i="@@"+n,s(c,i,e.gs(null,function(u){o||(o=!0,s(this,i,e(u)),o=!1)})),i},jn}var Hn,Qa;function tm(){if(Qa)return Hn;Qa=1;var e=He(),t=Xt().Symbol;return Hn=function(s){return Object.defineProperties(s,{hasInstance:e("",t&&t.hasInstance||s("hasInstance")),isConcatSpreadable:e("",t&&t.isConcatSpreadable||s("isConcatSpreadable")),iterator:e("",t&&t.iterator||s("iterator")),match:e("",t&&t.match||s("match")),replace:e("",t&&t.replace||s("replace")),search:e("",t&&t.search||s("search")),species:e("",t&&t.species||s("species")),split:e("",t&&t.split||s("split")),toPrimitive:e("",t&&t.toPrimitive||s("toPrimitive")),toStringTag:e("",t&&t.toStringTag||s("toStringTag")),unscopables:e("",t&&t.unscopables||s("unscopables"))})},Hn}var Un,eu;function rm(){if(eu)return Un;eu=1;var e=He(),t=vf(),s=Object.create(null);return Un=function(c){return Object.defineProperties(c,{for:e(function(a){return s[a]?s[a]:s[a]=c(String(a))}),keyFor:e(function(a){var n;t(a);for(n in s)if(s[n]===a)return n})})},Un}var Gn,tu;function nm(){if(tu)return Gn;tu=1;var e=He(),t=vf(),s=Xt().Symbol,c=em(),a=tm(),n=rm(),r=Object.create,i=Object.defineProperties,o=Object.defineProperty,u,l,m;if(typeof s=="function")try{String(s()),m=!0}catch{}else s=null;return l=function(E){if(this instanceof l)throw new TypeError("Symbol is not a constructor");return u(E)},Gn=u=function h(E){var R;if(this instanceof h)throw new TypeError("Symbol is not a constructor");return m?s(E):(R=r(l.prototype),E=E===void 0?"":String(E),i(R,{__description__:e("",E),__name__:e("",c(E))}))},a(u),n(u),i(l.prototype,{constructor:e(u),toString:e("",function(){return this.__name__})}),i(u.prototype,{toString:e(function(){return"Symbol ("+t(this).__description__+")"}),valueOf:e(function(){return t(this)})}),o(u.prototype,u.toPrimitive,e("",function(){var h=t(this);return typeof h=="symbol"?h:h.toString()})),o(u.prototype,u.toStringTag,e("c","Symbol")),o(l.prototype,u.toStringTag,e("c",u.prototype[u.toStringTag])),o(l.prototype,u.toPrimitive,e("c",u.prototype[u.toPrimitive])),Gn}var Wn,ru;function im(){return ru||(ru=1,Wn=Jp()()?Xt().Symbol:nm()),Wn}var Vn,nu;function sm(){if(nu)return Vn;nu=1;var e=Object.prototype.toString,t=e.call(function(){return arguments}());return Vn=function(s){return e.call(s)===t},Vn}var zn,iu;function om(){if(iu)return zn;iu=1;var e=Object.prototype.toString,t=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);return zn=function(s){return typeof s=="function"&&t(e.call(s))},zn}var Yn,su;function am(){if(su)return Yn;su=1;var e=Object.prototype.toString,t=e.call("");return Yn=function(s){return typeof s=="string"||s&&typeof s=="object"&&(s instanceof String||e.call(s)===t)||!1},Yn}var Kn,ou;function um(){if(ou)return Kn;ou=1;var e=im().iterator,t=sm(),s=om(),c=Be(),a=Ce(),n=Xe(),r=ke(),i=am(),o=Array.isArray,u=Function.prototype.call,l={configurable:!0,enumerable:!0,writable:!0,value:null},m=Object.defineProperty;return Kn=function(h){var E=arguments[1],R=arguments[2],v,d,p,g,f,S,_,w,y,b;if(h=Object(n(h)),r(E)&&a(E),!this||this===Array||!s(this)){if(!E){if(t(h))return f=h.length,f!==1?Array.apply(null,h):(g=new Array(1),g[0]=h[0],g);if(o(h)){for(g=new Array(f=h.length),d=0;d<f;++d)g[d]=h[d];return g}}g=[]}else v=this;if(!o(h)){if((y=h[e])!==void 0){for(_=a(y).call(h),v&&(g=new v),w=_.next(),d=0;!w.done;)b=E?u.call(E,R,w.value,d):w.value,v?(l.value=b,m(g,d,l)):g[d]=b,w=_.next(),++d;f=d}else if(i(h)){for(f=h.length,v&&(g=new v),d=0,p=0;d<f;++d)b=h[d],d+1<f&&(S=b.charCodeAt(0),S>=55296&&S<=56319&&(b+=h[++d])),b=E?u.call(E,R,b,p):b,v?(l.value=b,m(g,p,l)):g[p]=b,++p;f=p}}if(f===void 0)for(f=c(h.length),v&&(g=new v(f)),d=0;d<f;++d)b=E?u.call(E,R,h[d],d):h[d],v?(l.value=b,m(g,d,l)):g[d]=b;return v&&(l.value=null,g.length=f),g},Kn}var Xn,au;function Hs(){return au||(au=1,Xn=Kp()()?Array.from:um()),Xn}var Zn,uu;function cm(){if(uu)return Zn;uu=1;var e=Hs(),t=Array.isArray;return Zn=function(s){return t(s)?s:e(s)},Zn}var Jn,cu;function lm(){if(cu)return Jn;cu=1;var e=cm(),t=ke(),s=Ce(),c=Array.prototype.slice,a;return a=function(n){return this.map(function(r,i){return r?r(n[i]):n[i]}).concat(c.call(n,this.length))},Jn=function(n){return n=e(n),n.forEach(function(r){t(r)&&s(r)}),a.bind(n)},Jn}var Qn,lu;function fm(){if(lu)return Qn;lu=1;var e=Ce();return Qn=function(t){var s;return typeof t=="function"?{set:t,get:t}:(s={get:e(t.get)},t.set!==void 0?(s.set=e(t.set),t.delete&&(s.delete=e(t.delete)),t.clear&&(s.clear=e(t.clear)),s):(s.set=s.get,s))},Qn}var ei,fu;function hm(){if(fu)return ei;fu=1;var e=Bp(),t=yf(),s=He(),c=Yp().methods,a=lm(),n=fm(),r=Function.prototype.apply,i=Function.prototype.call,o=Object.create,u=Object.defineProperties,l=c.on,m=c.emit;return ei=function(h,E,R){var v=o(null),d,p,g,f,S,_,w,y,b,P,D,x,q,$,L;return E!==!1?p=E:isNaN(h.length)?p=1:p=h.length,R.normalizer&&(P=n(R.normalizer),g=P.get,f=P.set,S=P.delete,_=P.clear),R.resolvers!=null&&(L=a(R.resolvers)),g?$=t(function(T){var I,k,U=arguments;if(L&&(U=L(U)),I=g(U),I!==null&&hasOwnProperty.call(v,I))return D&&d.emit("get",I,U,this),v[I];if(U.length===1?k=i.call(h,this,U[0]):k=r.call(h,this,U),I===null){if(I=g(U),I!==null)throw e("Circular invocation","CIRCULAR_INVOCATION");I=f(U)}else if(hasOwnProperty.call(v,I))throw e("Circular invocation","CIRCULAR_INVOCATION");return v[I]=k,x&&d.emit("set",I,null,k),k},p):E===0?$=function(){var T;if(hasOwnProperty.call(v,"data"))return D&&d.emit("get","data",arguments,this),v.data;if(arguments.length?T=r.call(h,this,arguments):T=i.call(h,this),hasOwnProperty.call(v,"data"))throw e("Circular invocation","CIRCULAR_INVOCATION");return v.data=T,x&&d.emit("set","data",null,T),T}:$=function(T){var I,k=arguments,U;if(L&&(k=L(arguments)),U=String(k[0]),hasOwnProperty.call(v,U))return D&&d.emit("get",U,k,this),v[U];if(k.length===1?I=i.call(h,this,k[0]):I=r.call(h,this,k),hasOwnProperty.call(v,U))throw e("Circular invocation","CIRCULAR_INVOCATION");return v[U]=I,x&&d.emit("set",U,null,I),I},d={original:h,memoized:$,profileName:R.profileName,get:function(T){return L&&(T=L(T)),g?g(T):String(T[0])},has:function(T){return hasOwnProperty.call(v,T)},delete:function(T){var I;hasOwnProperty.call(v,T)&&(S&&S(T),I=v[T],delete v[T],q&&d.emit("delete",T,I))},clear:function(){var T=v;_&&_(),v=o(null),d.emit("clear",T)},on:function(T,I){return T==="get"?D=!0:T==="set"?x=!0:T==="delete"&&(q=!0),l.call(this,T,I)},emit:m,updateEnv:function(){h=d.original}},g?w=t(function(T){var I,k=arguments;L&&(k=L(k)),I=g(k),I!==null&&d.delete(I)},p):E===0?w=function(){return d.delete("data")}:w=function(T){return L&&(T=L(arguments)[0]),d.delete(T)},y=t(function(){var T,I=arguments;return E===0?v.data:(L&&(I=L(I)),g?T=g(I):T=String(I[0]),v[T])}),b=t(function(){var T,I=arguments;return E===0?d.has("data"):(L&&(I=L(I)),g?T=g(I):T=String(I[0]),T===null?!1:d.has(T))}),u($,{__memoized__:s(!0),delete:s(w),clear:s(d.clear),_get:s(y),_has:s(b)}),d},ei}var ti,hu;function dm(){if(hu)return ti;hu=1;var e=Ce(),t=Kt(),s=je(),c=hm(),a=pf();return ti=function n(r){var i,o,u;if(e(r),i=Object(arguments[1]),i.async&&i.promise)throw new Error("Options 'async' and 'promise' cannot be used together");return hasOwnProperty.call(r,"__memoized__")&&!i.force?r:(o=a(i.length,r.length,i.async&&s.async),u=c(r,o,i),t(s,function(l,m){i[m]&&l(i[m],u,i)}),n.__profiler__&&n.__profiler__(u),u.updateEnv(),u.memoized)},ti}var ri,du;function pm(){return du||(du=1,ri=function(e){var t,s,c=e.length;if(!c)return"";for(t=String(e[s=0]);--c;)t+=""+e[++s];return t}),ri}var ni,pu;function mm(){return pu||(pu=1,ni=function(e){return e?function(t){for(var s=String(t[0]),c=0,a=e;--a;)s+=""+t[++c];return s}:function(){return""}}),ni}var ii,mu;function _m(){return mu||(mu=1,ii=function(){var e=Number.isNaN;return typeof e!="function"?!1:!e({})&&e(NaN)&&!e(34)}),ii}var si,_u;function ym(){return _u||(_u=1,si=function(e){return e!==e}),si}var oi,yu;function gm(){return yu||(yu=1,oi=_m()()?Number.isNaN:ym()),oi}var ai,gu;function Us(){if(gu)return ai;gu=1;var e=gm(),t=Be(),s=Xe(),c=Array.prototype.indexOf,a=Object.prototype.hasOwnProperty,n=Math.abs,r=Math.floor;return ai=function(i){var o,u,l,m;if(!e(i))return c.apply(this,arguments);for(u=t(s(this).length),l=arguments[1],isNaN(l)?l=0:l>=0?l=r(l):l=t(this.length)-r(n(l)),o=l;o<u;++o)if(a.call(this,o)&&(m=this[o],e(m)))return o;return-1},ai}var ui,vu;function vm(){if(vu)return ui;vu=1;var e=Us(),t=Object.create;return ui=function(){var s=0,c=[],a=t(null);return{get:function(n){var r=0,i=c,o,u=n.length;if(u===0)return i[u]||null;if(i=i[u]){for(;r<u-1;){if(o=e.call(i[0],n[r]),o===-1)return null;i=i[1][o],++r}return o=e.call(i[0],n[r]),o===-1?null:i[1][o]||null}return null},set:function(n){var r=0,i=c,o,u=n.length;if(u===0)i[u]=++s;else{for(i[u]||(i[u]=[[],[]]),i=i[u];r<u-1;)o=e.call(i[0],n[r]),o===-1&&(o=i[0].push(n[r])-1,i[1].push([[],[]])),i=i[1][o],++r;o=e.call(i[0],n[r]),o===-1&&(o=i[0].push(n[r])-1),i[1][o]=++s}return a[s]=n,s},delete:function(n){var r=0,i=c,o,u=a[n],l=u.length,m=[];if(l===0)delete i[l];else if(i=i[l]){for(;r<l-1;){if(o=e.call(i[0],u[r]),o===-1)return;m.push(i,o),i=i[1][o],++r}if(o=e.call(i[0],u[r]),o===-1)return;for(n=i[1][o],i[0].splice(o,1),i[1].splice(o,1);!i[0].length&&m.length;)o=m.pop(),i=m.pop(),i[0].splice(o,1),i[1].splice(o,1)}delete a[n]},clear:function(){c=[],a=t(null)}}},ui}var ci,Eu;function Em(){if(Eu)return ci;Eu=1;var e=Us();return ci=function(){var t=0,s=[],c=[];return{get:function(a){var n=e.call(s,a[0]);return n===-1?null:c[n]},set:function(a){return s.push(a[0]),c.push(++t),t},delete:function(a){var n=e.call(c,a);n!==-1&&(s.splice(n,1),c.splice(n,1))},clear:function(){s=[],c=[]}}},ci}var li,Su;function Sm(){if(Su)return li;Su=1;var e=Us(),t=Object.create;return li=function(s){var c=0,a=[[],[]],n=t(null);return{get:function(r){for(var i=0,o=a,u;i<s-1;){if(u=e.call(o[0],r[i]),u===-1)return null;o=o[1][u],++i}return u=e.call(o[0],r[i]),u===-1?null:o[1][u]||null},set:function(r){for(var i=0,o=a,u;i<s-1;)u=e.call(o[0],r[i]),u===-1&&(u=o[0].push(r[i])-1,o[1].push([[],[]])),o=o[1][u],++i;return u=e.call(o[0],r[i]),u===-1&&(u=o[0].push(r[i])-1),o[1][u]=++c,n[c]=r,c},delete:function(r){for(var i=0,o=a,u,l=[],m=n[r];i<s-1;){if(u=e.call(o[0],m[i]),u===-1)return;l.push(o,u),o=o[1][u],++i}if(u=e.call(o[0],m[i]),u!==-1){for(r=o[1][u],o[0].splice(u,1),o[1].splice(u,1);!o[0].length&&l.length;)u=l.pop(),o=l.pop(),o[0].splice(u,1),o[1].splice(u,1);delete n[r]}},clear:function(){a=[[],[]],n=t(null)}}},li}var Ru={},fi,wu;function Ef(){if(wu)return fi;wu=1;var e=Ce(),t=Kt(),s=Function.prototype.call;return fi=function(c,a){var n={},r=arguments[2];return e(a),t(c,function(i,o,u,l){n[o]=s.call(a,r,i,o,u,l)}),n},fi}var hi,Ou;function Gs(){if(Ou)return hi;Ou=1;var e=function(s){if(typeof s!="function")throw new TypeError(s+" is not a function");return s},t=function(s){var c=document.createTextNode(""),a,n,r=0;return new s(function(){var i;if(a)n&&(a=n.concat(a));else{if(!n)return;a=n}if(n=a,a=null,typeof n=="function"){i=n,n=null,i();return}for(c.data=r=++r%2;n;)i=n.shift(),n.length||(n=null),i()}).observe(c,{characterData:!0}),function(i){if(e(i),a){typeof a=="function"?a=[a,i]:a.push(i);return}a=i,c.data=r=++r%2}};return hi=function(){if(typeof process=="object"&&process&&typeof process.nextTick=="function")return process.nextTick;if(typeof queueMicrotask=="function")return function(s){queueMicrotask(e(s))};if(typeof document=="object"&&document){if(typeof MutationObserver=="function")return t(MutationObserver);if(typeof WebKitMutationObserver=="function")return t(WebKitMutationObserver)}return typeof setImmediate=="function"?function(s){setImmediate(e(s))}:typeof setTimeout=="function"||typeof setTimeout=="object"?function(s){setTimeout(e(s),0)}:null}(),hi}var bu;function Rm(){if(bu)return Ru;bu=1;var e=Hs(),t=Ef(),s=_f(),c=yf(),a=Gs(),n=Array.prototype.slice,r=Function.prototype.apply,i=Object.create;return je().async=function(o,u){var l=i(null),m=i(null),h=u.memoized,E=u.original,R,v,d;u.memoized=c(function(p){var g=arguments,f=g[g.length-1];return typeof f=="function"&&(R=f,g=n.call(g,0,-1)),h.apply(v=this,d=g)},h);try{s(u.memoized,h)}catch{}u.on("get",function(p){var g,f,S;if(R){if(l[p]){typeof l[p]=="function"?l[p]=[l[p],R]:l[p].push(R),R=null;return}g=R,f=v,S=d,R=v=d=null,a(function(){var _;hasOwnProperty.call(m,p)?(_=m[p],u.emit("getasync",p,S,f),r.call(g,_.context,_.args)):(R=g,v=f,d=S,h.apply(f,S))})}}),u.original=function(){var p,g,f,S;return R?(p=e(arguments),g=function _(w){var y,b,P=_.id;if(P==null){a(r.bind(_,this,arguments));return}if(delete _.id,y=l[P],delete l[P],!!y)return b=e(arguments),u.has(P)&&(w?u.delete(P):(m[P]={context:this,args:b},u.emit("setasync",P,typeof y=="function"?1:y.length))),typeof y=="function"?S=r.call(y,this,b):y.forEach(function(D){S=r.call(D,this,b)},this),S},f=R,R=v=d=null,p.push(g),S=r.call(E,this,p),g.cb=f,R=g,S):r.call(E,this,arguments)},u.on("set",function(p){if(!R){u.delete(p);return}l[p]?typeof l[p]=="function"?l[p]=[l[p],R.cb]:l[p].push(R.cb):l[p]=R.cb,delete R.cb,R.id=p,R=null}),u.on("delete",function(p){var g;hasOwnProperty.call(l,p)||m[p]&&(g=m[p],delete m[p],u.emit("deleteasync",p,n.call(g.args,1)))}),u.on("clear",function(){var p=m;m=i(null),u.emit("clearasync",t(p,function(g){return n.call(g.args,1)}))})},Ru}var Au={},di,Pu;function wm(){if(Pu)return di;Pu=1;var e=Array.prototype.forEach,t=Object.create;return di=function(s){var c=t(null);return e.call(arguments,function(a){c[a]=!0}),c},di}var pi,Tu;function Sf(){return Tu||(Tu=1,pi=function(e){return typeof e=="function"}),pi}var mi,Iu;function Om(){if(Iu)return mi;Iu=1;var e=Sf();return mi=function(t){try{return t&&e(t.toString)?t.toString():String(t)}catch{throw new TypeError("Passed argument cannot be stringifed")}},mi}var _i,Nu;function bm(){if(Nu)return _i;Nu=1;var e=Xe(),t=Om();return _i=function(s){return t(e(s))},_i}var yi,$u;function Am(){if($u)return yi;$u=1;var e=Sf();return yi=function(t){try{return t&&e(t.toString)?t.toString():String(t)}catch{return"<Non-coercible to string value>"}},yi}var gi,Cu;function Pm(){if(Cu)return gi;Cu=1;var e=Am(),t=/[\n\r\u2028\u2029]/g;return gi=function(s){var c=e(s);return c.length>100&&(c=c.slice(0,99)+"…"),c=c.replace(t,function(a){return JSON.stringify(a).slice(1,-1)}),c},gi}var _t={exports:{}},Lu;function Rf(){if(Lu)return _t.exports;Lu=1,_t.exports=e,_t.exports.default=e;function e(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}return _t.exports}var Du;function Tm(){if(Du)return Au;Du=1;var e=Ef(),t=wm(),s=bm(),c=Pm(),a=Rf(),n=Gs(),r=Object.create,i=t("then","then:finally","done","done:finally");return je().promise=function(o,u){var l=r(null),m=r(null),h=r(null);if(o===!0)o=null;else if(o=s(o),!i[o])throw new TypeError("'"+c(o)+"' is not valid promise mode");u.on("set",function(E,R,v){var d=!1;if(!a(v)){m[E]=v,u.emit("setasync",E,1);return}l[E]=1,h[E]=v;var p=function(_){var w=l[E];if(d)throw new Error(`Memoizee error: Detected unordered then|done & finally resolution, which in turn makes proper detection of success/failure impossible (when in 'done:finally' mode)
Consider to rely on 'then' or 'done' mode instead.`);w&&(delete l[E],m[E]=_,u.emit("setasync",E,w))},g=function(){d=!0,l[E]&&(delete l[E],delete h[E],u.delete(E))},f=o;if(f||(f="then"),f==="then"){var S=function(){n(g)};v=v.then(function(_){n(p.bind(this,_))},S),typeof v.finally=="function"&&v.finally(S)}else if(f==="done"){if(typeof v.done!="function")throw new Error("Memoizee error: Retrieved promise does not implement 'done' in 'done' mode");v.done(p,g)}else if(f==="done:finally"){if(typeof v.done!="function")throw new Error("Memoizee error: Retrieved promise does not implement 'done' in 'done:finally' mode");if(typeof v.finally!="function")throw new Error("Memoizee error: Retrieved promise does not implement 'finally' in 'done:finally' mode");v.done(p),v.finally(g)}}),u.on("get",function(E,R,v){var d;if(l[E]){++l[E];return}d=h[E];var p=function(){u.emit("getasync",E,R,v)};a(d)?typeof d.done=="function"?d.done(p):d.then(function(){n(p)}):p()}),u.on("delete",function(E){if(delete h[E],l[E]){delete l[E];return}if(hasOwnProperty.call(m,E)){var R=m[E];delete m[E],u.emit("deleteasync",E,[R])}}),u.on("clear",function(){var E=m;m=r(null),l=r(null),h=r(null),u.emit("clearasync",e(E,function(R){return[R]}))})},Au}var xu={},Fu;function Im(){if(Fu)return xu;Fu=1;var e=Ce(),t=Kt(),s=je(),c=Function.prototype.apply;return s.dispose=function(a,n,r){var i;if(e(a),r.async&&s.async||r.promise&&s.promise){n.on("deleteasync",i=function(o,u){c.call(a,null,u)}),n.on("clearasync",function(o){t(o,function(u,l){i(l,u)})});return}n.on("delete",i=function(o,u){a(u)}),n.on("clear",function(o){t(o,function(u,l){i(l,u)})})},xu}var qu={},vi,Mu;function Nm(){return Mu||(Mu=1,vi=2147483647),vi}var Ei,ku;function $m(){if(ku)return Ei;ku=1;var e=Be(),t=Nm();return Ei=function(s){if(s=e(s),s>t)throw new TypeError(s+" exceeds maximum possible timeout");return s},Ei}var Bu;function Cm(){if(Bu)return qu;Bu=1;var e=Hs(),t=Kt(),s=Gs(),c=Rf(),a=$m(),n=je(),r=Function.prototype,i=Math.max,o=Math.min,u=Object.create;return n.maxAge=function(l,m,h){var E,R,v,d;l=a(l),l&&(E=u(null),R=h.async&&n.async||h.promise&&n.promise?"async":"",m.on("set"+R,function(p){E[p]=setTimeout(function(){m.delete(p)},l),typeof E[p].unref=="function"&&E[p].unref(),d&&(d[p]&&d[p]!=="nextTick"&&clearTimeout(d[p]),d[p]=setTimeout(function(){delete d[p]},v),typeof d[p].unref=="function"&&d[p].unref())}),m.on("delete"+R,function(p){clearTimeout(E[p]),delete E[p],d&&(d[p]!=="nextTick"&&clearTimeout(d[p]),delete d[p])}),h.preFetch&&(h.preFetch===!0||isNaN(h.preFetch)?v=.333:v=i(o(Number(h.preFetch),1),0),v&&(d={},v=(1-v)*l,m.on("get"+R,function(p,g,f){d[p]||(d[p]="nextTick",s(function(){var S;d[p]==="nextTick"&&(delete d[p],m.delete(p),h.async&&(g=e(g),g.push(r)),S=m.memoized.apply(f,g),h.promise&&c(S)&&(typeof S.done=="function"?S.done(r,r):S.then(r,r)))}))}))),m.on("clear"+R,function(){t(E,function(p){clearTimeout(p)}),E={},d&&(t(d,function(p){p!=="nextTick"&&clearTimeout(p)}),d={})}))},qu}var ju={},Si,Hu;function Lm(){if(Hu)return Si;Hu=1;var e=Be(),t=Object.create,s=Object.prototype.hasOwnProperty;return Si=function(c){var a=0,n=1,r=t(null),i=t(null),o=0,u;return c=e(c),{hit:function(l){var m=i[l],h=++o;if(r[h]=l,i[l]=h,!m)return++a,a<=c?void 0:(l=r[n],u(l),l);if(delete r[m],n===m)for(;!s.call(r,++n););},delete:u=function(l){var m=i[l];if(m&&(delete r[m],delete i[l],--a,n===m)){if(!a){o=0,n=1;return}for(;!s.call(r,++n););}},clear:function(){a=0,n=1,r=t(null),i=t(null),o=0}}},Si}var Uu;function Dm(){if(Uu)return ju;Uu=1;var e=Be(),t=Lm(),s=je();return s.max=function(c,a,n){var r,i,o;c=e(c),c&&(i=t(c),r=n.async&&s.async||n.promise&&s.promise?"async":"",a.on("set"+r,o=function(u){u=i.hit(u),u!==void 0&&a.delete(u)}),a.on("get"+r,o),a.on("delete"+r,i.delete),a.on("clear"+r,i.clear))},ju}var Gu={},Wu;function xm(){if(Wu)return Gu;Wu=1;var e=He(),t=je(),s=Object.create,c=Object.defineProperties;return t.refCounter=function(a,n,r){var i,o;i=s(null),o=r.async&&t.async||r.promise&&t.promise?"async":"",n.on("set"+o,function(u,l){i[u]=l||1}),n.on("get"+o,function(u){++i[u]}),n.on("delete"+o,function(u){delete i[u]}),n.on("clear"+o,function(){i={}}),c(n.memoized,{deleteRef:e(function(){var u=n.get(arguments);return u===null||!i[u]?null:--i[u]?!1:(n.delete(u),!0)}),getRefCount:e(function(){var u=n.get(arguments);return u===null||!i[u]?0:i[u]})})},Gu}var Ri,Vu;function Fm(){if(Vu)return Ri;Vu=1;var e=df(),t=pf(),s=dm();return Ri=function(c){var a=e(arguments[1]),n;return a.normalizer||(n=a.length=t(a.length,c.length,a.async),n!==0&&(a.primitive?n===!1?a.normalizer=pm():n>1&&(a.normalizer=mm()(n)):n===!1?a.normalizer=vm()():n===1?a.normalizer=Em()():a.normalizer=Sm()(n))),a.async&&Rm(),a.promise&&Tm(),a.dispose&&Im(),a.maxAge&&Cm(),a.max&&Dm(),a.refCounter&&xm(),s(c,a)},Ri}var qm=Fm();const Mm=Ie(qm);function km(e){return new Promise(t=>{Ql.exec(e,(s,c,a)=>{t(c||a)})})}function zu(e,t,s=process.cwd(),c=!1){return new Promise((a,n)=>{const r=Ql.spawn(e,t,{stdio:c?"ignore":"inherit",cwd:s,env:process.env});let i=!1;r.on("error",o=>{i||(n(o),i=!0)}),r.on("exit",(o,u)=>{i||(o===0?a():n(new Error(`Process terminated: ${o??u}`)),i=!0)})})}const Bm=Mm(async(e,t,s)=>{const c=await hf("ninja",{nothrow:!0});if(c!==null)return oe.debug(`Using generator: Ninja for ${t} ${s}`),{generator:"Ninja",binary:c};if(t==="win32")try{const a=await km(`"${e}" -G`),r=a.includes(`\r
`)?a.split(`\r
`):a.split(`
`);let i;for(const o of r){const u=o.match(/^\s*(?:\* )?(Visual\s+Studio\s+\d+\s+\d+)(\s+\[arch])?\s*=.*$/);if(u!==null){i=u;break}}if(i!==void 0){const[o,u,l]=i,m=l===void 0,h=s==="x64"?" Win64":s==="ia32"?" Win32":"";h===""&&oe.warn(`Unsupported architecture: ${s} for generator ${u}. Using without arch specification.`);const E=m?u:`${u}${h}`,R=m?["-A",ff(s,t)]:void 0;return oe.debug(`Using generator: ${E} ${R} for ${t} ${s}`),{generator:E,generatorFlags:R,binary:void 0}}}catch{oe.warn("Failed to find valid VS gen, using native.")}return oe.debug(`Using generator: native for ${t} ${s}`),{generator:"native",binary:void 0}},{promise:!0});async function jm(e,t){if(e.command.type!=="build")return null;const s=e.command.options,c=new Set(s.configs),a=[];if(c.size===0)return a.push(await wi(s,{},t)),a;for(const n of t.configurations??[]){const r=await wi(s,n,t);(c.has(r.name)||c.has("named-all")||c.has("named-os")&&r.os===process.platform||c.has("named-os-dev")&&r.os===process.platform&&r.dev)&&(a.push(r),c.delete(r.name))}for(const n of c){const r=Um(n);a.push(await wi(s,r,t))}return a}async function wi(e,t,s){t.name??=s.name??"",t.cross=Hm(s,t),t.os??=s.os??process.platform,t.arch??=s.arch??process.arch,t.runtime??=s.runtime??"node",t.nodeAPI??=s.nodeAPI??"node-addon-api",t.runtimeVersion??=s.runtimeVersion??(t.runtime==="node"?process.versions.node:void 0),t.buildType??=s.buildType??"Release",t.dev??=s.dev??!1,t.addonSubdirectory??=e.addonSubdirectory??s.addonSubdirectory??"",t.packageDirectory??=e.packageDirectory??s.packageDirectory??process.cwd(),t.projectName??=e.projectName??s.projectName??"addon",t.targetDirectory??=e.targetDirectory??s.targetDirectory??"build",t.stagingDirectory??=e.stagingDirectory??s.stagingDirectory??"staging",t.CMakeOptions=[...t.CMakeOptions??[],...s.CMakeOptions??[],...t.cmakeOptions??[],...s.cmakeOptions??[]],t.additionalDefines??=s.additionalDefines??[],t.cmakeToUse??=s.cmakeToUse??await hf("cmake",{nothrow:!0})??"cmake";const{generator:c,generatorFlags:a,binary:n}=await Bm(t.cmakeToUse,t.os,t.arch);return t.generatorToUse??=s.generatorToUse??c,t.generatorFlags??=s.generatorFlags??a,t.generatorBinary??=s.generatorBinary??n,t}function Hm(e,t){return e.cross===!0?(oe.debug("Cross compilation detected: globalConfig.cross is true"),!0):t.os!==void 0&&Cs.has(t.os)&&t.os!==process.platform?(oe.debug(`Cross compilation detected: config.os (${t.os}) differs from process.platform (${process.platform})`),!0):t.arch!==void 0&&Ls.has(t.arch)&&t.arch!==process.arch?(oe.debug(`Cross compilation detected: config.arch (${t.arch}) differs from process.arch (${process.arch})`),!0):t.os===void 0&&process.env.npm_config_target_os!==void 0&&Cs.has(process.env.npm_config_target_os)&&process.env.npm_config_target_os!==process.platform?(oe.debug(`Cross compilation detected: npm_config_target_os (${process.env.npm_config_target_os}) differs from process.platform (${process.platform})`),t.os=process.env.npm_config_target_os,!0):t.arch===void 0&&process.env.npm_config_target_arch!==void 0&&Ls.has(process.env.npm_config_target_arch)&&process.env.npm_config_target_arch!==process.arch?(oe.debug(`Cross compilation detected: npm_config_target_arch (${process.env.npm_config_target_arch}) differs from process.arch (${process.arch})`),t.arch=process.env.npm_config_target_arch,!0):!1}function Um(e){const t=e.split("-");let s=!1,c,a,n,r;for(const i of t)if(Cs.has(i))c=i;else if(Ls.has(i))a=i;else if(Gm.has(i))n=i;else if(Yu.has(i))r=Yu.get(i);else if(i==="cross")s=!0;else throw new Error(`Invalid config part in ${e}: ${i}`);return{os:c,arch:a,runtime:n,buildType:r,cross:s}}const Cs=new Set(["aix","android","darwin","freebsd","haiku","linux","openbsd","sunos","win32","cygwin","netbsd"]),Ls=new Set(["arm","arm64","ia32","loong64","mips","mipsel","ppc","ppc64","riscv64","s390","s390x","x64"]),Yu=new Map([["release","Release"],["Release","Release"],["debug","Debug"],["Debug","Debug"],["relwithdebinfo","RelWithDebInfo"],["RelWithDebInfo","RelWithDebInfo"],["minsizerel","MinSizeRel"],["MinSizeRel","MinSizeRel"]]),Gm=new Set(["node","electron","iojs"]);async function Wm(e){let t;try{t=await pe.readJson(e)}catch(c){return oe.warn(`Failed to load package.json at ${e}: ${c}. Using defaults.`),{}}const s=t["cmake-ts"];return s===void 0?(oe.debug("Package.json does not have cmake-ts key defined. Using defaults."),{}):s}var Oi,Ku;function Vm(){if(Ku)return Oi;Ku=1;class e{constructor(){this.max=1e3,this.map=new Map}get(s){const c=this.map.get(s);if(c!==void 0)return this.map.delete(s),this.map.set(s,c),c}delete(s){return this.map.delete(s)}set(s,c){if(!this.delete(s)&&c!==void 0){if(this.map.size>=this.max){const n=this.map.keys().next().value;this.delete(n)}this.map.set(s,c)}return this}}return Oi=e,Oi}var bi,Xu;function zm(){if(Xu)return bi;Xu=1;const e=Ke();return bi=(s,c,a)=>e(s,c,a)===0,bi}var Ai,Zu;function Ym(){if(Zu)return Ai;Zu=1;const e=Ke();return Ai=(s,c,a)=>e(s,c,a)!==0,Ai}var Pi,Ju;function Km(){if(Ju)return Pi;Ju=1;const e=Ke();return Pi=(s,c,a)=>e(s,c,a)>0,Pi}var Ti,Qu;function Xm(){if(Qu)return Ti;Qu=1;const e=Ke();return Ti=(s,c,a)=>e(s,c,a)<=0,Ti}var Ii,ec;function Zm(){if(ec)return Ii;ec=1;const e=zm(),t=Ym(),s=Km(),c=af(),a=uf(),n=Xm();return Ii=(i,o,u,l)=>{switch(o){case"===":return typeof i=="object"&&(i=i.version),typeof u=="object"&&(u=u.version),i===u;case"!==":return typeof i=="object"&&(i=i.version),typeof u=="object"&&(u=u.version),i!==u;case"":case"=":case"==":return e(i,u,l);case"!=":return t(i,u,l);case">":return s(i,u,l);case">=":return c(i,u,l);case"<":return a(i,u,l);case"<=":return n(i,u,l);default:throw new TypeError(`Invalid operator: ${o}`)}},Ii}var Ni,tc;function Jm(){if(tc)return Ni;tc=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(l,m){if(m=s(m),l instanceof t){if(l.loose===!!m.loose)return l;l=l.value}l=l.trim().split(/\s+/).join(" "),r("comparator",l,m),this.options=m,this.loose=!!m.loose,this.parse(l),this.semver===e?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}parse(l){const m=this.options.loose?c[a.COMPARATORLOOSE]:c[a.COMPARATOR],h=l.match(m);if(!h)throw new TypeError(`Invalid comparator: ${l}`);this.operator=h[1]!==void 0?h[1]:"",this.operator==="="&&(this.operator=""),h[2]?this.semver=new i(h[2],this.options.loose):this.semver=e}toString(){return this.value}test(l){if(r("Comparator.test",l,this.options.loose),this.semver===e||l===e)return!0;if(typeof l=="string")try{l=new i(l,this.options)}catch{return!1}return n(l,this.operator,this.semver,this.options)}intersects(l,m){if(!(l instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new o(l.value,m).test(this.value):l.operator===""?l.value===""?!0:new o(this.value,m).test(l.semver):(m=s(m),m.includePrerelease&&(this.value==="<0.0.0-0"||l.value==="<0.0.0-0")||!m.includePrerelease&&(this.value.startsWith("<0.0.0")||l.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&l.operator.startsWith(">")||this.operator.startsWith("<")&&l.operator.startsWith("<")||this.semver.version===l.semver.version&&this.operator.includes("=")&&l.operator.includes("=")||n(this.semver,"<",l.semver,m)&&this.operator.startsWith(">")&&l.operator.startsWith("<")||n(this.semver,">",l.semver,m)&&this.operator.startsWith("<")&&l.operator.startsWith(">")))}}Ni=t;const s=ks(),{safeRe:c,t:a}=Ms(),n=Zm(),r=Yt(),i=Bs(),o=wf();return Ni}var $i,rc;function wf(){if(rc)return $i;rc=1;const e=/\s+/g;class t{constructor(T,I){if(I=a(I),T instanceof t)return T.loose===!!I.loose&&T.includePrerelease===!!I.includePrerelease?T:new t(T.raw,I);if(T instanceof n)return this.raw=T.value,this.set=[[T]],this.formatted=void 0,this;if(this.options=I,this.loose=!!I.loose,this.includePrerelease=!!I.includePrerelease,this.raw=T.trim().replace(e," "),this.set=this.raw.split("||").map(k=>this.parseRange(k.trim())).filter(k=>k.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const k=this.set[0];if(this.set=this.set.filter(U=>!v(U[0])),this.set.length===0)this.set=[k];else if(this.set.length>1){for(const U of this.set)if(U.length===1&&d(U[0])){this.set=[U];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let T=0;T<this.set.length;T++){T>0&&(this.formatted+="||");const I=this.set[T];for(let k=0;k<I.length;k++)k>0&&(this.formatted+=" "),this.formatted+=I[k].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(T){const k=((this.options.includePrerelease&&E)|(this.options.loose&&R))+":"+T,U=c.get(k);if(U)return U;const V=this.options.loose,j=V?o[u.HYPHENRANGELOOSE]:o[u.HYPHENRANGE];T=T.replace(j,q(this.options.includePrerelease)),r("hyphen replace",T),T=T.replace(o[u.COMPARATORTRIM],l),r("comparator trim",T),T=T.replace(o[u.TILDETRIM],m),r("tilde trim",T),T=T.replace(o[u.CARETTRIM],h),r("caret trim",T);let O=T.split(" ").map(M=>g(M,this.options)).join(" ").split(/\s+/).map(M=>x(M,this.options));V&&(O=O.filter(M=>(r("loose invalid filter",M,this.options),!!M.match(o[u.COMPARATORLOOSE])))),r("range list",O);const N=new Map,z=O.map(M=>new n(M,this.options));for(const M of z){if(v(M))return[M];N.set(M.value,M)}N.size>1&&N.has("")&&N.delete("");const ee=[...N.values()];return c.set(k,ee),ee}intersects(T,I){if(!(T instanceof t))throw new TypeError("a Range is required");return this.set.some(k=>p(k,I)&&T.set.some(U=>p(U,I)&&k.every(V=>U.every(j=>V.intersects(j,I)))))}test(T){if(!T)return!1;if(typeof T=="string")try{T=new i(T,this.options)}catch{return!1}for(let I=0;I<this.set.length;I++)if($(this.set[I],T,this.options))return!0;return!1}}$i=t;const s=Vm(),c=new s,a=ks(),n=Jm(),r=Yt(),i=Bs(),{safeRe:o,t:u,comparatorTrimReplace:l,tildeTrimReplace:m,caretTrimReplace:h}=Ms(),{FLAG_INCLUDE_PRERELEASE:E,FLAG_LOOSE:R}=qs(),v=L=>L.value==="<0.0.0-0",d=L=>L.value==="",p=(L,T)=>{let I=!0;const k=L.slice();let U=k.pop();for(;I&&k.length;)I=k.every(V=>U.intersects(V,T)),U=k.pop();return I},g=(L,T)=>(r("comp",L,T),L=w(L,T),r("caret",L),L=S(L,T),r("tildes",L),L=b(L,T),r("xrange",L),L=D(L,T),r("stars",L),L),f=L=>!L||L.toLowerCase()==="x"||L==="*",S=(L,T)=>L.trim().split(/\s+/).map(I=>_(I,T)).join(" "),_=(L,T)=>{const I=T.loose?o[u.TILDELOOSE]:o[u.TILDE];return L.replace(I,(k,U,V,j,O)=>{r("tilde",L,k,U,V,j,O);let N;return f(U)?N="":f(V)?N=`>=${U}.0.0 <${+U+1}.0.0-0`:f(j)?N=`>=${U}.${V}.0 <${U}.${+V+1}.0-0`:O?(r("replaceTilde pr",O),N=`>=${U}.${V}.${j}-${O} <${U}.${+V+1}.0-0`):N=`>=${U}.${V}.${j} <${U}.${+V+1}.0-0`,r("tilde return",N),N})},w=(L,T)=>L.trim().split(/\s+/).map(I=>y(I,T)).join(" "),y=(L,T)=>{r("caret",L,T);const I=T.loose?o[u.CARETLOOSE]:o[u.CARET],k=T.includePrerelease?"-0":"";return L.replace(I,(U,V,j,O,N)=>{r("caret",L,U,V,j,O,N);let z;return f(V)?z="":f(j)?z=`>=${V}.0.0${k} <${+V+1}.0.0-0`:f(O)?V==="0"?z=`>=${V}.${j}.0${k} <${V}.${+j+1}.0-0`:z=`>=${V}.${j}.0${k} <${+V+1}.0.0-0`:N?(r("replaceCaret pr",N),V==="0"?j==="0"?z=`>=${V}.${j}.${O}-${N} <${V}.${j}.${+O+1}-0`:z=`>=${V}.${j}.${O}-${N} <${V}.${+j+1}.0-0`:z=`>=${V}.${j}.${O}-${N} <${+V+1}.0.0-0`):(r("no pr"),V==="0"?j==="0"?z=`>=${V}.${j}.${O}${k} <${V}.${j}.${+O+1}-0`:z=`>=${V}.${j}.${O}${k} <${V}.${+j+1}.0-0`:z=`>=${V}.${j}.${O} <${+V+1}.0.0-0`),r("caret return",z),z})},b=(L,T)=>(r("replaceXRanges",L,T),L.split(/\s+/).map(I=>P(I,T)).join(" ")),P=(L,T)=>{L=L.trim();const I=T.loose?o[u.XRANGELOOSE]:o[u.XRANGE];return L.replace(I,(k,U,V,j,O,N)=>{r("xRange",L,k,U,V,j,O,N);const z=f(V),ee=z||f(j),M=ee||f(O),C=M;return U==="="&&C&&(U=""),N=T.includePrerelease?"-0":"",z?U===">"||U==="<"?k="<0.0.0-0":k="*":U&&C?(ee&&(j=0),O=0,U===">"?(U=">=",ee?(V=+V+1,j=0,O=0):(j=+j+1,O=0)):U==="<="&&(U="<",ee?V=+V+1:j=+j+1),U==="<"&&(N="-0"),k=`${U+V}.${j}.${O}${N}`):ee?k=`>=${V}.0.0${N} <${+V+1}.0.0-0`:M&&(k=`>=${V}.${j}.0${N} <${V}.${+j+1}.0-0`),r("xRange return",k),k})},D=(L,T)=>(r("replaceStars",L,T),L.trim().replace(o[u.STAR],"")),x=(L,T)=>(r("replaceGTE0",L,T),L.trim().replace(o[T.includePrerelease?u.GTE0PRE:u.GTE0],"")),q=L=>(T,I,k,U,V,j,O,N,z,ee,M,C)=>(f(k)?I="":f(U)?I=`>=${k}.0.0${L?"-0":""}`:f(V)?I=`>=${k}.${U}.0${L?"-0":""}`:j?I=`>=${I}`:I=`>=${I}${L?"-0":""}`,f(z)?N="":f(ee)?N=`<${+z+1}.0.0-0`:f(M)?N=`<${z}.${+ee+1}.0-0`:C?N=`<=${z}.${ee}.${M}-${C}`:L?N=`<${z}.${ee}.${+M+1}-0`:N=`<=${N}`,`${I} ${N}`.trim()),$=(L,T,I)=>{for(let k=0;k<L.length;k++)if(!L[k].test(T))return!1;if(T.prerelease.length&&!I.includePrerelease){for(let k=0;k<L.length;k++)if(r(L[k].semver),L[k].semver!==n.ANY&&L[k].semver.prerelease.length>0){const U=L[k].semver;if(U.major===T.major&&U.minor===T.minor&&U.patch===T.patch)return!0}return!1}return!0};return $i}var Ci,nc;function Qm(){if(nc)return Ci;nc=1;const e=wf();return Ci=(s,c,a)=>{try{c=new e(c,a)}catch{return!1}return c.test(s)},Ci}var e_=Qm();const t_=Ie(e_),r_=[{match:{arch:["x64","arm64"],runtime:"electron",runtimeVersion:">=9"},addDefines:"V8_COMPRESS_POINTERS"},{match:{runtime:"electron",runtimeVersion:">=9"},addDefines:"V8_31BIT_SMIS_ON_64BIT_ARCH"},{match:{runtime:"electron",runtimeVersion:">=11"},addDefines:"V8_REVERSE_JSARGS"},{match:{runtime:"electron",runtimeVersion:">=16",arch:["x64","arm64"]},addDefines:"V8_COMPRESS_POINTERS_IN_ISOLATE_CAGE"}];function Li(e,t){return t===void 0?!0:Array.isArray(t)?t.includes(e):t===e}function n_(e,t){const s=Li(e.arch,t.match.arch),c=Li(e.os,t.match.os),a=Li(e.runtime,t.match.runtime);return!s||!c||!a||t.match.runtimeVersion!==void 0&&!(Array.isArray(t.match.runtimeVersion)?t.match.runtimeVersion:[t.match.runtimeVersion]).some(r=>t_(e.runtimeVersion,r,{includePrerelease:!0}))?!1:(Array.isArray(t.addDefines)?e.additionalDefines.push(...t.addDefines):e.additionalDefines.push(t.addDefines),oe.debug(`Adding define: ${t.addDefines}`),!0)}function i_(e){for(const t of r_)n_(e,t)}var _e={},ye={},De={},ic;function s_(){if(ic)return De;ic=1,Object.defineProperty(De,"__esModule",{value:!0}),De.splitWhen=De.flatten=void 0;function e(s){return s.reduce((c,a)=>[].concat(c,a),[])}De.flatten=e;function t(s,c){const a=[[]];let n=0;for(const r of s)c(r)?(n++,a[n]=[]):a[n].push(r);return a}return De.splitWhen=t,De}var Qe={},sc;function o_(){if(sc)return Qe;sc=1,Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.isEnoentCodeError=void 0;function e(t){return t.code==="ENOENT"}return Qe.isEnoentCodeError=e,Qe}var et={},oc;function a_(){if(oc)return et;oc=1,Object.defineProperty(et,"__esModule",{value:!0}),et.createDirentFromStats=void 0;class e{constructor(c,a){this.name=c,this.isBlockDevice=a.isBlockDevice.bind(a),this.isCharacterDevice=a.isCharacterDevice.bind(a),this.isDirectory=a.isDirectory.bind(a),this.isFIFO=a.isFIFO.bind(a),this.isFile=a.isFile.bind(a),this.isSocket=a.isSocket.bind(a),this.isSymbolicLink=a.isSymbolicLink.bind(a)}}function t(s,c){return new e(s,c)}return et.createDirentFromStats=t,et}var de={},ac;function u_(){if(ac)return de;ac=1,Object.defineProperty(de,"__esModule",{value:!0}),de.convertPosixPathToPattern=de.convertWindowsPathToPattern=de.convertPathToPattern=de.escapePosixPath=de.escapeWindowsPath=de.escape=de.removeLeadingDotSegment=de.makeAbsolute=de.unixify=void 0;const e=ct,t=ce,s=e.platform()==="win32",c=2,a=/(\\?)([()*?[\]{|}]|^!|[!+@](?=\()|\\(?![!()*+?@[\]{|}]))/g,n=/(\\?)([()[\]{}]|^!|[!+@](?=\())/g,r=/^\\\\([.?])/,i=/\\(?![!()+@[\]{}])/g;function o(v){return v.replace(/\\/g,"/")}de.unixify=o;function u(v,d){return t.resolve(v,d)}de.makeAbsolute=u;function l(v){if(v.charAt(0)==="."){const d=v.charAt(1);if(d==="/"||d==="\\")return v.slice(c)}return v}de.removeLeadingDotSegment=l,de.escape=s?m:h;function m(v){return v.replace(n,"\\$2")}de.escapeWindowsPath=m;function h(v){return v.replace(a,"\\$2")}de.escapePosixPath=h,de.convertPathToPattern=s?E:R;function E(v){return m(v).replace(r,"//$1").replace(i,"/")}de.convertWindowsPathToPattern=E;function R(v){return h(v)}return de.convertPosixPathToPattern=R,de}var ae={};/*!
 * is-extglob <https://github.com/jonschlinkert/is-extglob>
 *
 * Copyright (c) 2014-2016, Jon Schlinkert.
 * Licensed under the MIT License.
 */var Di,uc;function c_(){return uc||(uc=1,Di=function(t){if(typeof t!="string"||t==="")return!1;for(var s;s=/(\\).|([@?!+*]\(.*\))/g.exec(t);){if(s[2])return!0;t=t.slice(s.index+s[0].length)}return!1}),Di}/*!
 * is-glob <https://github.com/jonschlinkert/is-glob>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var xi,cc;function l_(){if(cc)return xi;cc=1;var e=c_(),t={"{":"}","(":")","[":"]"},s=function(a){if(a[0]==="!")return!0;for(var n=0,r=-2,i=-2,o=-2,u=-2,l=-2;n<a.length;){if(a[n]==="*"||a[n+1]==="?"&&/[\].+)]/.test(a[n])||i!==-1&&a[n]==="["&&a[n+1]!=="]"&&(i<n&&(i=a.indexOf("]",n)),i>n&&(l===-1||l>i||(l=a.indexOf("\\",n),l===-1||l>i)))||o!==-1&&a[n]==="{"&&a[n+1]!=="}"&&(o=a.indexOf("}",n),o>n&&(l=a.indexOf("\\",n),l===-1||l>o))||u!==-1&&a[n]==="("&&a[n+1]==="?"&&/[:!=]/.test(a[n+2])&&a[n+3]!==")"&&(u=a.indexOf(")",n),u>n&&(l=a.indexOf("\\",n),l===-1||l>u))||r!==-1&&a[n]==="("&&a[n+1]!=="|"&&(r<n&&(r=a.indexOf("|",n)),r!==-1&&a[r+1]!==")"&&(u=a.indexOf(")",r),u>r&&(l=a.indexOf("\\",r),l===-1||l>u))))return!0;if(a[n]==="\\"){var m=a[n+1];n+=2;var h=t[m];if(h){var E=a.indexOf(h,n);E!==-1&&(n=E+1)}if(a[n]==="!")return!0}else n++}return!1},c=function(a){if(a[0]==="!")return!0;for(var n=0;n<a.length;){if(/[*?{}()[\]]/.test(a[n]))return!0;if(a[n]==="\\"){var r=a[n+1];n+=2;var i=t[r];if(i){var o=a.indexOf(i,n);o!==-1&&(n=o+1)}if(a[n]==="!")return!0}else n++}return!1};return xi=function(n,r){if(typeof n!="string"||n==="")return!1;if(e(n))return!0;var i=s;return r&&r.strict===!1&&(i=c),i(n)},xi}var Fi,lc;function f_(){if(lc)return Fi;lc=1;var e=l_(),t=ce.posix.dirname,s=ct.platform()==="win32",c="/",a=/\\/g,n=/[\{\[].*[\}\]]$/,r=/(^|[^\\])([\{\[]|\([^\)]+$)/,i=/\\([\!\*\?\|\[\]\(\)\{\}])/g;return Fi=function(u,l){var m=Object.assign({flipBackslashes:!0},l);m.flipBackslashes&&s&&u.indexOf(c)<0&&(u=u.replace(a,c)),n.test(u)&&(u+=c),u+="a";do u=t(u);while(e(u)||r.test(u));return u.replace(i,"$1")},Fi}var qi={},fc;function Ws(){return fc||(fc=1,function(e){e.isInteger=t=>typeof t=="number"?Number.isInteger(t):typeof t=="string"&&t.trim()!==""?Number.isInteger(Number(t)):!1,e.find=(t,s)=>t.nodes.find(c=>c.type===s),e.exceedsLimit=(t,s,c=1,a)=>a===!1||!e.isInteger(t)||!e.isInteger(s)?!1:(Number(s)-Number(t))/Number(c)>=a,e.escapeNode=(t,s=0,c)=>{const a=t.nodes[s];a&&(c&&a.type===c||a.type==="open"||a.type==="close")&&a.escaped!==!0&&(a.value="\\"+a.value,a.escaped=!0)},e.encloseBrace=t=>t.type!=="brace"?!1:t.commas>>0+t.ranges>>0===0?(t.invalid=!0,!0):!1,e.isInvalidBrace=t=>t.type!=="brace"?!1:t.invalid===!0||t.dollar?!0:t.commas>>0+t.ranges>>0===0||t.open!==!0||t.close!==!0?(t.invalid=!0,!0):!1,e.isOpenOrClose=t=>t.type==="open"||t.type==="close"?!0:t.open===!0||t.close===!0,e.reduce=t=>t.reduce((s,c)=>(c.type==="text"&&s.push(c.value),c.type==="range"&&(c.type="text"),s),[]),e.flatten=(...t)=>{const s=[],c=a=>{for(let n=0;n<a.length;n++){const r=a[n];if(Array.isArray(r)){c(r);continue}r!==void 0&&s.push(r)}return s};return c(t),s}}(qi)),qi}var Mi,hc;function Vs(){if(hc)return Mi;hc=1;const e=Ws();return Mi=(t,s={})=>{const c=(a,n={})=>{const r=s.escapeInvalid&&e.isInvalidBrace(n),i=a.invalid===!0&&s.escapeInvalid===!0;let o="";if(a.value)return(r||i)&&e.isOpenOrClose(a)?"\\"+a.value:a.value;if(a.value)return a.value;if(a.nodes)for(const u of a.nodes)o+=c(u);return o};return c(t)},Mi}/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */var ki,dc;function h_(){return dc||(dc=1,ki=function(e){return typeof e=="number"?e-e===0:typeof e=="string"&&e.trim()!==""?Number.isFinite?Number.isFinite(+e):isFinite(+e):!1}),ki}/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */var Bi,pc;function d_(){if(pc)return Bi;pc=1;const e=h_(),t=(d,p,g)=>{if(e(d)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(p===void 0||d===p)return String(d);if(e(p)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let f={relaxZeros:!0,...g};typeof f.strictZeros=="boolean"&&(f.relaxZeros=f.strictZeros===!1);let S=String(f.relaxZeros),_=String(f.shorthand),w=String(f.capture),y=String(f.wrap),b=d+":"+p+"="+S+_+w+y;if(t.cache.hasOwnProperty(b))return t.cache[b].result;let P=Math.min(d,p),D=Math.max(d,p);if(Math.abs(P-D)===1){let T=d+"|"+p;return f.capture?`(${T})`:f.wrap===!1?T:`(?:${T})`}let x=R(d)||R(p),q={min:d,max:p,a:P,b:D},$=[],L=[];if(x&&(q.isPadded=x,q.maxLen=String(q.max).length),P<0){let T=D<0?Math.abs(D):1;L=n(T,Math.abs(P),q,f),P=q.a=0}return D>=0&&($=n(P,D,q,f)),q.negatives=L,q.positives=$,q.result=s(L,$),f.capture===!0?q.result=`(${q.result})`:f.wrap!==!1&&$.length+L.length>1&&(q.result=`(?:${q.result})`),t.cache[b]=q,q.result};function s(d,p,g){let f=r(d,p,"-",!1)||[],S=r(p,d,"",!1)||[],_=r(d,p,"-?",!0)||[];return f.concat(_).concat(S).join("|")}function c(d,p){let g=1,f=1,S=l(d,g),_=new Set([p]);for(;d<=S&&S<=p;)_.add(S),g+=1,S=l(d,g);for(S=m(p+1,f)-1;d<S&&S<=p;)_.add(S),f+=1,S=m(p+1,f)-1;return _=[..._],_.sort(o),_}function a(d,p,g){if(d===p)return{pattern:d,count:[],digits:0};let f=i(d,p),S=f.length,_="",w=0;for(let y=0;y<S;y++){let[b,P]=f[y];b===P?_+=b:b!=="0"||P!=="9"?_+=E(b,P):w++}return w&&(_+=g.shorthand===!0?"\\d":"[0-9]"),{pattern:_,count:[w],digits:S}}function n(d,p,g,f){let S=c(d,p),_=[],w=d,y;for(let b=0;b<S.length;b++){let P=S[b],D=a(String(w),String(P),f),x="";if(!g.isPadded&&y&&y.pattern===D.pattern){y.count.length>1&&y.count.pop(),y.count.push(D.count[0]),y.string=y.pattern+h(y.count),w=P+1;continue}g.isPadded&&(x=v(P,g,f)),D.string=x+D.pattern+h(D.count),_.push(D),w=P+1,y=D}return _}function r(d,p,g,f,S){let _=[];for(let w of d){let{string:y}=w;!f&&!u(p,"string",y)&&_.push(g+y),f&&u(p,"string",y)&&_.push(g+y)}return _}function i(d,p){let g=[];for(let f=0;f<d.length;f++)g.push([d[f],p[f]]);return g}function o(d,p){return d>p?1:p>d?-1:0}function u(d,p,g){return d.some(f=>f[p]===g)}function l(d,p){return Number(String(d).slice(0,-p)+"9".repeat(p))}function m(d,p){return d-d%Math.pow(10,p)}function h(d){let[p=0,g=""]=d;return g||p>1?`{${p+(g?","+g:"")}}`:""}function E(d,p,g){return`[${d}${p-d===1?"":"-"}${p}]`}function R(d){return/^-?(0+)\d/.test(d)}function v(d,p,g){if(!p.isPadded)return d;let f=Math.abs(p.maxLen-String(d).length),S=g.relaxZeros!==!1;switch(f){case 0:return"";case 1:return S?"0?":"0";case 2:return S?"0{0,2}":"00";default:return S?`0{0,${f}}`:`0{${f}}`}}return t.cache={},t.clearCache=()=>t.cache={},Bi=t,Bi}/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */var ji,mc;function Of(){if(mc)return ji;mc=1;const e=Vt,t=d_(),s=f=>f!==null&&typeof f=="object"&&!Array.isArray(f),c=f=>S=>f===!0?Number(S):String(S),a=f=>typeof f=="number"||typeof f=="string"&&f!=="",n=f=>Number.isInteger(+f),r=f=>{let S=`${f}`,_=-1;if(S[0]==="-"&&(S=S.slice(1)),S==="0")return!1;for(;S[++_]==="0";);return _>0},i=(f,S,_)=>typeof f=="string"||typeof S=="string"?!0:_.stringify===!0,o=(f,S,_)=>{if(S>0){let w=f[0]==="-"?"-":"";w&&(f=f.slice(1)),f=w+f.padStart(w?S-1:S,"0")}return _===!1?String(f):f},u=(f,S)=>{let _=f[0]==="-"?"-":"";for(_&&(f=f.slice(1),S--);f.length<S;)f="0"+f;return _?"-"+f:f},l=(f,S,_)=>{f.negatives.sort((D,x)=>D<x?-1:D>x?1:0),f.positives.sort((D,x)=>D<x?-1:D>x?1:0);let w=S.capture?"":"?:",y="",b="",P;return f.positives.length&&(y=f.positives.map(D=>u(String(D),_)).join("|")),f.negatives.length&&(b=`-(${w}${f.negatives.map(D=>u(String(D),_)).join("|")})`),y&&b?P=`${y}|${b}`:P=y||b,S.wrap?`(${w}${P})`:P},m=(f,S,_,w)=>{if(_)return t(f,S,{wrap:!1,...w});let y=String.fromCharCode(f);if(f===S)return y;let b=String.fromCharCode(S);return`[${y}-${b}]`},h=(f,S,_)=>{if(Array.isArray(f)){let w=_.wrap===!0,y=_.capture?"":"?:";return w?`(${y}${f.join("|")})`:f.join("|")}return t(f,S,_)},E=(...f)=>new RangeError("Invalid range arguments: "+e.inspect(...f)),R=(f,S,_)=>{if(_.strictRanges===!0)throw E([f,S]);return[]},v=(f,S)=>{if(S.strictRanges===!0)throw new TypeError(`Expected step "${f}" to be a number`);return[]},d=(f,S,_=1,w={})=>{let y=Number(f),b=Number(S);if(!Number.isInteger(y)||!Number.isInteger(b)){if(w.strictRanges===!0)throw E([f,S]);return[]}y===0&&(y=0),b===0&&(b=0);let P=y>b,D=String(f),x=String(S),q=String(_);_=Math.max(Math.abs(_),1);let $=r(D)||r(x)||r(q),L=$?Math.max(D.length,x.length,q.length):0,T=$===!1&&i(f,S,w)===!1,I=w.transform||c(T);if(w.toRegex&&_===1)return m(u(f,L),u(S,L),!0,w);let k={negatives:[],positives:[]},U=O=>k[O<0?"negatives":"positives"].push(Math.abs(O)),V=[],j=0;for(;P?y>=b:y<=b;)w.toRegex===!0&&_>1?U(y):V.push(o(I(y,j),L,T)),y=P?y-_:y+_,j++;return w.toRegex===!0?_>1?l(k,w,L):h(V,null,{wrap:!1,...w}):V},p=(f,S,_=1,w={})=>{if(!n(f)&&f.length>1||!n(S)&&S.length>1)return R(f,S,w);let y=w.transform||(T=>String.fromCharCode(T)),b=`${f}`.charCodeAt(0),P=`${S}`.charCodeAt(0),D=b>P,x=Math.min(b,P),q=Math.max(b,P);if(w.toRegex&&_===1)return m(x,q,!1,w);let $=[],L=0;for(;D?b>=P:b<=P;)$.push(y(b,L)),b=D?b-_:b+_,L++;return w.toRegex===!0?h($,null,{wrap:!1,options:w}):$},g=(f,S,_,w={})=>{if(S==null&&a(f))return[f];if(!a(f)||!a(S))return R(f,S,w);if(typeof _=="function")return g(f,S,1,{transform:_});if(s(_))return g(f,S,0,_);let y={...w};return y.capture===!0&&(y.wrap=!0),_=_||y.step||1,n(_)?n(f)&&n(S)?d(f,S,_,y):p(f,S,Math.max(Math.abs(_),1),y):_!=null&&!s(_)?v(_,y):g(f,S,1,_)};return ji=g,ji}var Hi,_c;function p_(){if(_c)return Hi;_c=1;const e=Of(),t=Ws();return Hi=(c,a={})=>{const n=(r,i={})=>{const o=t.isInvalidBrace(i),u=r.invalid===!0&&a.escapeInvalid===!0,l=o===!0||u===!0,m=a.escapeInvalid===!0?"\\":"";let h="";if(r.isOpen===!0)return m+r.value;if(r.isClose===!0)return console.log("node.isClose",m,r.value),m+r.value;if(r.type==="open")return l?m+r.value:"(";if(r.type==="close")return l?m+r.value:")";if(r.type==="comma")return r.prev.type==="comma"?"":l?r.value:"|";if(r.value)return r.value;if(r.nodes&&r.ranges>0){const E=t.reduce(r.nodes),R=e(...E,{...a,wrap:!1,toRegex:!0,strictZeros:!0});if(R.length!==0)return E.length>1&&R.length>1?`(${R})`:R}if(r.nodes)for(const E of r.nodes)h+=n(E,r);return h};return n(c)},Hi}var Ui,yc;function m_(){if(yc)return Ui;yc=1;const e=Of(),t=Vs(),s=Ws(),c=(n="",r="",i=!1)=>{const o=[];if(n=[].concat(n),r=[].concat(r),!r.length)return n;if(!n.length)return i?s.flatten(r).map(u=>`{${u}}`):r;for(const u of n)if(Array.isArray(u))for(const l of u)o.push(c(l,r,i));else for(let l of r)i===!0&&typeof l=="string"&&(l=`{${l}}`),o.push(Array.isArray(l)?c(u,l,i):u+l);return s.flatten(o)};return Ui=(n,r={})=>{const i=r.rangeLimit===void 0?1e3:r.rangeLimit,o=(u,l={})=>{u.queue=[];let m=l,h=l.queue;for(;m.type!=="brace"&&m.type!=="root"&&m.parent;)m=m.parent,h=m.queue;if(u.invalid||u.dollar){h.push(c(h.pop(),t(u,r)));return}if(u.type==="brace"&&u.invalid!==!0&&u.nodes.length===2){h.push(c(h.pop(),["{}"]));return}if(u.nodes&&u.ranges>0){const d=s.reduce(u.nodes);if(s.exceedsLimit(...d,r.step,i))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let p=e(...d,r);p.length===0&&(p=t(u,r)),h.push(c(h.pop(),p)),u.nodes=[];return}const E=s.encloseBrace(u);let R=u.queue,v=u;for(;v.type!=="brace"&&v.type!=="root"&&v.parent;)v=v.parent,R=v.queue;for(let d=0;d<u.nodes.length;d++){const p=u.nodes[d];if(p.type==="comma"&&u.type==="brace"){d===1&&R.push(""),R.push("");continue}if(p.type==="close"){h.push(c(h.pop(),R,E));continue}if(p.value&&p.type!=="open"){R.push(c(R.pop(),p.value));continue}p.nodes&&o(p,u)}return R};return s.flatten(o(n))},Ui}var Gi,gc;function __(){return gc||(gc=1,Gi={MAX_LENGTH:1e4,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:" ",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}),Gi}var Wi,vc;function y_(){if(vc)return Wi;vc=1;const e=Vs(),{MAX_LENGTH:t,CHAR_BACKSLASH:s,CHAR_BACKTICK:c,CHAR_COMMA:a,CHAR_DOT:n,CHAR_LEFT_PARENTHESES:r,CHAR_RIGHT_PARENTHESES:i,CHAR_LEFT_CURLY_BRACE:o,CHAR_RIGHT_CURLY_BRACE:u,CHAR_LEFT_SQUARE_BRACKET:l,CHAR_RIGHT_SQUARE_BRACKET:m,CHAR_DOUBLE_QUOTE:h,CHAR_SINGLE_QUOTE:E,CHAR_NO_BREAK_SPACE:R,CHAR_ZERO_WIDTH_NOBREAK_SPACE:v}=__();return Wi=(p,g={})=>{if(typeof p!="string")throw new TypeError("Expected a string");const f=g||{},S=typeof f.maxLength=="number"?Math.min(t,f.maxLength):t;if(p.length>S)throw new SyntaxError(`Input length (${p.length}), exceeds max characters (${S})`);const _={type:"root",input:p,nodes:[]},w=[_];let y=_,b=_,P=0;const D=p.length;let x=0,q=0,$;const L=()=>p[x++],T=I=>{if(I.type==="text"&&b.type==="dot"&&(b.type="text"),b&&b.type==="text"&&I.type==="text"){b.value+=I.value;return}return y.nodes.push(I),I.parent=y,I.prev=b,b=I,I};for(T({type:"bos"});x<D;)if(y=w[w.length-1],$=L(),!($===v||$===R)){if($===s){T({type:"text",value:(g.keepEscaping?$:"")+L()});continue}if($===m){T({type:"text",value:"\\"+$});continue}if($===l){P++;let I;for(;x<D&&(I=L());){if($+=I,I===l){P++;continue}if(I===s){$+=L();continue}if(I===m&&(P--,P===0))break}T({type:"text",value:$});continue}if($===r){y=T({type:"paren",nodes:[]}),w.push(y),T({type:"text",value:$});continue}if($===i){if(y.type!=="paren"){T({type:"text",value:$});continue}y=w.pop(),T({type:"text",value:$}),y=w[w.length-1];continue}if($===h||$===E||$===c){const I=$;let k;for(g.keepQuotes!==!0&&($="");x<D&&(k=L());){if(k===s){$+=k+L();continue}if(k===I){g.keepQuotes===!0&&($+=k);break}$+=k}T({type:"text",value:$});continue}if($===o){q++;const k={type:"brace",open:!0,close:!1,dollar:b.value&&b.value.slice(-1)==="$"||y.dollar===!0,depth:q,commas:0,ranges:0,nodes:[]};y=T(k),w.push(y),T({type:"open",value:$});continue}if($===u){if(y.type!=="brace"){T({type:"text",value:$});continue}const I="close";y=w.pop(),y.close=!0,T({type:I,value:$}),q--,y=w[w.length-1];continue}if($===a&&q>0){if(y.ranges>0){y.ranges=0;const I=y.nodes.shift();y.nodes=[I,{type:"text",value:e(y)}]}T({type:"comma",value:$}),y.commas++;continue}if($===n&&q>0&&y.commas===0){const I=y.nodes;if(q===0||I.length===0){T({type:"text",value:$});continue}if(b.type==="dot"){if(y.range=[],b.value+=$,b.type="range",y.nodes.length!==3&&y.nodes.length!==5){y.invalid=!0,y.ranges=0,b.type="text";continue}y.ranges++,y.args=[];continue}if(b.type==="range"){I.pop();const k=I[I.length-1];k.value+=b.value+$,b=k,y.ranges--;continue}T({type:"dot",value:$});continue}T({type:"text",value:$})}do if(y=w.pop(),y.type!=="root"){y.nodes.forEach(U=>{U.nodes||(U.type==="open"&&(U.isOpen=!0),U.type==="close"&&(U.isClose=!0),U.nodes||(U.type="text"),U.invalid=!0)});const I=w[w.length-1],k=I.nodes.indexOf(y);I.nodes.splice(k,1,...y.nodes)}while(w.length>0);return T({type:"eos"}),_},Wi}var Vi,Ec;function g_(){if(Ec)return Vi;Ec=1;const e=Vs(),t=p_(),s=m_(),c=y_(),a=(n,r={})=>{let i=[];if(Array.isArray(n))for(const o of n){const u=a.create(o,r);Array.isArray(u)?i.push(...u):i.push(u)}else i=[].concat(a.create(n,r));return r&&r.expand===!0&&r.nodupes===!0&&(i=[...new Set(i)]),i};return a.parse=(n,r={})=>c(n,r),a.stringify=(n,r={})=>e(typeof n=="string"?a.parse(n,r):n,r),a.compile=(n,r={})=>(typeof n=="string"&&(n=a.parse(n,r)),t(n,r)),a.expand=(n,r={})=>{typeof n=="string"&&(n=a.parse(n,r));let i=s(n,r);return r.noempty===!0&&(i=i.filter(Boolean)),r.nodupes===!0&&(i=[...new Set(i)]),i},a.create=(n,r={})=>n===""||n.length<3?[n]:r.expand!==!0?a.compile(n,r):a.expand(n,r),Vi=a,Vi}var zi={},Yi,Sc;function Zt(){if(Sc)return Yi;Sc=1;const e=ce,t="\\\\/",s=`[^${t}]`,c="\\.",a="\\+",n="\\?",r="\\/",i="(?=.)",o="[^/]",u=`(?:${r}|$)`,l=`(?:^|${r})`,m=`${c}{1,2}${u}`,h=`(?!${c})`,E=`(?!${l}${m})`,R=`(?!${c}{0,1}${u})`,v=`(?!${m})`,d=`[^.${r}]`,p=`${o}*?`,g={DOT_LITERAL:c,PLUS_LITERAL:a,QMARK_LITERAL:n,SLASH_LITERAL:r,ONE_CHAR:i,QMARK:o,END_ANCHOR:u,DOTS_SLASH:m,NO_DOT:h,NO_DOTS:E,NO_DOT_SLASH:R,NO_DOTS_SLASH:v,QMARK_NO_DOT:d,STAR:p,START_ANCHOR:l},f={...g,SLASH_LITERAL:`[${t}]`,QMARK:s,STAR:`${s}*?`,DOTS_SLASH:`${c}{1,2}(?:[${t}]|$)`,NO_DOT:`(?!${c})`,NO_DOTS:`(?!(?:^|[${t}])${c}{1,2}(?:[${t}]|$))`,NO_DOT_SLASH:`(?!${c}{0,1}(?:[${t}]|$))`,NO_DOTS_SLASH:`(?!${c}{1,2}(?:[${t}]|$))`,QMARK_NO_DOT:`[^.${t}]`,START_ANCHOR:`(?:^|[${t}])`,END_ANCHOR:`(?:[${t}]|$)`},S={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};return Yi={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:S,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:e.sep,extglobChars(_){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${_.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(_){return _===!0?f:g}},Yi}var Rc;function Jt(){return Rc||(Rc=1,function(e){const t=ce,s=process.platform==="win32",{REGEX_BACKSLASH:c,REGEX_REMOVE_BACKSLASH:a,REGEX_SPECIAL_CHARS:n,REGEX_SPECIAL_CHARS_GLOBAL:r}=Zt();e.isObject=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),e.hasRegexChars=i=>n.test(i),e.isRegexChar=i=>i.length===1&&e.hasRegexChars(i),e.escapeRegex=i=>i.replace(r,"\\$1"),e.toPosixSlashes=i=>i.replace(c,"/"),e.removeBackslashes=i=>i.replace(a,o=>o==="\\"?"":o),e.supportsLookbehinds=()=>{const i=process.version.slice(1).split(".").map(Number);return i.length===3&&i[0]>=9||i[0]===8&&i[1]>=10},e.isWindows=i=>i&&typeof i.windows=="boolean"?i.windows:s===!0||t.sep==="\\",e.escapeLast=(i,o,u)=>{const l=i.lastIndexOf(o,u);return l===-1?i:i[l-1]==="\\"?e.escapeLast(i,o,l-1):`${i.slice(0,l)}\\${i.slice(l)}`},e.removePrefix=(i,o={})=>{let u=i;return u.startsWith("./")&&(u=u.slice(2),o.prefix="./"),u},e.wrapOutput=(i,o={},u={})=>{const l=u.contains?"":"^",m=u.contains?"":"$";let h=`${l}(?:${i})${m}`;return o.negated===!0&&(h=`(?:^(?!${h}).*$)`),h}}(zi)),zi}var Ki,wc;function v_(){if(wc)return Ki;wc=1;const e=Jt(),{CHAR_ASTERISK:t,CHAR_AT:s,CHAR_BACKWARD_SLASH:c,CHAR_COMMA:a,CHAR_DOT:n,CHAR_EXCLAMATION_MARK:r,CHAR_FORWARD_SLASH:i,CHAR_LEFT_CURLY_BRACE:o,CHAR_LEFT_PARENTHESES:u,CHAR_LEFT_SQUARE_BRACKET:l,CHAR_PLUS:m,CHAR_QUESTION_MARK:h,CHAR_RIGHT_CURLY_BRACE:E,CHAR_RIGHT_PARENTHESES:R,CHAR_RIGHT_SQUARE_BRACKET:v}=Zt(),d=f=>f===i||f===c,p=f=>{f.isPrefix!==!0&&(f.depth=f.isGlobstar?1/0:1)};return Ki=(f,S)=>{const _=S||{},w=f.length-1,y=_.parts===!0||_.scanToEnd===!0,b=[],P=[],D=[];let x=f,q=-1,$=0,L=0,T=!1,I=!1,k=!1,U=!1,V=!1,j=!1,O=!1,N=!1,z=!1,ee=!1,M=0,C,H,G={value:"",depth:0,isGlob:!1};const F=()=>q>=w,B=()=>x.charCodeAt(q+1),Y=()=>(C=H,x.charCodeAt(++q));for(;q<w;){H=Y();let A;if(H===c){O=G.backslashes=!0,H=Y(),H===o&&(j=!0);continue}if(j===!0||H===o){for(M++;F()!==!0&&(H=Y());){if(H===c){O=G.backslashes=!0,Y();continue}if(H===o){M++;continue}if(j!==!0&&H===n&&(H=Y())===n){if(T=G.isBrace=!0,k=G.isGlob=!0,ee=!0,y===!0)continue;break}if(j!==!0&&H===a){if(T=G.isBrace=!0,k=G.isGlob=!0,ee=!0,y===!0)continue;break}if(H===E&&(M--,M===0)){j=!1,T=G.isBrace=!0,ee=!0;break}}if(y===!0)continue;break}if(H===i){if(b.push(q),P.push(G),G={value:"",depth:0,isGlob:!1},ee===!0)continue;if(C===n&&q===$+1){$+=2;continue}L=q+1;continue}if(_.noext!==!0&&(H===m||H===s||H===t||H===h||H===r)===!0&&B()===u){if(k=G.isGlob=!0,U=G.isExtglob=!0,ee=!0,H===r&&q===$&&(z=!0),y===!0){for(;F()!==!0&&(H=Y());){if(H===c){O=G.backslashes=!0,H=Y();continue}if(H===R){k=G.isGlob=!0,ee=!0;break}}continue}break}if(H===t){if(C===t&&(V=G.isGlobstar=!0),k=G.isGlob=!0,ee=!0,y===!0)continue;break}if(H===h){if(k=G.isGlob=!0,ee=!0,y===!0)continue;break}if(H===l){for(;F()!==!0&&(A=Y());){if(A===c){O=G.backslashes=!0,Y();continue}if(A===v){I=G.isBracket=!0,k=G.isGlob=!0,ee=!0;break}}if(y===!0)continue;break}if(_.nonegate!==!0&&H===r&&q===$){N=G.negated=!0,$++;continue}if(_.noparen!==!0&&H===u){if(k=G.isGlob=!0,y===!0){for(;F()!==!0&&(H=Y());){if(H===u){O=G.backslashes=!0,H=Y();continue}if(H===R){ee=!0;break}}continue}break}if(k===!0){if(ee=!0,y===!0)continue;break}}_.noext===!0&&(U=!1,k=!1);let J=x,re="",se="";$>0&&(re=x.slice(0,$),x=x.slice($),L-=$),J&&k===!0&&L>0?(J=x.slice(0,L),se=x.slice(L)):k===!0?(J="",se=x):J=x,J&&J!==""&&J!=="/"&&J!==x&&d(J.charCodeAt(J.length-1))&&(J=J.slice(0,-1)),_.unescape===!0&&(se&&(se=e.removeBackslashes(se)),J&&O===!0&&(J=e.removeBackslashes(J)));const Z={prefix:re,input:f,start:$,base:J,glob:se,isBrace:T,isBracket:I,isGlob:k,isExtglob:U,isGlobstar:V,negated:N,negatedExtglob:z};if(_.tokens===!0&&(Z.maxDepth=0,d(H)||P.push(G),Z.tokens=P),_.parts===!0||_.tokens===!0){let A;for(let X=0;X<b.length;X++){const Q=A?A+1:$,W=b[X],ne=f.slice(Q,W);_.tokens&&(X===0&&$!==0?(P[X].isPrefix=!0,P[X].value=re):P[X].value=ne,p(P[X]),Z.maxDepth+=P[X].depth),(X!==0||ne!=="")&&D.push(ne),A=W}if(A&&A+1<f.length){const X=f.slice(A+1);D.push(X),_.tokens&&(P[P.length-1].value=X,p(P[P.length-1]),Z.maxDepth+=P[P.length-1].depth)}Z.slashes=b,Z.parts=D}return Z},Ki}var Xi,Oc;function E_(){if(Oc)return Xi;Oc=1;const e=Zt(),t=Jt(),{MAX_LENGTH:s,POSIX_REGEX_SOURCE:c,REGEX_NON_SPECIAL_CHARS:a,REGEX_SPECIAL_CHARS_BACKREF:n,REPLACEMENTS:r}=e,i=(l,m)=>{if(typeof m.expandRange=="function")return m.expandRange(...l,m);l.sort();const h=`[${l.join("-")}]`;try{new RegExp(h)}catch{return l.map(R=>t.escapeRegex(R)).join("..")}return h},o=(l,m)=>`Missing ${l}: "${m}" - use "\\\\${m}" to match literal characters`,u=(l,m)=>{if(typeof l!="string")throw new TypeError("Expected a string");l=r[l]||l;const h={...m},E=typeof h.maxLength=="number"?Math.min(s,h.maxLength):s;let R=l.length;if(R>E)throw new SyntaxError(`Input length: ${R}, exceeds maximum allowed length: ${E}`);const v={type:"bos",value:"",output:h.prepend||""},d=[v],p=h.capture?"":"?:",g=t.isWindows(m),f=e.globChars(g),S=e.extglobChars(f),{DOT_LITERAL:_,PLUS_LITERAL:w,SLASH_LITERAL:y,ONE_CHAR:b,DOTS_SLASH:P,NO_DOT:D,NO_DOT_SLASH:x,NO_DOTS_SLASH:q,QMARK:$,QMARK_NO_DOT:L,STAR:T,START_ANCHOR:I}=f,k=W=>`(${p}(?:(?!${I}${W.dot?P:_}).)*?)`,U=h.dot?"":D,V=h.dot?$:L;let j=h.bash===!0?k(h):T;h.capture&&(j=`(${j})`),typeof h.noext=="boolean"&&(h.noextglob=h.noext);const O={input:l,index:-1,start:0,dot:h.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:d};l=t.removePrefix(l,O),R=l.length;const N=[],z=[],ee=[];let M=v,C;const H=()=>O.index===R-1,G=O.peek=(W=1)=>l[O.index+W],F=O.advance=()=>l[++O.index]||"",B=()=>l.slice(O.index+1),Y=(W="",ne=0)=>{O.consumed+=W,O.index+=ne},J=W=>{O.output+=W.output!=null?W.output:W.value,Y(W.value)},re=()=>{let W=1;for(;G()==="!"&&(G(2)!=="("||G(3)==="?");)F(),O.start++,W++;return W%2===0?!1:(O.negated=!0,O.start++,!0)},se=W=>{O[W]++,ee.push(W)},Z=W=>{O[W]--,ee.pop()},A=W=>{if(M.type==="globstar"){const ne=O.braces>0&&(W.type==="comma"||W.type==="brace"),K=W.extglob===!0||N.length&&(W.type==="pipe"||W.type==="paren");W.type!=="slash"&&W.type!=="paren"&&!ne&&!K&&(O.output=O.output.slice(0,-M.output.length),M.type="star",M.value="*",M.output=j,O.output+=M.output)}if(N.length&&W.type!=="paren"&&(N[N.length-1].inner+=W.value),(W.value||W.output)&&J(W),M&&M.type==="text"&&W.type==="text"){M.value+=W.value,M.output=(M.output||"")+W.value;return}W.prev=M,d.push(W),M=W},X=(W,ne)=>{const K={...S[ne],conditions:1,inner:""};K.prev=M,K.parens=O.parens,K.output=O.output;const te=(h.capture?"(":"")+K.open;se("parens"),A({type:W,value:ne,output:O.output?"":b}),A({type:"paren",extglob:!0,value:F(),output:te}),N.push(K)},Q=W=>{let ne=W.close+(h.capture?")":""),K;if(W.type==="negate"){let te=j;if(W.inner&&W.inner.length>1&&W.inner.includes("/")&&(te=k(h)),(te!==j||H()||/^\)+$/.test(B()))&&(ne=W.close=`)$))${te}`),W.inner.includes("*")&&(K=B())&&/^\.[^\\/.]+$/.test(K)){const ie=u(K,{...m,fastpaths:!1}).output;ne=W.close=`)${ie})${te})`}W.prev.type==="bos"&&(O.negatedExtglob=!0)}A({type:"paren",extglob:!0,value:C,output:ne}),Z("parens")};if(h.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(l)){let W=!1,ne=l.replace(n,(K,te,ie,ue,le,he)=>ue==="\\"?(W=!0,K):ue==="?"?te?te+ue+(le?$.repeat(le.length):""):he===0?V+(le?$.repeat(le.length):""):$.repeat(ie.length):ue==="."?_.repeat(ie.length):ue==="*"?te?te+ue+(le?j:""):j:te?K:`\\${K}`);return W===!0&&(h.unescape===!0?ne=ne.replace(/\\/g,""):ne=ne.replace(/\\+/g,K=>K.length%2===0?"\\\\":K?"\\":"")),ne===l&&h.contains===!0?(O.output=l,O):(O.output=t.wrapOutput(ne,O,m),O)}for(;!H();){if(C=F(),C==="\0")continue;if(C==="\\"){const K=G();if(K==="/"&&h.bash!==!0||K==="."||K===";")continue;if(!K){C+="\\",A({type:"text",value:C});continue}const te=/^\\+/.exec(B());let ie=0;if(te&&te[0].length>2&&(ie=te[0].length,O.index+=ie,ie%2!==0&&(C+="\\")),h.unescape===!0?C=F():C+=F(),O.brackets===0){A({type:"text",value:C});continue}}if(O.brackets>0&&(C!=="]"||M.value==="["||M.value==="[^")){if(h.posix!==!1&&C===":"){const K=M.value.slice(1);if(K.includes("[")&&(M.posix=!0,K.includes(":"))){const te=M.value.lastIndexOf("["),ie=M.value.slice(0,te),ue=M.value.slice(te+2),le=c[ue];if(le){M.value=ie+le,O.backtrack=!0,F(),!v.output&&d.indexOf(M)===1&&(v.output=b);continue}}}(C==="["&&G()!==":"||C==="-"&&G()==="]")&&(C=`\\${C}`),C==="]"&&(M.value==="["||M.value==="[^")&&(C=`\\${C}`),h.posix===!0&&C==="!"&&M.value==="["&&(C="^"),M.value+=C,J({value:C});continue}if(O.quotes===1&&C!=='"'){C=t.escapeRegex(C),M.value+=C,J({value:C});continue}if(C==='"'){O.quotes=O.quotes===1?0:1,h.keepQuotes===!0&&A({type:"text",value:C});continue}if(C==="("){se("parens"),A({type:"paren",value:C});continue}if(C===")"){if(O.parens===0&&h.strictBrackets===!0)throw new SyntaxError(o("opening","("));const K=N[N.length-1];if(K&&O.parens===K.parens+1){Q(N.pop());continue}A({type:"paren",value:C,output:O.parens?")":"\\)"}),Z("parens");continue}if(C==="["){if(h.nobracket===!0||!B().includes("]")){if(h.nobracket!==!0&&h.strictBrackets===!0)throw new SyntaxError(o("closing","]"));C=`\\${C}`}else se("brackets");A({type:"bracket",value:C});continue}if(C==="]"){if(h.nobracket===!0||M&&M.type==="bracket"&&M.value.length===1){A({type:"text",value:C,output:`\\${C}`});continue}if(O.brackets===0){if(h.strictBrackets===!0)throw new SyntaxError(o("opening","["));A({type:"text",value:C,output:`\\${C}`});continue}Z("brackets");const K=M.value.slice(1);if(M.posix!==!0&&K[0]==="^"&&!K.includes("/")&&(C=`/${C}`),M.value+=C,J({value:C}),h.literalBrackets===!1||t.hasRegexChars(K))continue;const te=t.escapeRegex(M.value);if(O.output=O.output.slice(0,-M.value.length),h.literalBrackets===!0){O.output+=te,M.value=te;continue}M.value=`(${p}${te}|${M.value})`,O.output+=M.value;continue}if(C==="{"&&h.nobrace!==!0){se("braces");const K={type:"brace",value:C,output:"(",outputIndex:O.output.length,tokensIndex:O.tokens.length};z.push(K),A(K);continue}if(C==="}"){const K=z[z.length-1];if(h.nobrace===!0||!K){A({type:"text",value:C,output:C});continue}let te=")";if(K.dots===!0){const ie=d.slice(),ue=[];for(let le=ie.length-1;le>=0&&(d.pop(),ie[le].type!=="brace");le--)ie[le].type!=="dots"&&ue.unshift(ie[le].value);te=i(ue,h),O.backtrack=!0}if(K.comma!==!0&&K.dots!==!0){const ie=O.output.slice(0,K.outputIndex),ue=O.tokens.slice(K.tokensIndex);K.value=K.output="\\{",C=te="\\}",O.output=ie;for(const le of ue)O.output+=le.output||le.value}A({type:"brace",value:C,output:te}),Z("braces"),z.pop();continue}if(C==="|"){N.length>0&&N[N.length-1].conditions++,A({type:"text",value:C});continue}if(C===","){let K=C;const te=z[z.length-1];te&&ee[ee.length-1]==="braces"&&(te.comma=!0,K="|"),A({type:"comma",value:C,output:K});continue}if(C==="/"){if(M.type==="dot"&&O.index===O.start+1){O.start=O.index+1,O.consumed="",O.output="",d.pop(),M=v;continue}A({type:"slash",value:C,output:y});continue}if(C==="."){if(O.braces>0&&M.type==="dot"){M.value==="."&&(M.output=_);const K=z[z.length-1];M.type="dots",M.output+=C,M.value+=C,K.dots=!0;continue}if(O.braces+O.parens===0&&M.type!=="bos"&&M.type!=="slash"){A({type:"text",value:C,output:_});continue}A({type:"dot",value:C,output:_});continue}if(C==="?"){if(!(M&&M.value==="(")&&h.noextglob!==!0&&G()==="("&&G(2)!=="?"){X("qmark",C);continue}if(M&&M.type==="paren"){const te=G();let ie=C;if(te==="<"&&!t.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(M.value==="("&&!/[!=<:]/.test(te)||te==="<"&&!/<([!=]|\w+>)/.test(B()))&&(ie=`\\${C}`),A({type:"text",value:C,output:ie});continue}if(h.dot!==!0&&(M.type==="slash"||M.type==="bos")){A({type:"qmark",value:C,output:L});continue}A({type:"qmark",value:C,output:$});continue}if(C==="!"){if(h.noextglob!==!0&&G()==="("&&(G(2)!=="?"||!/[!=<:]/.test(G(3)))){X("negate",C);continue}if(h.nonegate!==!0&&O.index===0){re();continue}}if(C==="+"){if(h.noextglob!==!0&&G()==="("&&G(2)!=="?"){X("plus",C);continue}if(M&&M.value==="("||h.regex===!1){A({type:"plus",value:C,output:w});continue}if(M&&(M.type==="bracket"||M.type==="paren"||M.type==="brace")||O.parens>0){A({type:"plus",value:C});continue}A({type:"plus",value:w});continue}if(C==="@"){if(h.noextglob!==!0&&G()==="("&&G(2)!=="?"){A({type:"at",extglob:!0,value:C,output:""});continue}A({type:"text",value:C});continue}if(C!=="*"){(C==="$"||C==="^")&&(C=`\\${C}`);const K=a.exec(B());K&&(C+=K[0],O.index+=K[0].length),A({type:"text",value:C});continue}if(M&&(M.type==="globstar"||M.star===!0)){M.type="star",M.star=!0,M.value+=C,M.output=j,O.backtrack=!0,O.globstar=!0,Y(C);continue}let W=B();if(h.noextglob!==!0&&/^\([^?]/.test(W)){X("star",C);continue}if(M.type==="star"){if(h.noglobstar===!0){Y(C);continue}const K=M.prev,te=K.prev,ie=K.type==="slash"||K.type==="bos",ue=te&&(te.type==="star"||te.type==="globstar");if(h.bash===!0&&(!ie||W[0]&&W[0]!=="/")){A({type:"star",value:C,output:""});continue}const le=O.braces>0&&(K.type==="comma"||K.type==="brace"),he=N.length&&(K.type==="pipe"||K.type==="paren");if(!ie&&K.type!=="paren"&&!le&&!he){A({type:"star",value:C,output:""});continue}for(;W.slice(0,3)==="/**";){const ge=l[O.index+4];if(ge&&ge!=="/")break;W=W.slice(3),Y("/**",3)}if(K.type==="bos"&&H()){M.type="globstar",M.value+=C,M.output=k(h),O.output=M.output,O.globstar=!0,Y(C);continue}if(K.type==="slash"&&K.prev.type!=="bos"&&!ue&&H()){O.output=O.output.slice(0,-(K.output+M.output).length),K.output=`(?:${K.output}`,M.type="globstar",M.output=k(h)+(h.strictSlashes?")":"|$)"),M.value+=C,O.globstar=!0,O.output+=K.output+M.output,Y(C);continue}if(K.type==="slash"&&K.prev.type!=="bos"&&W[0]==="/"){const ge=W[1]!==void 0?"|$":"";O.output=O.output.slice(0,-(K.output+M.output).length),K.output=`(?:${K.output}`,M.type="globstar",M.output=`${k(h)}${y}|${y}${ge})`,M.value+=C,O.output+=K.output+M.output,O.globstar=!0,Y(C+F()),A({type:"slash",value:"/",output:""});continue}if(K.type==="bos"&&W[0]==="/"){M.type="globstar",M.value+=C,M.output=`(?:^|${y}|${k(h)}${y})`,O.output=M.output,O.globstar=!0,Y(C+F()),A({type:"slash",value:"/",output:""});continue}O.output=O.output.slice(0,-M.output.length),M.type="globstar",M.output=k(h),M.value+=C,O.output+=M.output,O.globstar=!0,Y(C);continue}const ne={type:"star",value:C,output:j};if(h.bash===!0){ne.output=".*?",(M.type==="bos"||M.type==="slash")&&(ne.output=U+ne.output),A(ne);continue}if(M&&(M.type==="bracket"||M.type==="paren")&&h.regex===!0){ne.output=C,A(ne);continue}(O.index===O.start||M.type==="slash"||M.type==="dot")&&(M.type==="dot"?(O.output+=x,M.output+=x):h.dot===!0?(O.output+=q,M.output+=q):(O.output+=U,M.output+=U),G()!=="*"&&(O.output+=b,M.output+=b)),A(ne)}for(;O.brackets>0;){if(h.strictBrackets===!0)throw new SyntaxError(o("closing","]"));O.output=t.escapeLast(O.output,"["),Z("brackets")}for(;O.parens>0;){if(h.strictBrackets===!0)throw new SyntaxError(o("closing",")"));O.output=t.escapeLast(O.output,"("),Z("parens")}for(;O.braces>0;){if(h.strictBrackets===!0)throw new SyntaxError(o("closing","}"));O.output=t.escapeLast(O.output,"{"),Z("braces")}if(h.strictSlashes!==!0&&(M.type==="star"||M.type==="bracket")&&A({type:"maybe_slash",value:"",output:`${y}?`}),O.backtrack===!0){O.output="";for(const W of O.tokens)O.output+=W.output!=null?W.output:W.value,W.suffix&&(O.output+=W.suffix)}return O};return u.fastpaths=(l,m)=>{const h={...m},E=typeof h.maxLength=="number"?Math.min(s,h.maxLength):s,R=l.length;if(R>E)throw new SyntaxError(`Input length: ${R}, exceeds maximum allowed length: ${E}`);l=r[l]||l;const v=t.isWindows(m),{DOT_LITERAL:d,SLASH_LITERAL:p,ONE_CHAR:g,DOTS_SLASH:f,NO_DOT:S,NO_DOTS:_,NO_DOTS_SLASH:w,STAR:y,START_ANCHOR:b}=e.globChars(v),P=h.dot?_:S,D=h.dot?w:S,x=h.capture?"":"?:",q={negated:!1,prefix:""};let $=h.bash===!0?".*?":y;h.capture&&($=`(${$})`);const L=U=>U.noglobstar===!0?$:`(${x}(?:(?!${b}${U.dot?f:d}).)*?)`,T=U=>{switch(U){case"*":return`${P}${g}${$}`;case".*":return`${d}${g}${$}`;case"*.*":return`${P}${$}${d}${g}${$}`;case"*/*":return`${P}${$}${p}${g}${D}${$}`;case"**":return P+L(h);case"**/*":return`(?:${P}${L(h)}${p})?${D}${g}${$}`;case"**/*.*":return`(?:${P}${L(h)}${p})?${D}${$}${d}${g}${$}`;case"**/.*":return`(?:${P}${L(h)}${p})?${d}${g}${$}`;default:{const V=/^(.*?)\.(\w+)$/.exec(U);if(!V)return;const j=T(V[1]);return j?j+d+V[2]:void 0}}},I=t.removePrefix(l,q);let k=T(I);return k&&h.strictSlashes!==!0&&(k+=`${p}?`),k},Xi=u,Xi}var Zi,bc;function S_(){if(bc)return Zi;bc=1;const e=ce,t=v_(),s=E_(),c=Jt(),a=Zt(),n=i=>i&&typeof i=="object"&&!Array.isArray(i),r=(i,o,u=!1)=>{if(Array.isArray(i)){const p=i.map(f=>r(f,o,u));return f=>{for(const S of p){const _=S(f);if(_)return _}return!1}}const l=n(i)&&i.tokens&&i.input;if(i===""||typeof i!="string"&&!l)throw new TypeError("Expected pattern to be a non-empty string");const m=o||{},h=c.isWindows(o),E=l?r.compileRe(i,o):r.makeRe(i,o,!1,!0),R=E.state;delete E.state;let v=()=>!1;if(m.ignore){const p={...o,ignore:null,onMatch:null,onResult:null};v=r(m.ignore,p,u)}const d=(p,g=!1)=>{const{isMatch:f,match:S,output:_}=r.test(p,E,o,{glob:i,posix:h}),w={glob:i,state:R,regex:E,posix:h,input:p,output:_,match:S,isMatch:f};return typeof m.onResult=="function"&&m.onResult(w),f===!1?(w.isMatch=!1,g?w:!1):v(p)?(typeof m.onIgnore=="function"&&m.onIgnore(w),w.isMatch=!1,g?w:!1):(typeof m.onMatch=="function"&&m.onMatch(w),g?w:!0)};return u&&(d.state=R),d};return r.test=(i,o,u,{glob:l,posix:m}={})=>{if(typeof i!="string")throw new TypeError("Expected input to be a string");if(i==="")return{isMatch:!1,output:""};const h=u||{},E=h.format||(m?c.toPosixSlashes:null);let R=i===l,v=R&&E?E(i):i;return R===!1&&(v=E?E(i):i,R=v===l),(R===!1||h.capture===!0)&&(h.matchBase===!0||h.basename===!0?R=r.matchBase(i,o,u,m):R=o.exec(v)),{isMatch:!!R,match:R,output:v}},r.matchBase=(i,o,u,l=c.isWindows(u))=>(o instanceof RegExp?o:r.makeRe(o,u)).test(e.basename(i)),r.isMatch=(i,o,u)=>r(o,u)(i),r.parse=(i,o)=>Array.isArray(i)?i.map(u=>r.parse(u,o)):s(i,{...o,fastpaths:!1}),r.scan=(i,o)=>t(i,o),r.compileRe=(i,o,u=!1,l=!1)=>{if(u===!0)return i.output;const m=o||{},h=m.contains?"":"^",E=m.contains?"":"$";let R=`${h}(?:${i.output})${E}`;i&&i.negated===!0&&(R=`^(?!${R}).*$`);const v=r.toRegex(R,o);return l===!0&&(v.state=i),v},r.makeRe=(i,o={},u=!1,l=!1)=>{if(!i||typeof i!="string")throw new TypeError("Expected a non-empty string");let m={negated:!1,fastpaths:!0};return o.fastpaths!==!1&&(i[0]==="."||i[0]==="*")&&(m.output=s.fastpaths(i,o)),m.output||(m=s(i,o)),r.compileRe(m,o,u,l)},r.toRegex=(i,o)=>{try{const u=o||{};return new RegExp(i,u.flags||(u.nocase?"i":""))}catch(u){if(o&&o.debug===!0)throw u;return/$^/}},r.constants=a,Zi=r,Zi}var Ji,Ac;function R_(){return Ac||(Ac=1,Ji=S_()),Ji}var Qi,Pc;function w_(){if(Pc)return Qi;Pc=1;const e=Vt,t=g_(),s=R_(),c=Jt(),a=i=>i===""||i==="./",n=i=>{const o=i.indexOf("{");return o>-1&&i.indexOf("}",o)>-1},r=(i,o,u)=>{o=[].concat(o),i=[].concat(i);let l=new Set,m=new Set,h=new Set,E=0,R=p=>{h.add(p.output),u&&u.onResult&&u.onResult(p)};for(let p=0;p<o.length;p++){let g=s(String(o[p]),{...u,onResult:R},!0),f=g.state.negated||g.state.negatedExtglob;f&&E++;for(let S of i){let _=g(S,!0);(f?!_.isMatch:_.isMatch)&&(f?l.add(_.output):(l.delete(_.output),m.add(_.output)))}}let d=(E===o.length?[...h]:[...m]).filter(p=>!l.has(p));if(u&&d.length===0){if(u.failglob===!0)throw new Error(`No matches found for "${o.join(", ")}"`);if(u.nonull===!0||u.nullglob===!0)return u.unescape?o.map(p=>p.replace(/\\/g,"")):o}return d};return r.match=r,r.matcher=(i,o)=>s(i,o),r.isMatch=(i,o,u)=>s(o,u)(i),r.any=r.isMatch,r.not=(i,o,u={})=>{o=[].concat(o).map(String);let l=new Set,m=[],h=R=>{u.onResult&&u.onResult(R),m.push(R.output)},E=new Set(r(i,o,{...u,onResult:h}));for(let R of m)E.has(R)||l.add(R);return[...l]},r.contains=(i,o,u)=>{if(typeof i!="string")throw new TypeError(`Expected a string: "${e.inspect(i)}"`);if(Array.isArray(o))return o.some(l=>r.contains(i,l,u));if(typeof o=="string"){if(a(i)||a(o))return!1;if(i.includes(o)||i.startsWith("./")&&i.slice(2).includes(o))return!0}return r.isMatch(i,o,{...u,contains:!0})},r.matchKeys=(i,o,u)=>{if(!c.isObject(i))throw new TypeError("Expected the first argument to be an object");let l=r(Object.keys(i),o,u),m={};for(let h of l)m[h]=i[h];return m},r.some=(i,o,u)=>{let l=[].concat(i);for(let m of[].concat(o)){let h=s(String(m),u);if(l.some(E=>h(E)))return!0}return!1},r.every=(i,o,u)=>{let l=[].concat(i);for(let m of[].concat(o)){let h=s(String(m),u);if(!l.every(E=>h(E)))return!1}return!0},r.all=(i,o,u)=>{if(typeof i!="string")throw new TypeError(`Expected a string: "${e.inspect(i)}"`);return[].concat(o).every(l=>s(l,u)(i))},r.capture=(i,o,u)=>{let l=c.isWindows(u),h=s.makeRe(String(i),{...u,capture:!0}).exec(l?c.toPosixSlashes(o):o);if(h)return h.slice(1).map(E=>E===void 0?"":E)},r.makeRe=(...i)=>s.makeRe(...i),r.scan=(...i)=>s.scan(...i),r.parse=(i,o)=>{let u=[];for(let l of[].concat(i||[]))for(let m of t(String(l),o))u.push(s.parse(m,o));return u},r.braces=(i,o)=>{if(typeof i!="string")throw new TypeError("Expected a string");return o&&o.nobrace===!0||!n(i)?[i]:t(i,o)},r.braceExpand=(i,o)=>{if(typeof i!="string")throw new TypeError("Expected a string");return r.braces(i,{...o,expand:!0})},r.hasBraces=n,Qi=r,Qi}var Tc;function O_(){if(Tc)return ae;Tc=1,Object.defineProperty(ae,"__esModule",{value:!0}),ae.isAbsolute=ae.partitionAbsoluteAndRelative=ae.removeDuplicateSlashes=ae.matchAny=ae.convertPatternsToRe=ae.makeRe=ae.getPatternParts=ae.expandBraceExpansion=ae.expandPatternsWithBraceExpansion=ae.isAffectDepthOfReadingPattern=ae.endsWithSlashGlobStar=ae.hasGlobStar=ae.getBaseDirectory=ae.isPatternRelatedToParentDirectory=ae.getPatternsOutsideCurrentDirectory=ae.getPatternsInsideCurrentDirectory=ae.getPositivePatterns=ae.getNegativePatterns=ae.isPositivePattern=ae.isNegativePattern=ae.convertToNegativePattern=ae.convertToPositivePattern=ae.isDynamicPattern=ae.isStaticPattern=void 0;const e=ce,t=f_(),s=w_(),c="**",a="\\",n=/[*?]|^!/,r=/\[[^[]*]/,i=/(?:^|[^!*+?@])\([^(]*\|[^|]*\)/,o=/[!*+?@]\([^(]*\)/,u=/,|\.\./,l=/(?!^)\/{2,}/g;function m(j,O={}){return!h(j,O)}ae.isStaticPattern=m;function h(j,O={}){return j===""?!1:!!(O.caseSensitiveMatch===!1||j.includes(a)||n.test(j)||r.test(j)||i.test(j)||O.extglob!==!1&&o.test(j)||O.braceExpansion!==!1&&E(j))}ae.isDynamicPattern=h;function E(j){const O=j.indexOf("{");if(O===-1)return!1;const N=j.indexOf("}",O+1);if(N===-1)return!1;const z=j.slice(O,N);return u.test(z)}function R(j){return d(j)?j.slice(1):j}ae.convertToPositivePattern=R;function v(j){return"!"+j}ae.convertToNegativePattern=v;function d(j){return j.startsWith("!")&&j[1]!=="("}ae.isNegativePattern=d;function p(j){return!d(j)}ae.isPositivePattern=p;function g(j){return j.filter(d)}ae.getNegativePatterns=g;function f(j){return j.filter(p)}ae.getPositivePatterns=f;function S(j){return j.filter(O=>!w(O))}ae.getPatternsInsideCurrentDirectory=S;function _(j){return j.filter(w)}ae.getPatternsOutsideCurrentDirectory=_;function w(j){return j.startsWith("..")||j.startsWith("./..")}ae.isPatternRelatedToParentDirectory=w;function y(j){return t(j,{flipBackslashes:!1})}ae.getBaseDirectory=y;function b(j){return j.includes(c)}ae.hasGlobStar=b;function P(j){return j.endsWith("/"+c)}ae.endsWithSlashGlobStar=P;function D(j){const O=e.basename(j);return P(j)||m(O)}ae.isAffectDepthOfReadingPattern=D;function x(j){return j.reduce((O,N)=>O.concat(q(N)),[])}ae.expandPatternsWithBraceExpansion=x;function q(j){const O=s.braces(j,{expand:!0,nodupes:!0,keepEscaping:!0});return O.sort((N,z)=>N.length-z.length),O.filter(N=>N!=="")}ae.expandBraceExpansion=q;function $(j,O){let{parts:N}=s.scan(j,Object.assign(Object.assign({},O),{parts:!0}));return N.length===0&&(N=[j]),N[0].startsWith("/")&&(N[0]=N[0].slice(1),N.unshift("")),N}ae.getPatternParts=$;function L(j,O){return s.makeRe(j,O)}ae.makeRe=L;function T(j,O){return j.map(N=>L(N,O))}ae.convertPatternsToRe=T;function I(j,O){return O.some(N=>N.test(j))}ae.matchAny=I;function k(j){return j.replace(l,"/")}ae.removeDuplicateSlashes=k;function U(j){const O=[],N=[];for(const z of j)V(z)?O.push(z):N.push(z);return[O,N]}ae.partitionAbsoluteAndRelative=U;function V(j){return e.isAbsolute(j)}return ae.isAbsolute=V,ae}var tt={},es,Ic;function b_(){if(Ic)return es;Ic=1;const t=qe.PassThrough,s=Array.prototype.slice;es=c;function c(){const n=[],r=s.call(arguments);let i=!1,o=r[r.length-1];o&&!Array.isArray(o)&&o.pipe==null?r.pop():o={};const u=o.end!==!1,l=o.pipeError===!0;o.objectMode==null&&(o.objectMode=!0),o.highWaterMark==null&&(o.highWaterMark=64*1024);const m=t(o);function h(){for(let v=0,d=arguments.length;v<d;v++)n.push(a(arguments[v],o));return E(),this}function E(){if(i)return;i=!0;let v=n.shift();if(!v){process.nextTick(R);return}Array.isArray(v)||(v=[v]);let d=v.length+1;function p(){--d>0||(i=!1,E())}function g(f){function S(){f.removeListener("merge2UnpipeEnd",S),f.removeListener("end",S),l&&f.removeListener("error",_),p()}function _(w){m.emit("error",w)}if(f._readableState.endEmitted)return p();f.on("merge2UnpipeEnd",S),f.on("end",S),l&&f.on("error",_),f.pipe(m,{end:!1}),f.resume()}for(let f=0;f<v.length;f++)g(v[f]);p()}function R(){i=!1,m.emit("queueDrain"),u&&m.end()}return m.setMaxListeners(0),m.add=h,m.on("unpipe",function(v){v.emit("merge2UnpipeEnd")}),r.length&&h.apply(null,r),m}function a(n,r){if(Array.isArray(n))for(let i=0,o=n.length;i<o;i++)n[i]=a(n[i],r);else{if(!n._readableState&&n.pipe&&(n=n.pipe(t(r))),!n._readableState||!n.pause||!n.pipe)throw new Error("Only readable stream can be merged.");n.pause()}return n}return es}var Nc;function A_(){if(Nc)return tt;Nc=1,Object.defineProperty(tt,"__esModule",{value:!0}),tt.merge=void 0;const e=b_();function t(c){const a=e(c);return c.forEach(n=>{n.once("error",r=>a.emit("error",r))}),a.once("close",()=>s(c)),a.once("end",()=>s(c)),a}tt.merge=t;function s(c){c.forEach(a=>a.emit("close"))}return tt}var xe={},$c;function P_(){if($c)return xe;$c=1,Object.defineProperty(xe,"__esModule",{value:!0}),xe.isEmpty=xe.isString=void 0;function e(s){return typeof s=="string"}xe.isString=e;function t(s){return s===""}return xe.isEmpty=t,xe}var Cc;function Le(){if(Cc)return ye;Cc=1,Object.defineProperty(ye,"__esModule",{value:!0}),ye.string=ye.stream=ye.pattern=ye.path=ye.fs=ye.errno=ye.array=void 0;const e=s_();ye.array=e;const t=o_();ye.errno=t;const s=a_();ye.fs=s;const c=u_();ye.path=c;const a=O_();ye.pattern=a;const n=A_();ye.stream=n;const r=P_();return ye.string=r,ye}var Lc;function T_(){if(Lc)return _e;Lc=1,Object.defineProperty(_e,"__esModule",{value:!0}),_e.convertPatternGroupToTask=_e.convertPatternGroupsToTasks=_e.groupPatternsByBaseDirectory=_e.getNegativePatternsAsPositive=_e.getPositivePatterns=_e.convertPatternsToTasks=_e.generate=void 0;const e=Le();function t(u,l){const m=s(u,l),h=s(l.ignore,l),E=a(m),R=n(m,h),v=E.filter(f=>e.pattern.isStaticPattern(f,l)),d=E.filter(f=>e.pattern.isDynamicPattern(f,l)),p=c(v,R,!1),g=c(d,R,!0);return p.concat(g)}_e.generate=t;function s(u,l){let m=u;return l.braceExpansion&&(m=e.pattern.expandPatternsWithBraceExpansion(m)),l.baseNameMatch&&(m=m.map(h=>h.includes("/")?h:`**/${h}`)),m.map(h=>e.pattern.removeDuplicateSlashes(h))}function c(u,l,m){const h=[],E=e.pattern.getPatternsOutsideCurrentDirectory(u),R=e.pattern.getPatternsInsideCurrentDirectory(u),v=r(E),d=r(R);return h.push(...i(v,l,m)),"."in d?h.push(o(".",R,l,m)):h.push(...i(d,l,m)),h}_e.convertPatternsToTasks=c;function a(u){return e.pattern.getPositivePatterns(u)}_e.getPositivePatterns=a;function n(u,l){return e.pattern.getNegativePatterns(u).concat(l).map(e.pattern.convertToPositivePattern)}_e.getNegativePatternsAsPositive=n;function r(u){const l={};return u.reduce((m,h)=>{const E=e.pattern.getBaseDirectory(h);return E in m?m[E].push(h):m[E]=[h],m},l)}_e.groupPatternsByBaseDirectory=r;function i(u,l,m){return Object.keys(u).map(h=>o(h,u[h],l,m))}_e.convertPatternGroupsToTasks=i;function o(u,l,m,h){return{dynamic:h,positive:l,negative:m,base:u,patterns:[].concat(l,m.map(e.pattern.convertToNegativePattern))}}return _e.convertPatternGroupToTask=o,_e}var yt={},gt={},Re={},vt={},Et={},be={},Ae={},Pe={},rt={},Dc;function I_(){if(Dc)return rt;Dc=1,Object.defineProperty(rt,"__esModule",{value:!0}),rt.read=void 0;function e(c,a,n){a.fs.lstat(c,(r,i)=>{if(r!==null){t(n,r);return}if(!i.isSymbolicLink()||!a.followSymbolicLink){s(n,i);return}a.fs.stat(c,(o,u)=>{if(o!==null){if(a.throwErrorOnBrokenSymbolicLink){t(n,o);return}s(n,i);return}a.markSymbolicLink&&(u.isSymbolicLink=()=>!0),s(n,u)})})}rt.read=e;function t(c,a){c(a)}function s(c,a){c(null,a)}return rt}var nt={},xc;function N_(){if(xc)return nt;xc=1,Object.defineProperty(nt,"__esModule",{value:!0}),nt.read=void 0;function e(t,s){const c=s.fs.lstatSync(t);if(!c.isSymbolicLink()||!s.followSymbolicLink)return c;try{const a=s.fs.statSync(t);return s.markSymbolicLink&&(a.isSymbolicLink=()=>!0),a}catch(a){if(!s.throwErrorOnBrokenSymbolicLink)return c;throw a}}return nt.read=e,nt}var St={},ts={},Fc;function $_(){return Fc||(Fc=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createFileSystemAdapter=e.FILE_SYSTEM_ADAPTER=void 0;const t=me;e.FILE_SYSTEM_ADAPTER={lstat:t.lstat,stat:t.stat,lstatSync:t.lstatSync,statSync:t.statSync};function s(c){return c===void 0?e.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},e.FILE_SYSTEM_ADAPTER),c)}e.createFileSystemAdapter=s}(ts)),ts}var qc;function C_(){if(qc)return St;qc=1,Object.defineProperty(St,"__esModule",{value:!0});const e=$_();class t{constructor(c={}){this._options=c,this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,!0),this.fs=e.createFileSystemAdapter(this._options.fs),this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0)}_getValue(c,a){return c??a}}return St.default=t,St}var Mc;function Ze(){if(Mc)return Pe;Mc=1,Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.statSync=Pe.stat=Pe.Settings=void 0;const e=I_(),t=N_(),s=C_();Pe.Settings=s.default;function c(r,i,o){if(typeof i=="function"){e.read(r,n(),i);return}e.read(r,n(i),o)}Pe.stat=c;function a(r,i){const o=n(i);return t.read(r,o)}Pe.statSync=a;function n(r={}){return r instanceof s.default?r:new s.default(r)}return Pe}/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var rs,kc;function L_(){if(kc)return rs;kc=1;let e;return rs=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:$e):t=>(e||(e=Promise.resolve())).then(t).catch(s=>setTimeout(()=>{throw s},0)),rs}/*! run-parallel. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var ns,Bc;function D_(){if(Bc)return ns;Bc=1,ns=t;const e=L_();function t(s,c){let a,n,r,i=!0;Array.isArray(s)?(a=[],n=s.length):(r=Object.keys(s),a={},n=r.length);function o(l){function m(){c&&c(l,a),c=null}i?e(m):m()}function u(l,m,h){a[l]=h,(--n===0||m)&&o(m)}n?r?r.forEach(function(l){s[l](function(m,h){u(l,m,h)})}):s.forEach(function(l,m){l(function(h,E){u(m,h,E)})}):o(null),i=!1}return ns}var it={},jc;function bf(){if(jc)return it;jc=1,Object.defineProperty(it,"__esModule",{value:!0}),it.IS_SUPPORT_READDIR_WITH_FILE_TYPES=void 0;const e=process.versions.node.split(".");if(e[0]===void 0||e[1]===void 0)throw new Error(`Unexpected behavior. The 'process.versions.node' variable has invalid value: ${process.versions.node}`);const t=Number.parseInt(e[0],10),s=Number.parseInt(e[1],10),c=10,a=10,n=t>c,r=t===c&&s>=a;return it.IS_SUPPORT_READDIR_WITH_FILE_TYPES=n||r,it}var st={},ot={},Hc;function x_(){if(Hc)return ot;Hc=1,Object.defineProperty(ot,"__esModule",{value:!0}),ot.createDirentFromStats=void 0;class e{constructor(c,a){this.name=c,this.isBlockDevice=a.isBlockDevice.bind(a),this.isCharacterDevice=a.isCharacterDevice.bind(a),this.isDirectory=a.isDirectory.bind(a),this.isFIFO=a.isFIFO.bind(a),this.isFile=a.isFile.bind(a),this.isSocket=a.isSocket.bind(a),this.isSymbolicLink=a.isSymbolicLink.bind(a)}}function t(s,c){return new e(s,c)}return ot.createDirentFromStats=t,ot}var Uc;function Af(){if(Uc)return st;Uc=1,Object.defineProperty(st,"__esModule",{value:!0}),st.fs=void 0;const e=x_();return st.fs=e,st}var at={},Gc;function Pf(){if(Gc)return at;Gc=1,Object.defineProperty(at,"__esModule",{value:!0}),at.joinPathSegments=void 0;function e(t,s,c){return t.endsWith(c)?t+s:t+c+s}return at.joinPathSegments=e,at}var Wc;function F_(){if(Wc)return Ae;Wc=1,Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.readdir=Ae.readdirWithFileTypes=Ae.read=void 0;const e=Ze(),t=D_(),s=bf(),c=Af(),a=Pf();function n(m,h,E){if(!h.stats&&s.IS_SUPPORT_READDIR_WITH_FILE_TYPES){r(m,h,E);return}o(m,h,E)}Ae.read=n;function r(m,h,E){h.fs.readdir(m,{withFileTypes:!0},(R,v)=>{if(R!==null){u(E,R);return}const d=v.map(g=>({dirent:g,name:g.name,path:a.joinPathSegments(m,g.name,h.pathSegmentSeparator)}));if(!h.followSymbolicLinks){l(E,d);return}const p=d.map(g=>i(g,h));t(p,(g,f)=>{if(g!==null){u(E,g);return}l(E,f)})})}Ae.readdirWithFileTypes=r;function i(m,h){return E=>{if(!m.dirent.isSymbolicLink()){E(null,m);return}h.fs.stat(m.path,(R,v)=>{if(R!==null){if(h.throwErrorOnBrokenSymbolicLink){E(R);return}E(null,m);return}m.dirent=c.fs.createDirentFromStats(m.name,v),E(null,m)})}}function o(m,h,E){h.fs.readdir(m,(R,v)=>{if(R!==null){u(E,R);return}const d=v.map(p=>{const g=a.joinPathSegments(m,p,h.pathSegmentSeparator);return f=>{e.stat(g,h.fsStatSettings,(S,_)=>{if(S!==null){f(S);return}const w={name:p,path:g,dirent:c.fs.createDirentFromStats(p,_)};h.stats&&(w.stats=_),f(null,w)})}});t(d,(p,g)=>{if(p!==null){u(E,p);return}l(E,g)})})}Ae.readdir=o;function u(m,h){m(h)}function l(m,h){m(null,h)}return Ae}var Te={},Vc;function q_(){if(Vc)return Te;Vc=1,Object.defineProperty(Te,"__esModule",{value:!0}),Te.readdir=Te.readdirWithFileTypes=Te.read=void 0;const e=Ze(),t=bf(),s=Af(),c=Pf();function a(i,o){return!o.stats&&t.IS_SUPPORT_READDIR_WITH_FILE_TYPES?n(i,o):r(i,o)}Te.read=a;function n(i,o){return o.fs.readdirSync(i,{withFileTypes:!0}).map(l=>{const m={dirent:l,name:l.name,path:c.joinPathSegments(i,l.name,o.pathSegmentSeparator)};if(m.dirent.isSymbolicLink()&&o.followSymbolicLinks)try{const h=o.fs.statSync(m.path);m.dirent=s.fs.createDirentFromStats(m.name,h)}catch(h){if(o.throwErrorOnBrokenSymbolicLink)throw h}return m})}Te.readdirWithFileTypes=n;function r(i,o){return o.fs.readdirSync(i).map(l=>{const m=c.joinPathSegments(i,l,o.pathSegmentSeparator),h=e.statSync(m,o.fsStatSettings),E={name:l,path:m,dirent:s.fs.createDirentFromStats(l,h)};return o.stats&&(E.stats=h),E})}return Te.readdir=r,Te}var Rt={},is={},zc;function M_(){return zc||(zc=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createFileSystemAdapter=e.FILE_SYSTEM_ADAPTER=void 0;const t=me;e.FILE_SYSTEM_ADAPTER={lstat:t.lstat,stat:t.stat,lstatSync:t.lstatSync,statSync:t.statSync,readdir:t.readdir,readdirSync:t.readdirSync};function s(c){return c===void 0?e.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},e.FILE_SYSTEM_ADAPTER),c)}e.createFileSystemAdapter=s}(is)),is}var Yc;function k_(){if(Yc)return Rt;Yc=1,Object.defineProperty(Rt,"__esModule",{value:!0});const e=ce,t=Ze(),s=M_();class c{constructor(n={}){this._options=n,this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!1),this.fs=s.createFileSystemAdapter(this._options.fs),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,e.sep),this.stats=this._getValue(this._options.stats,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0),this.fsStatSettings=new t.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(n,r){return n??r}}return Rt.default=c,Rt}var Kc;function zs(){if(Kc)return be;Kc=1,Object.defineProperty(be,"__esModule",{value:!0}),be.Settings=be.scandirSync=be.scandir=void 0;const e=F_(),t=q_(),s=k_();be.Settings=s.default;function c(r,i,o){if(typeof i=="function"){e.read(r,n(),i);return}e.read(r,n(i),o)}be.scandir=c;function a(r,i){const o=n(i);return t.read(r,o)}be.scandirSync=a;function n(r={}){return r instanceof s.default?r:new s.default(r)}return be}var wt={exports:{}},ss,Xc;function B_(){if(Xc)return ss;Xc=1;function e(t){var s=new t,c=s;function a(){var r=s;return r.next?s=r.next:(s=new t,c=s),r.next=null,r}function n(r){c.next=r,c=r}return{get:a,release:n}}return ss=e,ss}var Zc;function j_(){if(Zc)return wt.exports;Zc=1;var e=B_();function t(n,r,i){if(typeof n=="function"&&(i=r,r=n,n=null),!(i>=1))throw new Error("fastqueue concurrency must be equal to or greater than 1");var o=e(c),u=null,l=null,m=0,h=null,E={push:S,drain:s,saturated:s,pause:v,paused:!1,get concurrency(){return i},set concurrency(D){if(!(D>=1))throw new Error("fastqueue concurrency must be equal to or greater than 1");if(i=D,!E.paused)for(;u&&m<i;)m++,w()},running:R,resume:g,idle:f,length:d,getQueue:p,unshift:_,empty:s,kill:y,killAndDrain:b,error:P};return E;function R(){return m}function v(){E.paused=!0}function d(){for(var D=u,x=0;D;)D=D.next,x++;return x}function p(){for(var D=u,x=[];D;)x.push(D.value),D=D.next;return x}function g(){if(E.paused){if(E.paused=!1,u===null){m++,w();return}for(;u&&m<i;)m++,w()}}function f(){return m===0&&E.length()===0}function S(D,x){var q=o.get();q.context=n,q.release=w,q.value=D,q.callback=x||s,q.errorHandler=h,m>=i||E.paused?l?(l.next=q,l=q):(u=q,l=q,E.saturated()):(m++,r.call(n,q.value,q.worked))}function _(D,x){var q=o.get();q.context=n,q.release=w,q.value=D,q.callback=x||s,q.errorHandler=h,m>=i||E.paused?u?(q.next=u,u=q):(u=q,l=q,E.saturated()):(m++,r.call(n,q.value,q.worked))}function w(D){D&&o.release(D);var x=u;x&&m<=i?E.paused?m--:(l===u&&(l=null),u=x.next,x.next=null,r.call(n,x.value,x.worked),l===null&&E.empty()):--m===0&&E.drain()}function y(){u=null,l=null,E.drain=s}function b(){u=null,l=null,E.drain(),E.drain=s}function P(D){h=D}}function s(){}function c(){this.value=null,this.callback=s,this.next=null,this.release=s,this.context=null,this.errorHandler=null;var n=this;this.worked=function(i,o){var u=n.callback,l=n.errorHandler,m=n.value;n.value=null,n.callback=s,n.errorHandler&&l(i,m),u.call(n.context,i,o),n.release(n)}}function a(n,r,i){typeof n=="function"&&(i=r,r=n,n=null);function o(v,d){r.call(this,v).then(function(p){d(null,p)},d)}var u=t(n,o,i),l=u.push,m=u.unshift;return u.push=h,u.unshift=E,u.drained=R,u;function h(v){var d=new Promise(function(p,g){l(v,function(f,S){if(f){g(f);return}p(S)})});return d.catch(s),d}function E(v){var d=new Promise(function(p,g){m(v,function(f,S){if(f){g(f);return}p(S)})});return d.catch(s),d}function R(){var v=new Promise(function(d){process.nextTick(function(){if(u.idle())d();else{var p=u.drain;u.drain=function(){typeof p=="function"&&p(),d(),u.drain=p}}})});return v}}return wt.exports=t,wt.exports.promise=a,wt.exports}var we={},Jc;function Ys(){if(Jc)return we;Jc=1,Object.defineProperty(we,"__esModule",{value:!0}),we.joinPathSegments=we.replacePathSegmentSeparator=we.isAppliedFilter=we.isFatalError=void 0;function e(a,n){return a.errorFilter===null?!0:!a.errorFilter(n)}we.isFatalError=e;function t(a,n){return a===null||a(n)}we.isAppliedFilter=t;function s(a,n){return a.split(/[/\\]/).join(n)}we.replacePathSegmentSeparator=s;function c(a,n,r){return a===""?n:a.endsWith(r)?a+n:a+r+n}return we.joinPathSegments=c,we}var Ot={},Qc;function Tf(){if(Qc)return Ot;Qc=1,Object.defineProperty(Ot,"__esModule",{value:!0});const e=Ys();class t{constructor(c,a){this._root=c,this._settings=a,this._root=e.replacePathSegmentSeparator(c,a.pathSegmentSeparator)}}return Ot.default=t,Ot}var el;function If(){if(el)return Et;el=1,Object.defineProperty(Et,"__esModule",{value:!0});const e=Ve,t=zs(),s=j_(),c=Ys(),a=Tf();class n extends a.default{constructor(i,o){super(i,o),this._settings=o,this._scandir=t.scandir,this._emitter=new e.EventEmitter,this._queue=s(this._worker.bind(this),this._settings.concurrency),this._isFatalError=!1,this._isDestroyed=!1,this._queue.drain=()=>{this._isFatalError||this._emitter.emit("end")}}read(){return this._isFatalError=!1,this._isDestroyed=!1,setImmediate(()=>{this._pushToQueue(this._root,this._settings.basePath)}),this._emitter}get isDestroyed(){return this._isDestroyed}destroy(){if(this._isDestroyed)throw new Error("The reader is already destroyed");this._isDestroyed=!0,this._queue.killAndDrain()}onEntry(i){this._emitter.on("entry",i)}onError(i){this._emitter.once("error",i)}onEnd(i){this._emitter.once("end",i)}_pushToQueue(i,o){const u={directory:i,base:o};this._queue.push(u,l=>{l!==null&&this._handleError(l)})}_worker(i,o){this._scandir(i.directory,this._settings.fsScandirSettings,(u,l)=>{if(u!==null){o(u,void 0);return}for(const m of l)this._handleEntry(m,i.base);o(null,void 0)})}_handleError(i){this._isDestroyed||!c.isFatalError(this._settings,i)||(this._isFatalError=!0,this._isDestroyed=!0,this._emitter.emit("error",i))}_handleEntry(i,o){if(this._isDestroyed||this._isFatalError)return;const u=i.path;o!==void 0&&(i.path=c.joinPathSegments(o,i.name,this._settings.pathSegmentSeparator)),c.isAppliedFilter(this._settings.entryFilter,i)&&this._emitEntry(i),i.dirent.isDirectory()&&c.isAppliedFilter(this._settings.deepFilter,i)&&this._pushToQueue(u,o===void 0?void 0:i.path)}_emitEntry(i){this._emitter.emit("entry",i)}}return Et.default=n,Et}var tl;function H_(){if(tl)return vt;tl=1,Object.defineProperty(vt,"__esModule",{value:!0});const e=If();class t{constructor(n,r){this._root=n,this._settings=r,this._reader=new e.default(this._root,this._settings),this._storage=[]}read(n){this._reader.onError(r=>{s(n,r)}),this._reader.onEntry(r=>{this._storage.push(r)}),this._reader.onEnd(()=>{c(n,this._storage)}),this._reader.read()}}vt.default=t;function s(a,n){a(n)}function c(a,n){a(null,n)}return vt}var bt={},rl;function U_(){if(rl)return bt;rl=1,Object.defineProperty(bt,"__esModule",{value:!0});const e=qe,t=If();class s{constructor(a,n){this._root=a,this._settings=n,this._reader=new t.default(this._root,this._settings),this._stream=new e.Readable({objectMode:!0,read:()=>{},destroy:()=>{this._reader.isDestroyed||this._reader.destroy()}})}read(){return this._reader.onError(a=>{this._stream.emit("error",a)}),this._reader.onEntry(a=>{this._stream.push(a)}),this._reader.onEnd(()=>{this._stream.push(null)}),this._reader.read(),this._stream}}return bt.default=s,bt}var At={},Pt={},nl;function G_(){if(nl)return Pt;nl=1,Object.defineProperty(Pt,"__esModule",{value:!0});const e=zs(),t=Ys(),s=Tf();class c extends s.default{constructor(){super(...arguments),this._scandir=e.scandirSync,this._storage=[],this._queue=new Set}read(){return this._pushToQueue(this._root,this._settings.basePath),this._handleQueue(),this._storage}_pushToQueue(n,r){this._queue.add({directory:n,base:r})}_handleQueue(){for(const n of this._queue.values())this._handleDirectory(n.directory,n.base)}_handleDirectory(n,r){try{const i=this._scandir(n,this._settings.fsScandirSettings);for(const o of i)this._handleEntry(o,r)}catch(i){this._handleError(i)}}_handleError(n){if(t.isFatalError(this._settings,n))throw n}_handleEntry(n,r){const i=n.path;r!==void 0&&(n.path=t.joinPathSegments(r,n.name,this._settings.pathSegmentSeparator)),t.isAppliedFilter(this._settings.entryFilter,n)&&this._pushToStorage(n),n.dirent.isDirectory()&&t.isAppliedFilter(this._settings.deepFilter,n)&&this._pushToQueue(i,r===void 0?void 0:n.path)}_pushToStorage(n){this._storage.push(n)}}return Pt.default=c,Pt}var il;function W_(){if(il)return At;il=1,Object.defineProperty(At,"__esModule",{value:!0});const e=G_();class t{constructor(c,a){this._root=c,this._settings=a,this._reader=new e.default(this._root,this._settings)}read(){return this._reader.read()}}return At.default=t,At}var Tt={},sl;function V_(){if(sl)return Tt;sl=1,Object.defineProperty(Tt,"__esModule",{value:!0});const e=ce,t=zs();class s{constructor(a={}){this._options=a,this.basePath=this._getValue(this._options.basePath,void 0),this.concurrency=this._getValue(this._options.concurrency,Number.POSITIVE_INFINITY),this.deepFilter=this._getValue(this._options.deepFilter,null),this.entryFilter=this._getValue(this._options.entryFilter,null),this.errorFilter=this._getValue(this._options.errorFilter,null),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,e.sep),this.fsScandirSettings=new t.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(a,n){return a??n}}return Tt.default=s,Tt}var ol;function Ks(){if(ol)return Re;ol=1,Object.defineProperty(Re,"__esModule",{value:!0}),Re.Settings=Re.walkStream=Re.walkSync=Re.walk=void 0;const e=H_(),t=U_(),s=W_(),c=V_();Re.Settings=c.default;function a(o,u,l){if(typeof u=="function"){new e.default(o,i()).read(u);return}new e.default(o,i(u)).read(l)}Re.walk=a;function n(o,u){const l=i(u);return new s.default(o,l).read()}Re.walkSync=n;function r(o,u){const l=i(u);return new t.default(o,l).read()}Re.walkStream=r;function i(o={}){return o instanceof c.default?o:new c.default(o)}return Re}var It={},al;function Xs(){if(al)return It;al=1,Object.defineProperty(It,"__esModule",{value:!0});const e=ce,t=Ze(),s=Le();class c{constructor(n){this._settings=n,this._fsStatSettings=new t.Settings({followSymbolicLink:this._settings.followSymbolicLinks,fs:this._settings.fs,throwErrorOnBrokenSymbolicLink:this._settings.followSymbolicLinks})}_getFullEntryPath(n){return e.resolve(this._settings.cwd,n)}_makeEntry(n,r){const i={name:r,path:r,dirent:s.fs.createDirentFromStats(r,n)};return this._settings.stats&&(i.stats=n),i}_isFatalError(n){return!s.errno.isEnoentCodeError(n)&&!this._settings.suppressErrors}}return It.default=c,It}var Nt={},ul;function Nf(){if(ul)return Nt;ul=1,Object.defineProperty(Nt,"__esModule",{value:!0});const e=qe,t=Ze(),s=Ks(),c=Xs();class a extends c.default{constructor(){super(...arguments),this._walkStream=s.walkStream,this._stat=t.stat}dynamic(r,i){return this._walkStream(r,i)}static(r,i){const o=r.map(this._getFullEntryPath,this),u=new e.PassThrough({objectMode:!0});u._write=(l,m,h)=>this._getEntry(o[l],r[l],i).then(E=>{E!==null&&i.entryFilter(E)&&u.push(E),l===o.length-1&&u.end(),h()}).catch(h);for(let l=0;l<o.length;l++)u.write(l);return u}_getEntry(r,i,o){return this._getStat(r).then(u=>this._makeEntry(u,i)).catch(u=>{if(o.errorFilter(u))return null;throw u})}_getStat(r){return new Promise((i,o)=>{this._stat(r,this._fsStatSettings,(u,l)=>u===null?i(l):o(u))})}}return Nt.default=a,Nt}var cl;function z_(){if(cl)return gt;cl=1,Object.defineProperty(gt,"__esModule",{value:!0});const e=Ks(),t=Xs(),s=Nf();class c extends t.default{constructor(){super(...arguments),this._walkAsync=e.walk,this._readerStream=new s.default(this._settings)}dynamic(n,r){return new Promise((i,o)=>{this._walkAsync(n,r,(u,l)=>{u===null?i(l):o(u)})})}async static(n,r){const i=[],o=this._readerStream.static(n,r);return new Promise((u,l)=>{o.once("error",l),o.on("data",m=>i.push(m)),o.once("end",()=>u(i))})}}return gt.default=c,gt}var $t={},Ct={},Lt={},Dt={},ll;function Y_(){if(ll)return Dt;ll=1,Object.defineProperty(Dt,"__esModule",{value:!0});const e=Le();class t{constructor(c,a,n){this._patterns=c,this._settings=a,this._micromatchOptions=n,this._storage=[],this._fillStorage()}_fillStorage(){for(const c of this._patterns){const a=this._getPatternSegments(c),n=this._splitSegmentsIntoSections(a);this._storage.push({complete:n.length<=1,pattern:c,segments:a,sections:n})}}_getPatternSegments(c){return e.pattern.getPatternParts(c,this._micromatchOptions).map(n=>e.pattern.isDynamicPattern(n,this._settings)?{dynamic:!0,pattern:n,patternRe:e.pattern.makeRe(n,this._micromatchOptions)}:{dynamic:!1,pattern:n})}_splitSegmentsIntoSections(c){return e.array.splitWhen(c,a=>a.dynamic&&e.pattern.hasGlobStar(a.pattern))}}return Dt.default=t,Dt}var fl;function K_(){if(fl)return Lt;fl=1,Object.defineProperty(Lt,"__esModule",{value:!0});const e=Y_();class t extends e.default{match(c){const a=c.split("/"),n=a.length,r=this._storage.filter(i=>!i.complete||i.segments.length>n);for(const i of r){const o=i.sections[0];if(!i.complete&&n>o.length||a.every((l,m)=>{const h=i.segments[m];return!!(h.dynamic&&h.patternRe.test(l)||!h.dynamic&&h.pattern===l)}))return!0}return!1}}return Lt.default=t,Lt}var hl;function X_(){if(hl)return Ct;hl=1,Object.defineProperty(Ct,"__esModule",{value:!0});const e=Le(),t=K_();class s{constructor(a,n){this._settings=a,this._micromatchOptions=n}getFilter(a,n,r){const i=this._getMatcher(n),o=this._getNegativePatternsRe(r);return u=>this._filter(a,u,i,o)}_getMatcher(a){return new t.default(a,this._settings,this._micromatchOptions)}_getNegativePatternsRe(a){const n=a.filter(e.pattern.isAffectDepthOfReadingPattern);return e.pattern.convertPatternsToRe(n,this._micromatchOptions)}_filter(a,n,r,i){if(this._isSkippedByDeep(a,n.path)||this._isSkippedSymbolicLink(n))return!1;const o=e.path.removeLeadingDotSegment(n.path);return this._isSkippedByPositivePatterns(o,r)?!1:this._isSkippedByNegativePatterns(o,i)}_isSkippedByDeep(a,n){return this._settings.deep===1/0?!1:this._getEntryLevel(a,n)>=this._settings.deep}_getEntryLevel(a,n){const r=n.split("/").length;if(a==="")return r;const i=a.split("/").length;return r-i}_isSkippedSymbolicLink(a){return!this._settings.followSymbolicLinks&&a.dirent.isSymbolicLink()}_isSkippedByPositivePatterns(a,n){return!this._settings.baseNameMatch&&!n.match(a)}_isSkippedByNegativePatterns(a,n){return!e.pattern.matchAny(a,n)}}return Ct.default=s,Ct}var xt={},dl;function Z_(){if(dl)return xt;dl=1,Object.defineProperty(xt,"__esModule",{value:!0});const e=Le();class t{constructor(c,a){this._settings=c,this._micromatchOptions=a,this.index=new Map}getFilter(c,a){const[n,r]=e.pattern.partitionAbsoluteAndRelative(a),i={positive:{all:e.pattern.convertPatternsToRe(c,this._micromatchOptions)},negative:{absolute:e.pattern.convertPatternsToRe(n,Object.assign(Object.assign({},this._micromatchOptions),{dot:!0})),relative:e.pattern.convertPatternsToRe(r,Object.assign(Object.assign({},this._micromatchOptions),{dot:!0}))}};return o=>this._filter(o,i)}_filter(c,a){const n=e.path.removeLeadingDotSegment(c.path);if(this._settings.unique&&this._isDuplicateEntry(n)||this._onlyFileFilter(c)||this._onlyDirectoryFilter(c))return!1;const r=this._isMatchToPatternsSet(n,a,c.dirent.isDirectory());return this._settings.unique&&r&&this._createIndexRecord(n),r}_isDuplicateEntry(c){return this.index.has(c)}_createIndexRecord(c){this.index.set(c,void 0)}_onlyFileFilter(c){return this._settings.onlyFiles&&!c.dirent.isFile()}_onlyDirectoryFilter(c){return this._settings.onlyDirectories&&!c.dirent.isDirectory()}_isMatchToPatternsSet(c,a,n){return!(!this._isMatchToPatterns(c,a.positive.all,n)||this._isMatchToPatterns(c,a.negative.relative,n)||this._isMatchToAbsoluteNegative(c,a.negative.absolute,n))}_isMatchToAbsoluteNegative(c,a,n){if(a.length===0)return!1;const r=e.path.makeAbsolute(this._settings.cwd,c);return this._isMatchToPatterns(r,a,n)}_isMatchToPatterns(c,a,n){if(a.length===0)return!1;const r=e.pattern.matchAny(c,a);return!r&&n?e.pattern.matchAny(c+"/",a):r}}return xt.default=t,xt}var Ft={},pl;function J_(){if(pl)return Ft;pl=1,Object.defineProperty(Ft,"__esModule",{value:!0});const e=Le();class t{constructor(c){this._settings=c}getFilter(){return c=>this._isNonFatalError(c)}_isNonFatalError(c){return e.errno.isEnoentCodeError(c)||this._settings.suppressErrors}}return Ft.default=t,Ft}var qt={},ml;function Q_(){if(ml)return qt;ml=1,Object.defineProperty(qt,"__esModule",{value:!0});const e=Le();class t{constructor(c){this._settings=c}getTransformer(){return c=>this._transform(c)}_transform(c){let a=c.path;return this._settings.absolute&&(a=e.path.makeAbsolute(this._settings.cwd,a),a=e.path.unixify(a)),this._settings.markDirectories&&c.dirent.isDirectory()&&(a+="/"),this._settings.objectMode?Object.assign(Object.assign({},c),{path:a}):a}}return qt.default=t,qt}var _l;function Zs(){if(_l)return $t;_l=1,Object.defineProperty($t,"__esModule",{value:!0});const e=ce,t=X_(),s=Z_(),c=J_(),a=Q_();class n{constructor(i){this._settings=i,this.errorFilter=new c.default(this._settings),this.entryFilter=new s.default(this._settings,this._getMicromatchOptions()),this.deepFilter=new t.default(this._settings,this._getMicromatchOptions()),this.entryTransformer=new a.default(this._settings)}_getRootDirectory(i){return e.resolve(this._settings.cwd,i.base)}_getReaderOptions(i){const o=i.base==="."?"":i.base;return{basePath:o,pathSegmentSeparator:"/",concurrency:this._settings.concurrency,deepFilter:this.deepFilter.getFilter(o,i.positive,i.negative),entryFilter:this.entryFilter.getFilter(i.positive,i.negative),errorFilter:this.errorFilter.getFilter(),followSymbolicLinks:this._settings.followSymbolicLinks,fs:this._settings.fs,stats:this._settings.stats,throwErrorOnBrokenSymbolicLink:this._settings.throwErrorOnBrokenSymbolicLink,transform:this.entryTransformer.getTransformer()}}_getMicromatchOptions(){return{dot:this._settings.dot,matchBase:this._settings.baseNameMatch,nobrace:!this._settings.braceExpansion,nocase:!this._settings.caseSensitiveMatch,noext:!this._settings.extglob,noglobstar:!this._settings.globstar,posix:!0,strictSlashes:!1}}}return $t.default=n,$t}var yl;function ey(){if(yl)return yt;yl=1,Object.defineProperty(yt,"__esModule",{value:!0});const e=z_(),t=Zs();class s extends t.default{constructor(){super(...arguments),this._reader=new e.default(this._settings)}async read(a){const n=this._getRootDirectory(a),r=this._getReaderOptions(a);return(await this.api(n,a,r)).map(o=>r.transform(o))}api(a,n,r){return n.dynamic?this._reader.dynamic(a,r):this._reader.static(n.patterns,r)}}return yt.default=s,yt}var Mt={},gl;function ty(){if(gl)return Mt;gl=1,Object.defineProperty(Mt,"__esModule",{value:!0});const e=qe,t=Nf(),s=Zs();class c extends s.default{constructor(){super(...arguments),this._reader=new t.default(this._settings)}read(n){const r=this._getRootDirectory(n),i=this._getReaderOptions(n),o=this.api(r,n,i),u=new e.Readable({objectMode:!0,read:()=>{}});return o.once("error",l=>u.emit("error",l)).on("data",l=>u.emit("data",i.transform(l))).once("end",()=>u.emit("end")),u.once("close",()=>o.destroy()),u}api(n,r,i){return r.dynamic?this._reader.dynamic(n,i):this._reader.static(r.patterns,i)}}return Mt.default=c,Mt}var kt={},Bt={},vl;function ry(){if(vl)return Bt;vl=1,Object.defineProperty(Bt,"__esModule",{value:!0});const e=Ze(),t=Ks(),s=Xs();class c extends s.default{constructor(){super(...arguments),this._walkSync=t.walkSync,this._statSync=e.statSync}dynamic(n,r){return this._walkSync(n,r)}static(n,r){const i=[];for(const o of n){const u=this._getFullEntryPath(o),l=this._getEntry(u,o,r);l===null||!r.entryFilter(l)||i.push(l)}return i}_getEntry(n,r,i){try{const o=this._getStat(n);return this._makeEntry(o,r)}catch(o){if(i.errorFilter(o))return null;throw o}}_getStat(n){return this._statSync(n,this._fsStatSettings)}}return Bt.default=c,Bt}var El;function ny(){if(El)return kt;El=1,Object.defineProperty(kt,"__esModule",{value:!0});const e=ry(),t=Zs();class s extends t.default{constructor(){super(...arguments),this._reader=new e.default(this._settings)}read(a){const n=this._getRootDirectory(a),r=this._getReaderOptions(a);return this.api(n,a,r).map(r.transform)}api(a,n,r){return n.dynamic?this._reader.dynamic(a,r):this._reader.static(n.patterns,r)}}return kt.default=s,kt}var os={},Sl;function iy(){return Sl||(Sl=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_FILE_SYSTEM_ADAPTER=void 0;const t=me,c=Math.max(ct.cpus().length,1);e.DEFAULT_FILE_SYSTEM_ADAPTER={lstat:t.lstat,lstatSync:t.lstatSync,stat:t.stat,statSync:t.statSync,readdir:t.readdir,readdirSync:t.readdirSync};class a{constructor(r={}){this._options=r,this.absolute=this._getValue(this._options.absolute,!1),this.baseNameMatch=this._getValue(this._options.baseNameMatch,!1),this.braceExpansion=this._getValue(this._options.braceExpansion,!0),this.caseSensitiveMatch=this._getValue(this._options.caseSensitiveMatch,!0),this.concurrency=this._getValue(this._options.concurrency,c),this.cwd=this._getValue(this._options.cwd,process.cwd()),this.deep=this._getValue(this._options.deep,1/0),this.dot=this._getValue(this._options.dot,!1),this.extglob=this._getValue(this._options.extglob,!0),this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!0),this.fs=this._getFileSystemMethods(this._options.fs),this.globstar=this._getValue(this._options.globstar,!0),this.ignore=this._getValue(this._options.ignore,[]),this.markDirectories=this._getValue(this._options.markDirectories,!1),this.objectMode=this._getValue(this._options.objectMode,!1),this.onlyDirectories=this._getValue(this._options.onlyDirectories,!1),this.onlyFiles=this._getValue(this._options.onlyFiles,!0),this.stats=this._getValue(this._options.stats,!1),this.suppressErrors=this._getValue(this._options.suppressErrors,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!1),this.unique=this._getValue(this._options.unique,!0),this.onlyDirectories&&(this.onlyFiles=!1),this.stats&&(this.objectMode=!0),this.ignore=[].concat(this.ignore)}_getValue(r,i){return r===void 0?i:r}_getFileSystemMethods(r={}){return Object.assign(Object.assign({},e.DEFAULT_FILE_SYSTEM_ADAPTER),r)}}e.default=a}(os)),os}var as,Rl;function sy(){if(Rl)return as;Rl=1;const e=T_(),t=ey(),s=ty(),c=ny(),a=iy(),n=Le();async function r(u,l){o(u);const m=i(u,t.default,l),h=await Promise.all(m);return n.array.flatten(h)}(function(u){u.glob=u,u.globSync=l,u.globStream=m,u.async=u;function l(d,p){o(d);const g=i(d,c.default,p);return n.array.flatten(g)}u.sync=l;function m(d,p){o(d);const g=i(d,s.default,p);return n.stream.merge(g)}u.stream=m;function h(d,p){o(d);const g=[].concat(d),f=new a.default(p);return e.generate(g,f)}u.generateTasks=h;function E(d,p){o(d);const g=new a.default(p);return n.pattern.isDynamicPattern(d,g)}u.isDynamicPattern=E;function R(d){return o(d),n.path.escape(d)}u.escapePath=R;function v(d){return o(d),n.path.convertPathToPattern(d)}u.convertPathToPattern=v,function(d){function p(f){return o(f),n.path.escapePosixPath(f)}d.escapePath=p;function g(f){return o(f),n.path.convertPosixPathToPattern(f)}d.convertPathToPattern=g}(u.posix||(u.posix={})),function(d){function p(f){return o(f),n.path.escapeWindowsPath(f)}d.escapePath=p;function g(f){return o(f),n.path.convertWindowsPathToPattern(f)}d.convertPathToPattern=g}(u.win32||(u.win32={}))})(r||(r={}));function i(u,l,m){const h=[].concat(u),E=new a.default(m),R=e.generate(h,E),v=new l(E);return R.map(v.read,v)}function o(u){if(![].concat(u).every(h=>n.string.isString(h)&&!n.string.isEmpty(h)))throw new TypeError("Patterns must be a string (non empty) or an array of strings")}return as=r,as}var oy=sy();const ay=Ie(oy);var Ut={exports:{}},uy=Ut.exports,wl;function cy(){return wl||(wl=1,function(e){(function(t,s,c){e.exports?e.exports=c():s[t]=c()})("urljoin",uy,function(){function t(s){var c=[];if(s.length===0)return"";if(typeof s[0]!="string")throw new TypeError("Url must be a string. Received "+s[0]);if(s[0].match(/^[^/:]+:\/*$/)&&s.length>1){var a=s.shift();s[0]=a+s[0]}s[0].match(/^file:\/\/\//)?s[0]=s[0].replace(/^([^/:]+):\/*/,"$1:///"):s[0]=s[0].replace(/^([^/:]+):\/*/,"$1://");for(var n=0;n<s.length;n++){var r=s[n];if(typeof r!="string")throw new TypeError("Url must be a string. Received "+r);r!==""&&(n>0&&(r=r.replace(/^[\/]+/,"")),n<s.length-1?r=r.replace(/[\/]+$/,""):r=r.replace(/[\/]+$/,"/"),c.push(r))}var i=c.join("/");i=i.replace(/\/(\?|&|#[^!])/g,"$1");var o=i.split("?");return i=o.shift()+(o.length>0?"?":"")+o.join("&"),i}return function(){var s;return typeof arguments[0]=="object"?s=arguments[0]:s=[].slice.call(arguments),t(s)}})}(Ut)),Ut.exports}var ly=cy();const jt=Ie(ly);function $f(e){return e==="linux"?me.existsSync("/etc/alpine-release")?"musl":"glibc":e==="darwin"?"libc":e==="win32"?"msvc":"unknown"}var us={},Ol;function fy(){return Ol||(Ol=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DownloaderHelper=e.DH_STATES=void 0;var t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},s=function(){function g(f,S){for(var _,w=0;w<S.length;w++)_=S[w],_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(f,_.key,_)}return function(f,S,_){return S&&g(f.prototype,S),_&&g(f,_),f}}(),c=me,a=E(c),n=Vf,r=ce,i=E(r),o=zf,u=E(o),l=Yf,m=E(l),h=Ve;function E(g){if(g&&g.__esModule)return g;var f={};if(g!=null)for(var S in g)Object.prototype.hasOwnProperty.call(g,S)&&(f[S]=g[S]);return f.default=g,f}function R(g,f){if(!(g instanceof f))throw new TypeError("Cannot call a class as a function")}function v(g,f){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:g}function d(g,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);g.prototype=Object.create(f&&f.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(g,f):g.__proto__=f)}var p=e.DH_STATES={IDLE:"IDLE",SKIPPED:"SKIPPED",STARTED:"STARTED",DOWNLOADING:"DOWNLOADING",RETRY:"RETRY",PAUSED:"PAUSED",RESUMED:"RESUMED",STOPPED:"STOPPED",FINISHED:"FINISHED",FAILED:"FAILED"};e.DownloaderHelper=function(g){function f(S,_){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{};R(this,f);var y=v(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,{captureRejections:!0}));return y.__validate(S,_)?(y.url=y.requestURL=S.trim(),y.state=p.IDLE,y.__defaultOpts={body:null,retry:!1,method:"GET",headers:{},fileName:"",timeout:-1,metadata:null,override:!1,forceResume:!1,removeOnStop:!0,removeOnFail:!0,progressThrottle:1e3,httpRequestOptions:{},httpsRequestOptions:{},resumeOnIncomplete:!0,resumeIfFileExists:!1,resumeOnIncompleteMaxRetry:5},y.__opts=Object.assign({},y.__defaultOpts),y.__pipes=[],y.__total=0,y.__downloaded=0,y.__progress=0,y.__retryCount=0,y.__retryTimeout=null,y.__resumeRetryCount=0,y.__states=p,y.__promise=null,y.__request=null,y.__response=null,y.__isAborted=!1,y.__isResumed=!1,y.__isResumable=!1,y.__isRedirected=!1,y.__destFolder=_,y.__statsEstimate={time:0,bytes:0,prevBytes:0,throttleTime:0},y.__fileName="",y.__filePath="",y.updateOptions(w),y):v(y)}return d(f,g),s(f,[{key:"start",value:function(){var _=this,w=function(){return new Promise(function(y,b){_.__promise={resolve:y,reject:b},_.__start()})};return this.__opts.resumeIfFileExists&&this.state!==this.__states.RESUMED?this.getTotalSize().then(function(y){var b=y.name,P=y.total,D=_.__opts.override;if(_.__opts.override=!0,_.__filePath=_.__getFilePath(b),_.__opts.override=D,_.__filePath&&a.existsSync(_.__filePath)){var x=_.__getFilesizeInBytes(_.__filePath);return x===P?w():_.resumeFromFile(_.__filePath,{total:P,fileName:b})}return w()}):w()}},{key:"pause",value:function(){var _=this;return this.state===this.__states.STOPPED?Promise.resolve(!0):(this.__response&&(this.__response.unpipe(),this.__pipes.forEach(function(w){return w.stream.unpipe()})),this.__fileStream&&this.__fileStream.removeAllListeners(),this.__requestAbort(),this.__closeFileStream().then(function(){return _.__setState(_.__states.PAUSED),_.emit("pause"),!0}))}},{key:"resume",value:function(){return this.__promise?this.state===this.__states.STOPPED?Promise.resolve(!1):(this.__setState(this.__states.RESUMED),this.__isResumable&&(this.__isResumed=!0,this.__reqOptions.headers.range="bytes="+this.__downloaded+"-"),this.emit("resume",this.__isResumed),this.__start()):this.start()}},{key:"stop",value:function(){var _=this;if(this.state===this.__states.STOPPED)return Promise.resolve(!0);var w=function(){return new Promise(function(y,b){a.access(_.__filePath,function(P){return P?(_.__emitStop(),y(!0)):void a.unlink(_.__filePath,function(D){return D?(_.__setState(_.__states.FAILED),_.emit("error",D),b(D)):(_.__emitStop(),void y(!0))})})})};return this.__requestAbort(),this.__closeFileStream().then(function(){return _.__opts.removeOnStop?w():(_.__emitStop(),Promise.resolve(!0))})}},{key:"pipe",value:function(_){var w=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null;return this.__pipes.push({stream:_,options:w}),_}},{key:"unpipe",value:function(){var _=this,w=0<arguments.length&&arguments[0]!==void 0?arguments[0]:null,y=function(P){return _.__response?_.__response.unpipe(P):P.unpipe()};if(w){var b=this.__pipes.find(function(P){return P.stream===w});return void(b&&(y(w),this.__pipes=this.__pipes.filter(function(P){return P.stream!==w})))}this.__pipes.forEach(function(P){return y(P.stream)}),this.__pipes=[]}},{key:"getDownloadPath",value:function(){return this.__filePath}},{key:"isResumable",value:function(){return this.__isResumable}},{key:"updateOptions",value:function(_){var w=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"";this.__opts=Object.assign({},this.__opts,_),this.__headers=this.__opts.headers,-1<this.__opts.timeout&&(this.__opts.httpRequestOptions.timeout=this.__opts.timeout,this.__opts.httpsRequestOptions.timeout=this.__opts.timeout),(typeof this.__opts.progressThrottle!="number"||0>this.__opts.progressThrottle)&&(this.__opts.progressThrottle=this.__defaultOpts.progressThrottle),this.url=w||this.url,this.__reqOptions=this.__getReqOptions(this.__opts.method,this.url,this.__opts.headers),this.__initProtocol(this.url)}},{key:"getOptions",value:function(){return this.__opts}},{key:"getMetadata",value:function(){return this.__opts.metadata}},{key:"getStats",value:function(){return{total:this.__total,name:this.__fileName,downloaded:this.__downloaded,progress:this.__progress,speed:this.__statsEstimate.bytes}}},{key:"getTotalSize",value:function(){var _=this;return new Promise(function(w,y){var b=function(D){_.__initProtocol(D);var x=Object.assign({},_.__headers);x.hasOwnProperty("range")&&delete x.range;var q=_.__getReqOptions("HEAD",D,x);return Object.assign({},_.__reqOptions,q)},P=function(D,x){var q=_.__protocol.request(x,function($){if(_.__isRequireRedirect($)){var L=/^https?:\/\//.test($.headers.location)?$.headers.location:new n.URL($.headers.location,D).href;return _.emit("redirected",L,D),P(L,b(L))}return $.statusCode===200?void w({name:_.__getFileNameFromHeaders($.headers,$),total:parseInt($.headers["content-length"])||null}):y(new Error("Response status was "+$.statusCode))});q.on("error",function($){return y($)}),q.on("timeout",function(){return y(new Error("timeout"))}),q.on("uncaughtException",function($){return y($)}),q.end()};P(_.url,b(_.url))})}},{key:"getResumeState",value:function(){return{downloaded:this.__downloaded,filePath:this.__filePath,fileName:this.__fileName,total:this.__total}}},{key:"resumeFromFile",value:function(_){var w=this,y=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return this.__opts.override=!0,this.__filePath=_,(y.total&&y.fileName?Promise.resolve({name:y.fileName,total:y.total}):this.getTotalSize()).then(function(b){var P=b.name,D=b.total;return w.__total=y.total||D,w.__fileName=y.fileName||P,w.__downloaded=y.downloaded||w.__getFilesizeInBytes(w.__filePath),w.__reqOptions.headers.range="bytes="+w.__downloaded+"-",w.__isResumed=!0,w.__isResumable=!0,w.__setState(w.__states.RESUMED),w.emit("resume",w.__isResumed),new Promise(function(x,q){w.__promise={resolve:x,reject:q},w.__start()})})}},{key:"__start",value:function(){this.__isRedirected||this.state===this.__states.RESUMED||(this.emit("start"),this.__setState(this.__states.STARTED),this.__initProtocol(this.url)),this.__response=null,this.__isAborted=!1,this.__request&&!this.__request.destroyed&&this.__request.destroy(),this.__retryTimeout&&(clearTimeout(this.__retryTimeout),this.__retryTimeout=null),this.__request=this.__downloadRequest(this.__promise.resolve,this.__promise.reject),this.__request.on("error",this.__onError(this.__promise.resolve,this.__promise.reject)),this.__request.on("timeout",this.__onTimeout(this.__promise.resolve,this.__promise.reject)),this.__request.on("uncaughtException",this.__onError(this.__promise.resolve,this.__promise.reject,!0)),this.__opts.body&&this.__request.write(this.__opts.body),this.__request.end()}},{key:"__resolvePending",value:function(){if(this.__promise){var _=this.__promise.resolve;return this.__promise=null,_(!0)}}},{key:"__downloadRequest",value:function(_,w){var y=this;return this.__protocol.request(this.__reqOptions,function(b){if(y.__response=b,y.__isResumed||(y.__total=parseInt(b.headers["content-length"])||null,y.__resetStats()),y.__isRequireRedirect(b)){var P=/^https?:\/\//.test(b.headers.location)?b.headers.location:new n.URL(b.headers.location,y.url).href;return y.__isRedirected=!0,y.__initProtocol(P),y.emit("redirected",P,y.url),y.__start()}if(b.statusCode!==200&&b.statusCode!==206){var D=new Error("Response status was "+b.statusCode);return D.status=b.statusCode||0,D.body=b.body||"",y.__setState(y.__states.FAILED),y.emit("error",D),w(D)}(y.__opts.forceResume||b.headers.hasOwnProperty("accept-ranges")&&b.headers["accept-ranges"]!=="none")&&(y.__isResumable=!0),y.__startDownload(b,_,w)})}},{key:"__startDownload",value:function(_,w,y){var b=this,P=_;if(this.__isResumed)this.__fileStream=a.createWriteStream(this.__filePath,{flags:"a"});else{var D=this.__getFileNameFromHeaders(_.headers);if(this.__filePath=this.__getFilePath(D),this.__fileName=this.__filePath.split(i.sep).pop(),a.existsSync(this.__filePath)){var x=this.__getFilesizeInBytes(this.__filePath),q=this.__total?this.__total:0;if(t(this.__opts.override)==="object"&&this.__opts.override.skip&&(this.__opts.override.skipSmaller||x>=q))return this.emit("skip",{totalSize:this.__total,fileName:this.__fileName,filePath:this.__filePath,downloadedSize:x}),this.__setState(this.__states.SKIPPED),w(!0)}this.__fileStream=a.createWriteStream(this.__filePath,{})}this.emit("download",{fileName:this.__fileName,filePath:this.__filePath,totalSize:this.__total,isResumed:this.__isResumed,downloadedSize:this.__downloaded}),this.__retryCount=0,this.__isResumed=!1,this.__isRedirected=!1,this.__setState(this.__states.DOWNLOADING),this.__statsEstimate.time=new Date,this.__statsEstimate.throttleTime=new Date,P.on("data",function($){return b.__calculateStats($.length)}),this.__pipes.forEach(function($){P.pipe($.stream,$.options),P=$.stream}),P.pipe(this.__fileStream),P.on("error",this.__onError(w,y)),this.__fileStream.on("finish",this.__onFinished(w,y)),this.__fileStream.on("error",this.__onError(w,y))}},{key:"__hasFinished",value:function(){return!this.__isAborted&&[this.__states.PAUSED,this.__states.STOPPED,this.__states.RETRY,this.__states.FAILED,this.__states.RESUMED].indexOf(this.state)===-1}},{key:"__isRequireRedirect",value:function(_){return 300<_.statusCode&&400>_.statusCode&&_.headers.hasOwnProperty("location")&&_.headers.location}},{key:"__onFinished",value:function(_,w){var y=this;return function(){y.__fileStream.close(function(b){if(b)return w(b);if(y.__hasFinished()){var P=!!y.__total&&y.__downloaded!==y.__total;if(P&&y.__isResumable&&y.__opts.resumeOnIncomplete&&y.__resumeRetryCount<=y.__opts.resumeOnIncompleteMaxRetry)return y.__resumeRetryCount++,y.emit("warning",new Error("uncomplete download, retrying")),y.resume();y.__setState(y.__states.FINISHED),y.__pipes=[],y.emit("end",{fileName:y.__fileName,filePath:y.__filePath,totalSize:y.__total,incomplete:P,onDiskSize:y.__getFilesizeInBytes(y.__filePath),downloadedSize:y.__downloaded})}return _(y.__downloaded===y.__total)})}}},{key:"__closeFileStream",value:function(){var _=this;return this.__fileStream?new Promise(function(w,y){_.__fileStream.close(function(b){return b?y(b):w(!0)})}):Promise.resolve(!0)}},{key:"__onError",value:function(_,w){var y=this,b=2<arguments.length&&arguments[2]!==void 0&&arguments[2];return function(P){return y.__pipes=[],b&&y.__requestAbort(),y.state===y.__states.STOPPED||y.state===y.__states.FAILED?void 0:y.__opts.retry?y.__retry(P).catch(function(D){y.__removeFile().finally(function(){y.__setState(y.__states.FAILED),y.emit("error",D||P),w(D||P)})}):y.__removeFile().finally(function(){y.__setState(y.__states.FAILED),y.emit("error",P),w(P)})}}},{key:"__retry",value:function(){var _=this,w=0<arguments.length&&arguments[0]!==void 0?arguments[0]:null;if(!this.__opts.retry||t(this.__opts.retry)!=="object")return Promise.reject(w||new Error("wrong retry options"));var y=this.__opts.retry,b=y.delay,P=b===void 0?0:b,D=y.maxRetries,x=D===void 0?999:D;return this.__retryCount>=x?Promise.reject(w||new Error("reached the maximum retries")):(this.__retryCount++,this.__setState(this.__states.RETRY),this.emit("retry",this.__retryCount,this.__opts.retry,w),this.__response&&(this.__response.unpipe(),this.__pipes.forEach(function(q){return q.stream.unpipe()})),this.__fileStream&&this.__fileStream.removeAllListeners(),this.__requestAbort(),this.__closeFileStream().then(function(){return new Promise(function(q){return _.__retryTimeout=setTimeout(function(){return q(0<_.__downloaded?_.resume():_.__start())},P)})}))}},{key:"__onTimeout",value:function(_,w){var y=this;return function(){return y.__requestAbort(),y.__opts.retry?y.__retry(new Error("timeout")).catch(function(b){y.__removeFile().finally(function(){y.__setState(y.__states.FAILED),b?w(b):(y.emit("timeout"),w(new Error("timeout")))})}):y.__removeFile().finally(function(){y.__setState(y.__states.FAILED),y.emit("timeout"),w(new Error("timeout"))})}}},{key:"__resetStats",value:function(){this.__retryCount=0,this.__downloaded=0,this.__progress=0,this.__resumeRetryCount=0,this.__statsEstimate={time:0,bytes:0,prevBytes:0,throttleTime:0}}},{key:"__getFileNameFromHeaders",value:function(_,w){var y="",b=/.*filename\*=.*?'.*?'([^"].+?[^"])(?:(?:;)|$)/i,P=/.*filename="(.*?)";?/i,D=/.*filename=([^"].+?[^"])(?:(?:;)|$)/i,x=_.hasOwnProperty("content-disposition"),q=x?_["content-disposition"].match(b):null,$=!x||q?null:_["content-disposition"].match(P),L=!x||q||$?null:_["content-disposition"].match(D);return x&&(q||$||L)?(y=_["content-disposition"],y=y.trim(),q?y=q[1]:$?y=$[1]:L&&(y=L[1]),y=y.replace(/[/\\]/g,"")):0<i.basename(new n.URL(this.requestURL).pathname).length?y=i.basename(new n.URL(this.requestURL).pathname):y=new n.URL(this.requestURL).hostname+".html",this.__opts.fileName?this.__getFileNameFromOpts(y,w):y.replace(/\.*$/,"")}},{key:"__getFilePath",value:function(_){var w=i.join(this.__destFolder,_),y=w;return this.__opts.override||this.state===this.__states.RESUMED||(y=this.__uniqFileNameSync(y),w!==y&&this.emit("renamed",{path:y,fileName:y.split(i.sep).pop(),prevPath:w,prevFileName:w.split(i.sep).pop()})),y}},{key:"__getFileNameFromOpts",value:function(_,w){if(!this.__opts.fileName)return _;if(typeof this.__opts.fileName=="string")return this.__opts.fileName;if(typeof this.__opts.fileName=="function"){var y=i.join(this.__destFolder,_);return w&&w.headers||this.__response&&this.__response.headers?this.__opts.fileName(_,y,(w||this.__response).headers["content-type"]):this.__opts.fileName(_,y)}if(t(this.__opts.fileName)==="object"){var b=this.__opts.fileName,P=b.name,D=!!b.hasOwnProperty("ext")&&b.ext;if(typeof D=="string")return P+"."+D;if(typeof D=="boolean"){if(D)return P;var x=_.includes(".")?_.split(".").pop():"";return x===""?P:P+"."+x}}return _}},{key:"__calculateStats",value:function(_){var w=new Date,y=w-this.__statsEstimate.time,b=w-this.__statsEstimate.throttleTime,P=this.__total||0;_&&(this.__downloaded+=_,this.__progress=P===0?0:100*(this.__downloaded/P),(this.__downloaded===P||1e3<y)&&(this.__statsEstimate.time=w,this.__statsEstimate.bytes=this.__downloaded-this.__statsEstimate.prevBytes,this.__statsEstimate.prevBytes=this.__downloaded),(this.__downloaded===P||b>this.__opts.progressThrottle)&&(this.__statsEstimate.throttleTime=w,this.emit("progress.throttled",this.getStats())),this.emit("progress",this.getStats()))}},{key:"__setState",value:function(_){this.state=_,this.emit("stateChanged",this.state)}},{key:"__getReqOptions",value:function(_,w){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},b=new n.URL(w),P={protocol:b.protocol,host:b.hostname,port:b.port,path:b.pathname+b.search,method:_};return y&&(P.headers=y),P}},{key:"__getFilesizeInBytes",value:function(_){try{var w=a.statSync(_,{throwIfNoEntry:!1}),y=w.size||0;return y}catch(b){this.emit("warning",b)}return 0}},{key:"__validate",value:function(_,w){if(typeof _!="string")throw new Error("URL should be an string");if(_.trim()==="")throw new Error("URL couldn't be empty");if(typeof w!="string")throw new Error("Destination Folder should be an string");if(w.trim()==="")throw new Error("Destination Folder couldn't be empty");if(!a.existsSync(w))throw new Error("Destination Folder must exist");var y=a.statSync(w);if(!y.isDirectory())throw new Error("Destination Folder must be a directory");try{a.accessSync(w,a.constants.W_OK)}catch{throw new Error("Destination Folder must be writable")}return!0}},{key:"__initProtocol",value:function(_){var w=this.__getReqOptions(this.__opts.method,_,this.__headers);this.requestURL=_,-1<_.indexOf("https://")?(this.__protocol=m,w.agent=new m.Agent({keepAlive:!1}),this.__reqOptions=Object.assign({},w,this.__opts.httpsRequestOptions)):(this.__protocol=u,w.agent=new u.Agent({keepAlive:!1}),this.__reqOptions=Object.assign({},w,this.__opts.httpRequestOptions))}},{key:"__uniqFileNameSync",value:function(_){if(typeof _!="string"||_==="")return _;try{a.accessSync(_,a.F_OK);var w=_.match(/(.*)(\([0-9]+\))(\..*)$/),y=w?w[1].trim():_,b=w?parseInt(w[2].replace(/\(|\)/,"")):0,P=_.split(".").pop();return P!==_&&0<P.length?(P="."+P,y=y.replace(P,"")):P="",this.__uniqFileNameSync(y+" ("+ ++b+")"+P)}catch{return _}}},{key:"__removeFile",value:function(){var _=this;return new Promise(function(w){return _.__fileStream?void _.__fileStream.close(function(y){return y&&_.emit("warning",y),_.__opts.removeOnFail?a.access(_.__filePath,function(b){return b?w():void a.unlink(_.__filePath,function(P){P&&_.emit("warning",y),w()})}):void w()}):w()})}},{key:"__requestAbort",value:function(){this.__isAborted=!0,this.__retryTimeout&&(clearTimeout(this.__retryTimeout),this.__retryTimeout=null),this.__response&&this.__response.destroy(),this.__request&&(this.__request.destroy?this.__request.destroy():this.__request.abort())}},{key:"__emitStop",value:function(){this.__resolvePending(),this.__setState(this.__states.STOPPED),this.emit("stop")}}]),f}(h.EventEmitter)}(us)),us}var hy=fy(),cs,bl;function dy(){if(bl)return cs;bl=1;const e=new Map([["C","cwd"],["f","file"],["z","gzip"],["P","preservePaths"],["U","unlink"],["strip-components","strip"],["stripComponents","strip"],["keep-newer","newer"],["keepNewer","newer"],["keep-newer-files","newer"],["keepNewerFiles","newer"],["k","keep"],["keep-existing","keep"],["keepExisting","keep"],["m","noMtime"],["no-mtime","noMtime"],["p","preserveOwner"],["L","follow"],["h","follow"]]);return cs=t=>t?Object.keys(t).map(s=>[e.has(s)?e.get(s):s,t[s]]).reduce((s,c)=>(s[c[0]]=c[1],s),Object.create(null)):{},cs}var ls,Al;function py(){return Al||(Al=1,ls=e=>class extends e{warn(t,s,c={}){this.file&&(c.file=this.file),this.cwd&&(c.cwd=this.cwd),c.code=s instanceof Error&&s.code||t,c.tarCode=t,!this.strict&&c.recoverable!==!1?(s instanceof Error&&(c=Object.assign(s,c),s=s.message),this.emit("warn",c.tarCode,s,c)):s instanceof Error?this.emit("error",Object.assign(s,c)):this.emit("error",Object.assign(new Error(`${t}: ${s}`),c))}}),ls}var fs={},Pl;function my(){return Pl||(Pl=1,function(e){e.name=new Map([["0","File"],["","OldFile"],["1","Link"],["2","SymbolicLink"],["3","CharacterDevice"],["4","BlockDevice"],["5","Directory"],["6","FIFO"],["7","ContiguousFile"],["g","GlobalExtendedHeader"],["x","ExtendedHeader"],["A","SolarisACL"],["D","GNUDumpDir"],["I","Inode"],["K","NextFileHasLongLinkpath"],["L","NextFileHasLongPath"],["M","ContinuationFile"],["N","OldGnuLongPath"],["S","SparseFile"],["V","TapeVolumeHeader"],["X","OldExtendedHeader"]]),e.code=new Map(Array.from(e.name).map(t=>[t[1],t[0]]))}(fs)),fs}var hs,Tl;function _y(){if(Tl)return hs;Tl=1;const e=(o,u)=>{if(Number.isSafeInteger(o))o<0?s(o,u):t(o,u);else throw Error("cannot encode number outside of javascript safe integer range");return u},t=(o,u)=>{u[0]=128;for(var l=u.length;l>1;l--)u[l-1]=o&255,o=Math.floor(o/256)},s=(o,u)=>{u[0]=255;var l=!1;o=o*-1;for(var m=u.length;m>1;m--){var h=o&255;o=Math.floor(o/256),l?u[m-1]=r(h):h===0?u[m-1]=0:(l=!0,u[m-1]=i(h))}},c=o=>{const u=o[0],l=u===128?n(o.slice(1,o.length)):u===255?a(o):null;if(l===null)throw Error("invalid base256 encoding");if(!Number.isSafeInteger(l))throw Error("parsed number outside of javascript safe integer range");return l},a=o=>{for(var u=o.length,l=0,m=!1,h=u-1;h>-1;h--){var E=o[h],R;m?R=r(E):E===0?R=E:(m=!0,R=i(E)),R!==0&&(l-=R*Math.pow(256,u-h-1))}return l},n=o=>{for(var u=o.length,l=0,m=u-1;m>-1;m--){var h=o[m];h!==0&&(l+=h*Math.pow(256,u-m-1))}return l},r=o=>(255^o)&255,i=o=>(255^o)+1&255;return hs={encode:e,parse:c},hs}var ds,Il;function Cf(){if(Il)return ds;Il=1;const e=my(),t=ce.posix,s=_y(),c=Symbol("slurp"),a=Symbol("type");class n{constructor(w,y,b,P){this.cksumValid=!1,this.needPax=!1,this.nullBlock=!1,this.block=null,this.path=null,this.mode=null,this.uid=null,this.gid=null,this.size=null,this.mtime=null,this.cksum=null,this[a]="0",this.linkpath=null,this.uname=null,this.gname=null,this.devmaj=0,this.devmin=0,this.atime=null,this.ctime=null,Buffer.isBuffer(w)?this.decode(w,y||0,b,P):w&&this.set(w)}decode(w,y,b,P){if(y||(y=0),!w||!(w.length>=y+512))throw new Error("need 512 bytes for header");if(this.path=i(w,y,100),this.mode=l(w,y+100,8),this.uid=l(w,y+108,8),this.gid=l(w,y+116,8),this.size=l(w,y+124,12),this.mtime=o(w,y+136,12),this.cksum=l(w,y+148,12),this[c](b),this[c](P,!0),this[a]=i(w,y+156,1),this[a]===""&&(this[a]="0"),this[a]==="0"&&this.path.slice(-1)==="/"&&(this[a]="5"),this[a]==="5"&&(this.size=0),this.linkpath=i(w,y+157,100),w.slice(y+257,y+265).toString()==="ustar\x0000")if(this.uname=i(w,y+265,32),this.gname=i(w,y+297,32),this.devmaj=l(w,y+329,8),this.devmin=l(w,y+337,8),w[y+475]!==0){const x=i(w,y+345,155);this.path=x+"/"+this.path}else{const x=i(w,y+345,130);x&&(this.path=x+"/"+this.path),this.atime=o(w,y+476,12),this.ctime=o(w,y+488,12)}let D=8*32;for(let x=y;x<y+148;x++)D+=w[x];for(let x=y+156;x<y+512;x++)D+=w[x];this.cksumValid=D===this.cksum,this.cksum===null&&D===8*32&&(this.nullBlock=!0)}[c](w,y){for(const b in w)w[b]!==null&&w[b]!==void 0&&!(y&&b==="path")&&(this[b]=w[b])}encode(w,y){if(w||(w=this.block=Buffer.alloc(512),y=0),y||(y=0),!(w.length>=y+512))throw new Error("need 512 bytes for header");const b=this.ctime||this.atime?130:155,P=r(this.path||"",b),D=P[0],x=P[1];this.needPax=P[2],this.needPax=S(w,y,100,D)||this.needPax,this.needPax=R(w,y+100,8,this.mode)||this.needPax,this.needPax=R(w,y+108,8,this.uid)||this.needPax,this.needPax=R(w,y+116,8,this.gid)||this.needPax,this.needPax=R(w,y+124,12,this.size)||this.needPax,this.needPax=g(w,y+136,12,this.mtime)||this.needPax,w[y+156]=this[a].charCodeAt(0),this.needPax=S(w,y+157,100,this.linkpath)||this.needPax,w.write("ustar\x0000",y+257,8),this.needPax=S(w,y+265,32,this.uname)||this.needPax,this.needPax=S(w,y+297,32,this.gname)||this.needPax,this.needPax=R(w,y+329,8,this.devmaj)||this.needPax,this.needPax=R(w,y+337,8,this.devmin)||this.needPax,this.needPax=S(w,y+345,b,x)||this.needPax,w[y+475]!==0?this.needPax=S(w,y+345,155,x)||this.needPax:(this.needPax=S(w,y+345,130,x)||this.needPax,this.needPax=g(w,y+476,12,this.atime)||this.needPax,this.needPax=g(w,y+488,12,this.ctime)||this.needPax);let q=8*32;for(let $=y;$<y+148;$++)q+=w[$];for(let $=y+156;$<y+512;$++)q+=w[$];return this.cksum=q,R(w,y+148,8,this.cksum),this.cksumValid=!0,this.needPax}set(w){for(const y in w)w[y]!==null&&w[y]!==void 0&&(this[y]=w[y])}get type(){return e.name.get(this[a])||this[a]}get typeKey(){return this[a]}set type(w){e.code.has(w)?this[a]=e.code.get(w):this[a]=w}}const r=(_,w)=>{let b=_,P="",D;const x=t.parse(_).root||".";if(Buffer.byteLength(b)<100)D=[b,P,!1];else{P=t.dirname(b),b=t.basename(b);do Buffer.byteLength(b)<=100&&Buffer.byteLength(P)<=w?D=[b,P,!1]:Buffer.byteLength(b)>100&&Buffer.byteLength(P)<=w?D=[b.slice(0,99),P,!0]:(b=t.join(t.basename(P),b),P=t.dirname(P));while(P!==x&&!D);D||(D=[_.slice(0,99),"",!0])}return D},i=(_,w,y)=>_.slice(w,w+y).toString("utf8").replace(/\0.*/,""),o=(_,w,y)=>u(l(_,w,y)),u=_=>_===null?null:new Date(_*1e3),l=(_,w,y)=>_[w]&128?s.parse(_.slice(w,w+y)):h(_,w,y),m=_=>isNaN(_)?null:_,h=(_,w,y)=>m(parseInt(_.slice(w,w+y).toString("utf8").replace(/\0.*$/,"").trim(),8)),E={12:8589934591,8:2097151},R=(_,w,y,b)=>b===null?!1:b>E[y]||b<0?(s.encode(b,_.slice(w,w+y)),!0):(v(_,w,y,b),!1),v=(_,w,y,b)=>_.write(d(b,y),w,y,"ascii"),d=(_,w)=>p(Math.floor(_).toString(8),w),p=(_,w)=>(_.length===w-1?_:new Array(w-_.length-1).join("0")+_+" ")+"\0",g=(_,w,y,b)=>b===null?!1:R(_,w,y,b.getTime()/1e3),f=new Array(156).join("\0"),S=(_,w,y,b)=>b===null?!1:(_.write(b+f,w,y,"utf8"),b.length!==Buffer.byteLength(b)||b.length>y);return ds=n,ds}var ps,Nl;function yy(){return Nl||(Nl=1,ps=function(e){e.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}),ps}var ms,$l;function gy(){if($l)return ms;$l=1,ms=e,e.Node=a,e.create=e;function e(n){var r=this;if(r instanceof e||(r=new e),r.tail=null,r.head=null,r.length=0,n&&typeof n.forEach=="function")n.forEach(function(u){r.push(u)});else if(arguments.length>0)for(var i=0,o=arguments.length;i<o;i++)r.push(arguments[i]);return r}e.prototype.removeNode=function(n){if(n.list!==this)throw new Error("removing node which does not belong to this list");var r=n.next,i=n.prev;return r&&(r.prev=i),i&&(i.next=r),n===this.head&&(this.head=r),n===this.tail&&(this.tail=i),n.list.length--,n.next=null,n.prev=null,n.list=null,r},e.prototype.unshiftNode=function(n){if(n!==this.head){n.list&&n.list.removeNode(n);var r=this.head;n.list=this,n.next=r,r&&(r.prev=n),this.head=n,this.tail||(this.tail=n),this.length++}},e.prototype.pushNode=function(n){if(n!==this.tail){n.list&&n.list.removeNode(n);var r=this.tail;n.list=this,n.prev=r,r&&(r.next=n),this.tail=n,this.head||(this.head=n),this.length++}},e.prototype.push=function(){for(var n=0,r=arguments.length;n<r;n++)s(this,arguments[n]);return this.length},e.prototype.unshift=function(){for(var n=0,r=arguments.length;n<r;n++)c(this,arguments[n]);return this.length},e.prototype.pop=function(){if(this.tail){var n=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,n}},e.prototype.shift=function(){if(this.head){var n=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,n}},e.prototype.forEach=function(n,r){r=r||this;for(var i=this.head,o=0;i!==null;o++)n.call(r,i.value,o,this),i=i.next},e.prototype.forEachReverse=function(n,r){r=r||this;for(var i=this.tail,o=this.length-1;i!==null;o--)n.call(r,i.value,o,this),i=i.prev},e.prototype.get=function(n){for(var r=0,i=this.head;i!==null&&r<n;r++)i=i.next;if(r===n&&i!==null)return i.value},e.prototype.getReverse=function(n){for(var r=0,i=this.tail;i!==null&&r<n;r++)i=i.prev;if(r===n&&i!==null)return i.value},e.prototype.map=function(n,r){r=r||this;for(var i=new e,o=this.head;o!==null;)i.push(n.call(r,o.value,this)),o=o.next;return i},e.prototype.mapReverse=function(n,r){r=r||this;for(var i=new e,o=this.tail;o!==null;)i.push(n.call(r,o.value,this)),o=o.prev;return i},e.prototype.reduce=function(n,r){var i,o=this.head;if(arguments.length>1)i=r;else if(this.head)o=this.head.next,i=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var u=0;o!==null;u++)i=n(i,o.value,u),o=o.next;return i},e.prototype.reduceReverse=function(n,r){var i,o=this.tail;if(arguments.length>1)i=r;else if(this.tail)o=this.tail.prev,i=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var u=this.length-1;o!==null;u--)i=n(i,o.value,u),o=o.prev;return i},e.prototype.toArray=function(){for(var n=new Array(this.length),r=0,i=this.head;i!==null;r++)n[r]=i.value,i=i.next;return n},e.prototype.toArrayReverse=function(){for(var n=new Array(this.length),r=0,i=this.tail;i!==null;r++)n[r]=i.value,i=i.prev;return n},e.prototype.slice=function(n,r){r=r||this.length,r<0&&(r+=this.length),n=n||0,n<0&&(n+=this.length);var i=new e;if(r<n||r<0)return i;n<0&&(n=0),r>this.length&&(r=this.length);for(var o=0,u=this.head;u!==null&&o<n;o++)u=u.next;for(;u!==null&&o<r;o++,u=u.next)i.push(u.value);return i},e.prototype.sliceReverse=function(n,r){r=r||this.length,r<0&&(r+=this.length),n=n||0,n<0&&(n+=this.length);var i=new e;if(r<n||r<0)return i;n<0&&(n=0),r>this.length&&(r=this.length);for(var o=this.length,u=this.tail;u!==null&&o>r;o--)u=u.prev;for(;u!==null&&o>n;o--,u=u.prev)i.push(u.value);return i},e.prototype.splice=function(n,r,...i){n>this.length&&(n=this.length-1),n<0&&(n=this.length+n);for(var o=0,u=this.head;u!==null&&o<n;o++)u=u.next;for(var l=[],o=0;u&&o<r;o++)l.push(u.value),u=this.removeNode(u);u===null&&(u=this.tail),u!==this.head&&u!==this.tail&&(u=u.prev);for(var o=0;o<i.length;o++)u=t(this,u,i[o]);return l},e.prototype.reverse=function(){for(var n=this.head,r=this.tail,i=n;i!==null;i=i.prev){var o=i.prev;i.prev=i.next,i.next=o}return this.head=r,this.tail=n,this};function t(n,r,i){var o=r===n.head?new a(i,null,r,n):new a(i,r,r.next,n);return o.next===null&&(n.tail=o),o.prev===null&&(n.head=o),n.length++,o}function s(n,r){n.tail=new a(r,n.tail,null,n),n.head||(n.head=n.tail),n.length++}function c(n,r){n.head=new a(r,null,n.head,n),n.tail||(n.tail=n.head),n.length++}function a(n,r,i,o){if(!(this instanceof a))return new a(n,r,i,o);this.list=o,this.value=n,r?(r.next=this,this.prev=r):this.prev=null,i?(i.prev=this,this.next=i):this.next=null}try{yy()(e)}catch{}return ms}var _s={},Cl;function vy(){if(Cl)return _s;Cl=1;const e=typeof process=="object"&&process?process:{stdout:null,stderr:null},t=Ve,s=qe,a=tf.StringDecoder,n=Symbol("EOF"),r=Symbol("maybeEmitEnd"),i=Symbol("emittedEnd"),o=Symbol("emittingEnd"),u=Symbol("emittedError"),l=Symbol("closed"),m=Symbol("read"),h=Symbol("flush"),E=Symbol("flushChunk"),R=Symbol("encoding"),v=Symbol("decoder"),d=Symbol("flowing"),p=Symbol("paused"),g=Symbol("resume"),f=Symbol("buffer"),S=Symbol("pipes"),_=Symbol("bufferLength"),w=Symbol("bufferPush"),y=Symbol("bufferShift"),b=Symbol("objectMode"),P=Symbol("destroyed"),D=Symbol("error"),x=Symbol("emitData"),q=Symbol("emitEnd"),$=Symbol("emitEnd2"),L=Symbol("async"),T=Symbol("abort"),I=Symbol("aborted"),k=Symbol("signal"),U=G=>Promise.resolve().then(G),V=$e._MP_NO_ITERATOR_SYMBOLS_!=="1",j=V&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),O=V&&Symbol.iterator||Symbol("iterator not implemented"),N=G=>G==="end"||G==="finish"||G==="prefinish",z=G=>G instanceof ArrayBuffer||typeof G=="object"&&G.constructor&&G.constructor.name==="ArrayBuffer"&&G.byteLength>=0,ee=G=>!Buffer.isBuffer(G)&&ArrayBuffer.isView(G);class M{constructor(F,B,Y){this.src=F,this.dest=B,this.opts=Y,this.ondrain=()=>F[g](),B.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}}class C extends M{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(F,B,Y){super(F,B,Y),this.proxyErrors=J=>B.emit("error",J),F.on("error",this.proxyErrors)}}class H extends s{constructor(F){super(),this[d]=!1,this[p]=!1,this[S]=[],this[f]=[],this[b]=F&&F.objectMode||!1,this[b]?this[R]=null:this[R]=F&&F.encoding||null,this[R]==="buffer"&&(this[R]=null),this[L]=F&&!!F.async||!1,this[v]=this[R]?new a(this[R]):null,this[n]=!1,this[i]=!1,this[o]=!1,this[l]=!1,this[u]=null,this.writable=!0,this.readable=!0,this[_]=0,this[P]=!1,F&&F.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[f]}),F&&F.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[S]}),this[k]=F&&F.signal,this[I]=!1,this[k]&&(this[k].addEventListener("abort",()=>this[T]()),this[k].aborted&&this[T]())}get bufferLength(){return this[_]}get encoding(){return this[R]}set encoding(F){if(this[b])throw new Error("cannot set encoding in objectMode");if(this[R]&&F!==this[R]&&(this[v]&&this[v].lastNeed||this[_]))throw new Error("cannot change encoding");this[R]!==F&&(this[v]=F?new a(F):null,this[f].length&&(this[f]=this[f].map(B=>this[v].write(B)))),this[R]=F}setEncoding(F){this.encoding=F}get objectMode(){return this[b]}set objectMode(F){this[b]=this[b]||!!F}get async(){return this[L]}set async(F){this[L]=this[L]||!!F}[T](){this[I]=!0,this.emit("abort",this[k].reason),this.destroy(this[k].reason)}get aborted(){return this[I]}set aborted(F){}write(F,B,Y){if(this[I])return!1;if(this[n])throw new Error("write after end");if(this[P])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof B=="function"&&(Y=B,B="utf8"),B||(B="utf8");const J=this[L]?U:re=>re();return!this[b]&&!Buffer.isBuffer(F)&&(ee(F)?F=Buffer.from(F.buffer,F.byteOffset,F.byteLength):z(F)?F=Buffer.from(F):typeof F!="string"&&(this.objectMode=!0)),this[b]?(this.flowing&&this[_]!==0&&this[h](!0),this.flowing?this.emit("data",F):this[w](F),this[_]!==0&&this.emit("readable"),Y&&J(Y),this.flowing):F.length?(typeof F=="string"&&!(B===this[R]&&!this[v].lastNeed)&&(F=Buffer.from(F,B)),Buffer.isBuffer(F)&&this[R]&&(F=this[v].write(F)),this.flowing&&this[_]!==0&&this[h](!0),this.flowing?this.emit("data",F):this[w](F),this[_]!==0&&this.emit("readable"),Y&&J(Y),this.flowing):(this[_]!==0&&this.emit("readable"),Y&&J(Y),this.flowing)}read(F){if(this[P])return null;if(this[_]===0||F===0||F>this[_])return this[r](),null;this[b]&&(F=null),this[f].length>1&&!this[b]&&(this.encoding?this[f]=[this[f].join("")]:this[f]=[Buffer.concat(this[f],this[_])]);const B=this[m](F||null,this[f][0]);return this[r](),B}[m](F,B){return F===B.length||F===null?this[y]():(this[f][0]=B.slice(F),B=B.slice(0,F),this[_]-=F),this.emit("data",B),!this[f].length&&!this[n]&&this.emit("drain"),B}end(F,B,Y){return typeof F=="function"&&(Y=F,F=null),typeof B=="function"&&(Y=B,B="utf8"),F&&this.write(F,B),Y&&this.once("end",Y),this[n]=!0,this.writable=!1,(this.flowing||!this[p])&&this[r](),this}[g](){this[P]||(this[p]=!1,this[d]=!0,this.emit("resume"),this[f].length?this[h]():this[n]?this[r]():this.emit("drain"))}resume(){return this[g]()}pause(){this[d]=!1,this[p]=!0}get destroyed(){return this[P]}get flowing(){return this[d]}get paused(){return this[p]}[w](F){this[b]?this[_]+=1:this[_]+=F.length,this[f].push(F)}[y](){return this[b]?this[_]-=1:this[_]-=this[f][0].length,this[f].shift()}[h](F){do;while(this[E](this[y]())&&this[f].length);!F&&!this[f].length&&!this[n]&&this.emit("drain")}[E](F){return this.emit("data",F),this.flowing}pipe(F,B){if(this[P])return;const Y=this[i];return B=B||{},F===e.stdout||F===e.stderr?B.end=!1:B.end=B.end!==!1,B.proxyErrors=!!B.proxyErrors,Y?B.end&&F.end():(this[S].push(B.proxyErrors?new C(this,F,B):new M(this,F,B)),this[L]?U(()=>this[g]()):this[g]()),F}unpipe(F){const B=this[S].find(Y=>Y.dest===F);B&&(this[S].splice(this[S].indexOf(B),1),B.unpipe())}addListener(F,B){return this.on(F,B)}on(F,B){const Y=super.on(F,B);return F==="data"&&!this[S].length&&!this.flowing?this[g]():F==="readable"&&this[_]!==0?super.emit("readable"):N(F)&&this[i]?(super.emit(F),this.removeAllListeners(F)):F==="error"&&this[u]&&(this[L]?U(()=>B.call(this,this[u])):B.call(this,this[u])),Y}get emittedEnd(){return this[i]}[r](){!this[o]&&!this[i]&&!this[P]&&this[f].length===0&&this[n]&&(this[o]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[l]&&this.emit("close"),this[o]=!1)}emit(F,B,...Y){if(F!=="error"&&F!=="close"&&F!==P&&this[P])return;if(F==="data")return!this[b]&&!B?!1:this[L]?U(()=>this[x](B)):this[x](B);if(F==="end")return this[q]();if(F==="close"){if(this[l]=!0,!this[i]&&!this[P])return;const re=super.emit("close");return this.removeAllListeners("close"),re}else if(F==="error"){this[u]=B,super.emit(D,B);const re=!this[k]||this.listeners("error").length?super.emit("error",B):!1;return this[r](),re}else if(F==="resume"){const re=super.emit("resume");return this[r](),re}else if(F==="finish"||F==="prefinish"){const re=super.emit(F);return this.removeAllListeners(F),re}const J=super.emit(F,B,...Y);return this[r](),J}[x](F){for(const Y of this[S])Y.dest.write(F)===!1&&this.pause();const B=super.emit("data",F);return this[r](),B}[q](){this[i]||(this[i]=!0,this.readable=!1,this[L]?U(()=>this[$]()):this[$]())}[$](){if(this[v]){const B=this[v].end();if(B){for(const Y of this[S])Y.dest.write(B);super.emit("data",B)}}for(const B of this[S])B.end();const F=super.emit("end");return this.removeAllListeners("end"),F}collect(){const F=[];this[b]||(F.dataLength=0);const B=this.promise();return this.on("data",Y=>{F.push(Y),this[b]||(F.dataLength+=Y.length)}),B.then(()=>F)}concat(){return this[b]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(F=>this[b]?Promise.reject(new Error("cannot concat in objectMode")):this[R]?F.join(""):Buffer.concat(F,F.dataLength))}promise(){return new Promise((F,B)=>{this.on(P,()=>B(new Error("stream destroyed"))),this.on("error",Y=>B(Y)),this.on("end",()=>F())})}[j](){let F=!1;const B=()=>(this.pause(),F=!0,Promise.resolve({done:!0}));return{next:()=>{if(F)return B();const J=this.read();if(J!==null)return Promise.resolve({done:!1,value:J});if(this[n])return B();let re=null,se=null;const Z=W=>{this.removeListener("data",A),this.removeListener("end",X),this.removeListener(P,Q),B(),se(W)},A=W=>{this.removeListener("error",Z),this.removeListener("end",X),this.removeListener(P,Q),this.pause(),re({value:W,done:!!this[n]})},X=()=>{this.removeListener("error",Z),this.removeListener("data",A),this.removeListener(P,Q),B(),re({done:!0})},Q=()=>Z(new Error("stream destroyed"));return new Promise((W,ne)=>{se=ne,re=W,this.once(P,Q),this.once("error",Z),this.once("end",X),this.once("data",A)})},throw:B,return:B,[j](){return this}}}[O](){let F=!1;const B=()=>(this.pause(),this.removeListener(D,B),this.removeListener(P,B),this.removeListener("end",B),F=!0,{done:!0}),Y=()=>{if(F)return B();const J=this.read();return J===null?B():{value:J}};return this.once("end",B),this.once(D,B),this.once(P,B),{next:Y,throw:B,return:B,[O](){return this}}}destroy(F){return this[P]?(F?this.emit("error",F):this.emit(P),this):(this[P]=!0,this[f].length=0,this[_]=0,typeof this.close=="function"&&!this[l]&&this.close(),F?this.emit("error",F):this.emit(P),this)}static isStream(F){return!!F&&(F instanceof H||F instanceof s||F instanceof t&&(typeof F.pipe=="function"||typeof F.write=="function"&&typeof F.end=="function"))}}return _s.Minipass=H,_s}var ys,Ll;function Js(){return Ll||(Ll=1,ys=(process.env.TESTING_TAR_FAKE_PLATFORM||process.platform)!=="win32"?t=>t:t=>t&&t.replace(/\\/g,"/")),ys}var gs,Dl;function Ey(){if(Dl)return gs;Dl=1;const{Minipass:e}=vy(),t=Js(),s=Symbol("slurp");return gs=class extends e{constructor(a,n,r){switch(super(),this.pause(),this.extended=n,this.globalExtended=r,this.header=a,this.startBlockSize=512*Math.ceil(a.size/512),this.blockRemain=this.startBlockSize,this.remain=a.size,this.type=a.type,this.meta=!1,this.ignore=!1,this.type){case"File":case"OldFile":case"Link":case"SymbolicLink":case"CharacterDevice":case"BlockDevice":case"Directory":case"FIFO":case"ContiguousFile":case"GNUDumpDir":break;case"NextFileHasLongLinkpath":case"NextFileHasLongPath":case"OldGnuLongPath":case"GlobalExtendedHeader":case"ExtendedHeader":case"OldExtendedHeader":this.meta=!0;break;default:this.ignore=!0}this.path=t(a.path),this.mode=a.mode,this.mode&&(this.mode=this.mode&4095),this.uid=a.uid,this.gid=a.gid,this.uname=a.uname,this.gname=a.gname,this.size=a.size,this.mtime=a.mtime,this.atime=a.atime,this.ctime=a.ctime,this.linkpath=t(a.linkpath),this.uname=a.uname,this.gname=a.gname,n&&this[s](n),r&&this[s](r,!0)}write(a){const n=a.length;if(n>this.blockRemain)throw new Error("writing more to entry than is appropriate");const r=this.remain,i=this.blockRemain;return this.remain=Math.max(0,r-n),this.blockRemain=Math.max(0,i-n),this.ignore?!0:r>=n?super.write(a):super.write(a.slice(0,r))}[s](a,n){for(const r in a)a[r]!==null&&a[r]!==void 0&&!(n&&r==="path")&&(this[r]=r==="path"||r==="linkpath"?t(a[r]):a[r])}},gs}var vs,xl;function Sy(){if(xl)return vs;xl=1;const e=Cf(),t=ce;class s{constructor(i,o){this.atime=i.atime||null,this.charset=i.charset||null,this.comment=i.comment||null,this.ctime=i.ctime||null,this.gid=i.gid||null,this.gname=i.gname||null,this.linkpath=i.linkpath||null,this.mtime=i.mtime||null,this.path=i.path||null,this.size=i.size||null,this.uid=i.uid||null,this.uname=i.uname||null,this.dev=i.dev||null,this.ino=i.ino||null,this.nlink=i.nlink||null,this.global=o||!1}encode(){const i=this.encodeBody();if(i==="")return null;const o=Buffer.byteLength(i),u=512*Math.ceil(1+o/512),l=Buffer.allocUnsafe(u);for(let m=0;m<512;m++)l[m]=0;new e({path:("PaxHeader/"+t.basename(this.path)).slice(0,99),mode:this.mode||420,uid:this.uid||null,gid:this.gid||null,size:o,mtime:this.mtime||null,type:this.global?"GlobalExtendedHeader":"ExtendedHeader",linkpath:"",uname:this.uname||"",gname:this.gname||"",devmaj:0,devmin:0,atime:this.atime||null,ctime:this.ctime||null}).encode(l),l.write(i,512,o,"utf8");for(let m=o+512;m<l.length;m++)l[m]=0;return l}encodeBody(){return this.encodeField("path")+this.encodeField("ctime")+this.encodeField("atime")+this.encodeField("dev")+this.encodeField("ino")+this.encodeField("nlink")+this.encodeField("charset")+this.encodeField("comment")+this.encodeField("gid")+this.encodeField("gname")+this.encodeField("linkpath")+this.encodeField("mtime")+this.encodeField("size")+this.encodeField("uid")+this.encodeField("uname")}encodeField(i){if(this[i]===null||this[i]===void 0)return"";const o=this[i]instanceof Date?this[i].getTime()/1e3:this[i],u=" "+(i==="dev"||i==="ino"||i==="nlink"?"SCHILY.":"")+i+"="+o+`
`,l=Buffer.byteLength(u);let m=Math.floor(Math.log(l)/Math.log(10))+1;return l+m>=Math.pow(10,m)&&(m+=1),m+l+u}}s.parse=(r,i,o)=>new s(c(a(r),i),o);const c=(r,i)=>i?Object.keys(r).reduce((o,u)=>(o[u]=r[u],o),i):r,a=r=>r.replace(/\n$/,"").split(`
`).reduce(n,Object.create(null)),n=(r,i)=>{const o=parseInt(i,10);if(o!==Buffer.byteLength(i)+1)return r;i=i.slice((o+" ").length);const u=i.split("="),l=u.shift().replace(/^SCHILY\.(dev|ino|nlink)/,"$1");if(!l)return r;const m=u.join("=");return r[l]=/^([A-Z]+\.)?([mac]|birth|creation)time$/.test(l)?new Date(m*1e3):/^[0-9]+$/.test(m)?+m:m,r};return vs=s,vs}var ve={},Es,Fl;function Ry(){if(Fl)return Es;Fl=1;const e=rf.constants||{ZLIB_VERNUM:4736};return Es=Object.freeze(Object.assign(Object.create(null),{Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_VERSION_ERROR:-6,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,DEFLATE:1,INFLATE:2,GZIP:3,GUNZIP:4,DEFLATERAW:5,INFLATERAW:6,UNZIP:7,BROTLI_DECODE:8,BROTLI_ENCODE:9,Z_MIN_WINDOWBITS:8,Z_MAX_WINDOWBITS:15,Z_DEFAULT_WINDOWBITS:15,Z_MIN_CHUNK:64,Z_MAX_CHUNK:1/0,Z_DEFAULT_CHUNK:16384,Z_MIN_MEMLEVEL:1,Z_MAX_MEMLEVEL:9,Z_DEFAULT_MEMLEVEL:8,Z_MIN_LEVEL:-1,Z_MAX_LEVEL:9,Z_DEFAULT_LEVEL:-1,BROTLI_OPERATION_PROCESS:0,BROTLI_OPERATION_FLUSH:1,BROTLI_OPERATION_FINISH:2,BROTLI_OPERATION_EMIT_METADATA:3,BROTLI_MODE_GENERIC:0,BROTLI_MODE_TEXT:1,BROTLI_MODE_FONT:2,BROTLI_DEFAULT_MODE:0,BROTLI_MIN_QUALITY:0,BROTLI_MAX_QUALITY:11,BROTLI_DEFAULT_QUALITY:11,BROTLI_MIN_WINDOW_BITS:10,BROTLI_MAX_WINDOW_BITS:24,BROTLI_LARGE_MAX_WINDOW_BITS:30,BROTLI_DEFAULT_WINDOW:22,BROTLI_MIN_INPUT_BLOCK_BITS:16,BROTLI_MAX_INPUT_BLOCK_BITS:24,BROTLI_PARAM_MODE:0,BROTLI_PARAM_QUALITY:1,BROTLI_PARAM_LGWIN:2,BROTLI_PARAM_LGBLOCK:3,BROTLI_PARAM_DISABLE_LITERAL_CONTEXT_MODELING:4,BROTLI_PARAM_SIZE_HINT:5,BROTLI_PARAM_LARGE_WINDOW:6,BROTLI_PARAM_NPOSTFIX:7,BROTLI_PARAM_NDIRECT:8,BROTLI_DECODER_RESULT_ERROR:0,BROTLI_DECODER_RESULT_SUCCESS:1,BROTLI_DECODER_RESULT_NEEDS_MORE_INPUT:2,BROTLI_DECODER_RESULT_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_PARAM_DISABLE_RING_BUFFER_REALLOCATION:0,BROTLI_DECODER_PARAM_LARGE_WINDOW:1,BROTLI_DECODER_NO_ERROR:0,BROTLI_DECODER_SUCCESS:1,BROTLI_DECODER_NEEDS_MORE_INPUT:2,BROTLI_DECODER_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_NIBBLE:-1,BROTLI_DECODER_ERROR_FORMAT_RESERVED:-2,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_META_NIBBLE:-3,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_ALPHABET:-4,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_SAME:-5,BROTLI_DECODER_ERROR_FORMAT_CL_SPACE:-6,BROTLI_DECODER_ERROR_FORMAT_HUFFMAN_SPACE:-7,BROTLI_DECODER_ERROR_FORMAT_CONTEXT_MAP_REPEAT:-8,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_1:-9,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_2:-10,BROTLI_DECODER_ERROR_FORMAT_TRANSFORM:-11,BROTLI_DECODER_ERROR_FORMAT_DICTIONARY:-12,BROTLI_DECODER_ERROR_FORMAT_WINDOW_BITS:-13,BROTLI_DECODER_ERROR_FORMAT_PADDING_1:-14,BROTLI_DECODER_ERROR_FORMAT_PADDING_2:-15,BROTLI_DECODER_ERROR_FORMAT_DISTANCE:-16,BROTLI_DECODER_ERROR_DICTIONARY_NOT_SET:-19,BROTLI_DECODER_ERROR_INVALID_ARGUMENTS:-20,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MODES:-21,BROTLI_DECODER_ERROR_ALLOC_TREE_GROUPS:-22,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MAP:-25,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_1:-26,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_2:-27,BROTLI_DECODER_ERROR_ALLOC_BLOCK_TYPE_TREES:-30,BROTLI_DECODER_ERROR_UNREACHABLE:-31},e)),Es}var Ss,ql;function Df(){if(ql)return Ss;ql=1;const e=typeof process=="object"&&process?process:{stdout:null,stderr:null},t=Ve,s=qe,c=tf.StringDecoder,a=Symbol("EOF"),n=Symbol("maybeEmitEnd"),r=Symbol("emittedEnd"),i=Symbol("emittingEnd"),o=Symbol("emittedError"),u=Symbol("closed"),l=Symbol("read"),m=Symbol("flush"),h=Symbol("flushChunk"),E=Symbol("encoding"),R=Symbol("decoder"),v=Symbol("flowing"),d=Symbol("paused"),p=Symbol("resume"),g=Symbol("bufferLength"),f=Symbol("bufferPush"),S=Symbol("bufferShift"),_=Symbol("objectMode"),w=Symbol("destroyed"),y=Symbol("emitData"),b=Symbol("emitEnd"),P=Symbol("emitEnd2"),D=Symbol("async"),x=j=>Promise.resolve().then(j),q=$e._MP_NO_ITERATOR_SYMBOLS_!=="1",$=q&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),L=q&&Symbol.iterator||Symbol("iterator not implemented"),T=j=>j==="end"||j==="finish"||j==="prefinish",I=j=>j instanceof ArrayBuffer||typeof j=="object"&&j.constructor&&j.constructor.name==="ArrayBuffer"&&j.byteLength>=0,k=j=>!Buffer.isBuffer(j)&&ArrayBuffer.isView(j);class U{constructor(O,N,z){this.src=O,this.dest=N,this.opts=z,this.ondrain=()=>O[p](),N.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}}class V extends U{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(O,N,z){super(O,N,z),this.proxyErrors=ee=>N.emit("error",ee),O.on("error",this.proxyErrors)}}return Ss=class Lf extends s{constructor(O){super(),this[v]=!1,this[d]=!1,this.pipes=[],this.buffer=[],this[_]=O&&O.objectMode||!1,this[_]?this[E]=null:this[E]=O&&O.encoding||null,this[E]==="buffer"&&(this[E]=null),this[D]=O&&!!O.async||!1,this[R]=this[E]?new c(this[E]):null,this[a]=!1,this[r]=!1,this[i]=!1,this[u]=!1,this[o]=null,this.writable=!0,this.readable=!0,this[g]=0,this[w]=!1}get bufferLength(){return this[g]}get encoding(){return this[E]}set encoding(O){if(this[_])throw new Error("cannot set encoding in objectMode");if(this[E]&&O!==this[E]&&(this[R]&&this[R].lastNeed||this[g]))throw new Error("cannot change encoding");this[E]!==O&&(this[R]=O?new c(O):null,this.buffer.length&&(this.buffer=this.buffer.map(N=>this[R].write(N)))),this[E]=O}setEncoding(O){this.encoding=O}get objectMode(){return this[_]}set objectMode(O){this[_]=this[_]||!!O}get async(){return this[D]}set async(O){this[D]=this[D]||!!O}write(O,N,z){if(this[a])throw new Error("write after end");if(this[w])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof N=="function"&&(z=N,N="utf8"),N||(N="utf8");const ee=this[D]?x:M=>M();return!this[_]&&!Buffer.isBuffer(O)&&(k(O)?O=Buffer.from(O.buffer,O.byteOffset,O.byteLength):I(O)?O=Buffer.from(O):typeof O!="string"&&(this.objectMode=!0)),this[_]?(this.flowing&&this[g]!==0&&this[m](!0),this.flowing?this.emit("data",O):this[f](O),this[g]!==0&&this.emit("readable"),z&&ee(z),this.flowing):O.length?(typeof O=="string"&&!(N===this[E]&&!this[R].lastNeed)&&(O=Buffer.from(O,N)),Buffer.isBuffer(O)&&this[E]&&(O=this[R].write(O)),this.flowing&&this[g]!==0&&this[m](!0),this.flowing?this.emit("data",O):this[f](O),this[g]!==0&&this.emit("readable"),z&&ee(z),this.flowing):(this[g]!==0&&this.emit("readable"),z&&ee(z),this.flowing)}read(O){if(this[w])return null;if(this[g]===0||O===0||O>this[g])return this[n](),null;this[_]&&(O=null),this.buffer.length>1&&!this[_]&&(this.encoding?this.buffer=[this.buffer.join("")]:this.buffer=[Buffer.concat(this.buffer,this[g])]);const N=this[l](O||null,this.buffer[0]);return this[n](),N}[l](O,N){return O===N.length||O===null?this[S]():(this.buffer[0]=N.slice(O),N=N.slice(0,O),this[g]-=O),this.emit("data",N),!this.buffer.length&&!this[a]&&this.emit("drain"),N}end(O,N,z){return typeof O=="function"&&(z=O,O=null),typeof N=="function"&&(z=N,N="utf8"),O&&this.write(O,N),z&&this.once("end",z),this[a]=!0,this.writable=!1,(this.flowing||!this[d])&&this[n](),this}[p](){this[w]||(this[d]=!1,this[v]=!0,this.emit("resume"),this.buffer.length?this[m]():this[a]?this[n]():this.emit("drain"))}resume(){return this[p]()}pause(){this[v]=!1,this[d]=!0}get destroyed(){return this[w]}get flowing(){return this[v]}get paused(){return this[d]}[f](O){this[_]?this[g]+=1:this[g]+=O.length,this.buffer.push(O)}[S](){return this.buffer.length&&(this[_]?this[g]-=1:this[g]-=this.buffer[0].length),this.buffer.shift()}[m](O){do;while(this[h](this[S]()));!O&&!this.buffer.length&&!this[a]&&this.emit("drain")}[h](O){return O?(this.emit("data",O),this.flowing):!1}pipe(O,N){if(this[w])return;const z=this[r];return N=N||{},O===e.stdout||O===e.stderr?N.end=!1:N.end=N.end!==!1,N.proxyErrors=!!N.proxyErrors,z?N.end&&O.end():(this.pipes.push(N.proxyErrors?new V(this,O,N):new U(this,O,N)),this[D]?x(()=>this[p]()):this[p]()),O}unpipe(O){const N=this.pipes.find(z=>z.dest===O);N&&(this.pipes.splice(this.pipes.indexOf(N),1),N.unpipe())}addListener(O,N){return this.on(O,N)}on(O,N){const z=super.on(O,N);return O==="data"&&!this.pipes.length&&!this.flowing?this[p]():O==="readable"&&this[g]!==0?super.emit("readable"):T(O)&&this[r]?(super.emit(O),this.removeAllListeners(O)):O==="error"&&this[o]&&(this[D]?x(()=>N.call(this,this[o])):N.call(this,this[o])),z}get emittedEnd(){return this[r]}[n](){!this[i]&&!this[r]&&!this[w]&&this.buffer.length===0&&this[a]&&(this[i]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[u]&&this.emit("close"),this[i]=!1)}emit(O,N,...z){if(O!=="error"&&O!=="close"&&O!==w&&this[w])return;if(O==="data")return N?this[D]?x(()=>this[y](N)):this[y](N):!1;if(O==="end")return this[b]();if(O==="close"){if(this[u]=!0,!this[r]&&!this[w])return;const M=super.emit("close");return this.removeAllListeners("close"),M}else if(O==="error"){this[o]=N;const M=super.emit("error",N);return this[n](),M}else if(O==="resume"){const M=super.emit("resume");return this[n](),M}else if(O==="finish"||O==="prefinish"){const M=super.emit(O);return this.removeAllListeners(O),M}const ee=super.emit(O,N,...z);return this[n](),ee}[y](O){for(const z of this.pipes)z.dest.write(O)===!1&&this.pause();const N=super.emit("data",O);return this[n](),N}[b](){this[r]||(this[r]=!0,this.readable=!1,this[D]?x(()=>this[P]()):this[P]())}[P](){if(this[R]){const N=this[R].end();if(N){for(const z of this.pipes)z.dest.write(N);super.emit("data",N)}}for(const N of this.pipes)N.end();const O=super.emit("end");return this.removeAllListeners("end"),O}collect(){const O=[];this[_]||(O.dataLength=0);const N=this.promise();return this.on("data",z=>{O.push(z),this[_]||(O.dataLength+=z.length)}),N.then(()=>O)}concat(){return this[_]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(O=>this[_]?Promise.reject(new Error("cannot concat in objectMode")):this[E]?O.join(""):Buffer.concat(O,O.dataLength))}promise(){return new Promise((O,N)=>{this.on(w,()=>N(new Error("stream destroyed"))),this.on("error",z=>N(z)),this.on("end",()=>O())})}[$](){return{next:()=>{const N=this.read();if(N!==null)return Promise.resolve({done:!1,value:N});if(this[a])return Promise.resolve({done:!0});let z=null,ee=null;const M=F=>{this.removeListener("data",C),this.removeListener("end",H),ee(F)},C=F=>{this.removeListener("error",M),this.removeListener("end",H),this.pause(),z({value:F,done:!!this[a]})},H=()=>{this.removeListener("error",M),this.removeListener("data",C),z({done:!0})},G=()=>M(new Error("stream destroyed"));return new Promise((F,B)=>{ee=B,z=F,this.once(w,G),this.once("error",M),this.once("end",H),this.once("data",C)})}}}[L](){return{next:()=>{const N=this.read();return{value:N,done:N===null}}}}destroy(O){return this[w]?(O?this.emit("error",O):this.emit(w),this):(this[w]=!0,this.buffer.length=0,this[g]=0,typeof this.close=="function"&&!this[u]&&this.close(),O?this.emit("error",O):this.emit(w),this)}static isStream(O){return!!O&&(O instanceof Lf||O instanceof s||O instanceof t&&(typeof O.pipe=="function"||typeof O.write=="function"&&typeof O.end=="function"))}},Ss}var Ml;function wy(){if(Ml)return ve;Ml=1;const e=ut,t=Kf.Buffer,s=rf,c=ve.constants=Ry(),a=Df(),n=t.concat,r=Symbol("_superWrite");class i extends Error{constructor(I){super("zlib: "+I.message),this.code=I.code,this.errno=I.errno,this.code||(this.code="ZLIB_ERROR"),this.message="zlib: "+I.message,Error.captureStackTrace(this,this.constructor)}get name(){return"ZlibError"}}const o=Symbol("opts"),u=Symbol("flushFlag"),l=Symbol("finishFlushFlag"),m=Symbol("fullFlushFlag"),h=Symbol("handle"),E=Symbol("onError"),R=Symbol("sawError"),v=Symbol("level"),d=Symbol("strategy"),p=Symbol("ended");class g extends a{constructor(I,k){if(!I||typeof I!="object")throw new TypeError("invalid options for ZlibBase constructor");super(I),this[R]=!1,this[p]=!1,this[o]=I,this[u]=I.flush,this[l]=I.finishFlush;try{this[h]=new s[k](I)}catch(U){throw new i(U)}this[E]=U=>{this[R]||(this[R]=!0,this.close(),this.emit("error",U))},this[h].on("error",U=>this[E](new i(U))),this.once("end",()=>this.close)}close(){this[h]&&(this[h].close(),this[h]=null,this.emit("close"))}reset(){if(!this[R])return e(this[h],"zlib binding closed"),this[h].reset()}flush(I){this.ended||(typeof I!="number"&&(I=this[m]),this.write(Object.assign(t.alloc(0),{[u]:I})))}end(I,k,U){return I&&this.write(I,k),this.flush(this[l]),this[p]=!0,super.end(null,null,U)}get ended(){return this[p]}write(I,k,U){if(typeof k=="function"&&(U=k,k="utf8"),typeof I=="string"&&(I=t.from(I,k)),this[R])return;e(this[h],"zlib binding closed");const V=this[h]._handle,j=V.close;V.close=()=>{};const O=this[h].close;this[h].close=()=>{},t.concat=ee=>ee;let N;try{const ee=typeof I[u]=="number"?I[u]:this[u];N=this[h]._processChunk(I,ee),t.concat=n}catch(ee){t.concat=n,this[E](new i(ee))}finally{this[h]&&(this[h]._handle=V,V.close=j,this[h].close=O,this[h].removeAllListeners("error"))}this[h]&&this[h].on("error",ee=>this[E](new i(ee)));let z;if(N)if(Array.isArray(N)&&N.length>0){z=this[r](t.from(N[0]));for(let ee=1;ee<N.length;ee++)z=this[r](N[ee])}else z=this[r](t.from(N));return U&&U(),z}[r](I){return super.write(I)}}class f extends g{constructor(I,k){I=I||{},I.flush=I.flush||c.Z_NO_FLUSH,I.finishFlush=I.finishFlush||c.Z_FINISH,super(I,k),this[m]=c.Z_FULL_FLUSH,this[v]=I.level,this[d]=I.strategy}params(I,k){if(!this[R]){if(!this[h])throw new Error("cannot switch params when binding is closed");if(!this[h].params)throw new Error("not supported in this implementation");if(this[v]!==I||this[d]!==k){this.flush(c.Z_SYNC_FLUSH),e(this[h],"zlib binding closed");const U=this[h].flush;this[h].flush=(V,j)=>{this.flush(V),j()};try{this[h].params(I,k)}finally{this[h].flush=U}this[h]&&(this[v]=I,this[d]=k)}}}}class S extends f{constructor(I){super(I,"Deflate")}}class _ extends f{constructor(I){super(I,"Inflate")}}const w=Symbol("_portable");class y extends f{constructor(I){super(I,"Gzip"),this[w]=I&&!!I.portable}[r](I){return this[w]?(this[w]=!1,I[9]=255,super[r](I)):super[r](I)}}class b extends f{constructor(I){super(I,"Gunzip")}}class P extends f{constructor(I){super(I,"DeflateRaw")}}class D extends f{constructor(I){super(I,"InflateRaw")}}class x extends f{constructor(I){super(I,"Unzip")}}class q extends g{constructor(I,k){I=I||{},I.flush=I.flush||c.BROTLI_OPERATION_PROCESS,I.finishFlush=I.finishFlush||c.BROTLI_OPERATION_FINISH,super(I,k),this[m]=c.BROTLI_OPERATION_FLUSH}}class $ extends q{constructor(I){super(I,"BrotliCompress")}}class L extends q{constructor(I){super(I,"BrotliDecompress")}}return ve.Deflate=S,ve.Inflate=_,ve.Gzip=y,ve.Gunzip=b,ve.DeflateRaw=P,ve.InflateRaw=D,ve.Unzip=x,typeof s.BrotliCompress=="function"?(ve.BrotliCompress=$,ve.BrotliDecompress=L):ve.BrotliCompress=ve.BrotliDecompress=class{constructor(){throw new Error("Brotli is not supported in this version of Node.js")}},ve}var Rs,kl;function Oy(){if(kl)return Rs;kl=1;const e=py(),t=Cf(),s=Ve,c=gy(),a=1024*1024,n=Ey(),r=Sy(),i=wy(),{nextTick:o}=Xf,u=Buffer.from([31,139]),l=Symbol("state"),m=Symbol("writeEntry"),h=Symbol("readEntry"),E=Symbol("nextEntry"),R=Symbol("processEntry"),v=Symbol("extendedHeader"),d=Symbol("globalExtendedHeader"),p=Symbol("meta"),g=Symbol("emitMeta"),f=Symbol("buffer"),S=Symbol("queue"),_=Symbol("ended"),w=Symbol("emittedEnd"),y=Symbol("emit"),b=Symbol("unzip"),P=Symbol("consumeChunk"),D=Symbol("consumeChunkSub"),x=Symbol("consumeBody"),q=Symbol("consumeMeta"),$=Symbol("consumeHeader"),L=Symbol("consuming"),T=Symbol("bufferConcat"),I=Symbol("maybeEnd"),k=Symbol("writing"),U=Symbol("aborted"),V=Symbol("onDone"),j=Symbol("sawValidEntry"),O=Symbol("sawNullBlock"),N=Symbol("sawEOF"),z=Symbol("closeStream"),ee=M=>!0;return Rs=e(class extends s{constructor(C){C=C||{},super(C),this.file=C.file||"",this[j]=null,this.on(V,G=>{(this[l]==="begin"||this[j]===!1)&&this.warn("TAR_BAD_ARCHIVE","Unrecognized archive format")}),C.ondone?this.on(V,C.ondone):this.on(V,G=>{this.emit("prefinish"),this.emit("finish"),this.emit("end")}),this.strict=!!C.strict,this.maxMetaEntrySize=C.maxMetaEntrySize||a,this.filter=typeof C.filter=="function"?C.filter:ee;const H=C.file&&(C.file.endsWith(".tar.br")||C.file.endsWith(".tbr"));this.brotli=!C.gzip&&C.brotli!==void 0?C.brotli:H?void 0:!1,this.writable=!0,this.readable=!1,this[S]=new c,this[f]=null,this[h]=null,this[m]=null,this[l]="begin",this[p]="",this[v]=null,this[d]=null,this[_]=!1,this[b]=null,this[U]=!1,this[O]=!1,this[N]=!1,this.on("end",()=>this[z]()),typeof C.onwarn=="function"&&this.on("warn",C.onwarn),typeof C.onentry=="function"&&this.on("entry",C.onentry)}[$](C,H){this[j]===null&&(this[j]=!1);let G;try{G=new t(C,H,this[v],this[d])}catch(F){return this.warn("TAR_ENTRY_INVALID",F)}if(G.nullBlock)this[O]?(this[N]=!0,this[l]==="begin"&&(this[l]="header"),this[y]("eof")):(this[O]=!0,this[y]("nullBlock"));else if(this[O]=!1,!G.cksumValid)this.warn("TAR_ENTRY_INVALID","checksum failure",{header:G});else if(!G.path)this.warn("TAR_ENTRY_INVALID","path is required",{header:G});else{const F=G.type;if(/^(Symbolic)?Link$/.test(F)&&!G.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath required",{header:G});else if(!/^(Symbolic)?Link$/.test(F)&&G.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath forbidden",{header:G});else{const B=this[m]=new n(G,this[v],this[d]);if(!this[j])if(B.remain){const Y=()=>{B.invalid||(this[j]=!0)};B.on("end",Y)}else this[j]=!0;B.meta?B.size>this.maxMetaEntrySize?(B.ignore=!0,this[y]("ignoredEntry",B),this[l]="ignore",B.resume()):B.size>0&&(this[p]="",B.on("data",Y=>this[p]+=Y),this[l]="meta"):(this[v]=null,B.ignore=B.ignore||!this.filter(B.path,B),B.ignore?(this[y]("ignoredEntry",B),this[l]=B.remain?"ignore":"header",B.resume()):(B.remain?this[l]="body":(this[l]="header",B.end()),this[h]?this[S].push(B):(this[S].push(B),this[E]())))}}}[z](){o(()=>this.emit("close"))}[R](C){let H=!0;return C?Array.isArray(C)?this.emit.apply(this,C):(this[h]=C,this.emit("entry",C),C.emittedEnd||(C.on("end",G=>this[E]()),H=!1)):(this[h]=null,H=!1),H}[E](){do;while(this[R](this[S].shift()));if(!this[S].length){const C=this[h];!C||C.flowing||C.size===C.remain?this[k]||this.emit("drain"):C.once("drain",G=>this.emit("drain"))}}[x](C,H){const G=this[m],F=G.blockRemain,B=F>=C.length&&H===0?C:C.slice(H,H+F);return G.write(B),G.blockRemain||(this[l]="header",this[m]=null,G.end()),B.length}[q](C,H){const G=this[m],F=this[x](C,H);return this[m]||this[g](G),F}[y](C,H,G){!this[S].length&&!this[h]?this.emit(C,H,G):this[S].push([C,H,G])}[g](C){switch(this[y]("meta",this[p]),C.type){case"ExtendedHeader":case"OldExtendedHeader":this[v]=r.parse(this[p],this[v],!1);break;case"GlobalExtendedHeader":this[d]=r.parse(this[p],this[d],!0);break;case"NextFileHasLongPath":case"OldGnuLongPath":this[v]=this[v]||Object.create(null),this[v].path=this[p].replace(/\0.*/,"");break;case"NextFileHasLongLinkpath":this[v]=this[v]||Object.create(null),this[v].linkpath=this[p].replace(/\0.*/,"");break;default:throw new Error("unknown meta: "+C.type)}}abort(C){this[U]=!0,this.emit("abort",C),this.warn("TAR_ABORT",C,{recoverable:!1})}write(C){if(this[U])return;if((this[b]===null||this.brotli===void 0&&this[b]===!1)&&C){if(this[f]&&(C=Buffer.concat([this[f],C]),this[f]=null),C.length<u.length)return this[f]=C,!0;for(let B=0;this[b]===null&&B<u.length;B++)C[B]!==u[B]&&(this[b]=!1);const F=this.brotli===void 0;if(this[b]===!1&&F)if(C.length<512)if(this[_])this.brotli=!0;else return this[f]=C,!0;else try{new t(C.slice(0,512)),this.brotli=!1}catch{this.brotli=!0}if(this[b]===null||this[b]===!1&&this.brotli){const B=this[_];this[_]=!1,this[b]=this[b]===null?new i.Unzip:new i.BrotliDecompress,this[b].on("data",J=>this[P](J)),this[b].on("error",J=>this.abort(J)),this[b].on("end",J=>{this[_]=!0,this[P]()}),this[k]=!0;const Y=this[b][B?"end":"write"](C);return this[k]=!1,Y}}this[k]=!0,this[b]?this[b].write(C):this[P](C),this[k]=!1;const G=this[S].length?!1:this[h]?this[h].flowing:!0;return!G&&!this[S].length&&this[h].once("drain",F=>this.emit("drain")),G}[T](C){C&&!this[U]&&(this[f]=this[f]?Buffer.concat([this[f],C]):C)}[I](){if(this[_]&&!this[w]&&!this[U]&&!this[L]){this[w]=!0;const C=this[m];if(C&&C.blockRemain){const H=this[f]?this[f].length:0;this.warn("TAR_BAD_ARCHIVE",`Truncated input (needed ${C.blockRemain} more bytes, only ${H} available)`,{entry:C}),this[f]&&C.write(this[f]),C.end()}this[y](V)}}[P](C){if(this[L])this[T](C);else if(!C&&!this[f])this[I]();else{if(this[L]=!0,this[f]){this[T](C);const H=this[f];this[f]=null,this[D](H)}else this[D](C);for(;this[f]&&this[f].length>=512&&!this[U]&&!this[N];){const H=this[f];this[f]=null,this[D](H)}this[L]=!1}(!this[f]||this[_])&&this[I]()}[D](C){let H=0;const G=C.length;for(;H+512<=G&&!this[U]&&!this[N];)switch(this[l]){case"begin":case"header":this[$](C,H),H+=512;break;case"ignore":case"body":H+=this[x](C,H);break;case"meta":H+=this[q](C,H);break;default:throw new Error("invalid state: "+this[l])}H<G&&(this[f]?this[f]=Buffer.concat([C.slice(H),this[f]]):this[f]=C.slice(H))}end(C){this[U]||(this[b]?this[b].end(C):(this[_]=!0,this.brotli===void 0&&(C=C||Buffer.alloc(0)),this.write(C)))}}),Rs}var Ge={},Bl;function xf(){if(Bl)return Ge;Bl=1;const e=Df(),t=Ve.EventEmitter,s=me;let c=s.writev;if(!c){const j=process.binding("fs"),O=j.FSReqWrap||j.FSReqCallback;c=(N,z,ee,M)=>{const C=(G,F)=>M(G,F,z),H=new O;H.oncomplete=C,j.writeBuffers(N,z,ee,H)}}const a=Symbol("_autoClose"),n=Symbol("_close"),r=Symbol("_ended"),i=Symbol("_fd"),o=Symbol("_finished"),u=Symbol("_flags"),l=Symbol("_flush"),m=Symbol("_handleChunk"),h=Symbol("_makeBuf"),E=Symbol("_mode"),R=Symbol("_needDrain"),v=Symbol("_onerror"),d=Symbol("_onopen"),p=Symbol("_onread"),g=Symbol("_onwrite"),f=Symbol("_open"),S=Symbol("_path"),_=Symbol("_pos"),w=Symbol("_queue"),y=Symbol("_read"),b=Symbol("_readSize"),P=Symbol("_reading"),D=Symbol("_remain"),x=Symbol("_size"),q=Symbol("_write"),$=Symbol("_writing"),L=Symbol("_defaultFlag"),T=Symbol("_errored");class I extends e{constructor(O,N){if(N=N||{},super(N),this.readable=!0,this.writable=!1,typeof O!="string")throw new TypeError("path must be a string");this[T]=!1,this[i]=typeof N.fd=="number"?N.fd:null,this[S]=O,this[b]=N.readSize||16*1024*1024,this[P]=!1,this[x]=typeof N.size=="number"?N.size:1/0,this[D]=this[x],this[a]=typeof N.autoClose=="boolean"?N.autoClose:!0,typeof this[i]=="number"?this[y]():this[f]()}get fd(){return this[i]}get path(){return this[S]}write(){throw new TypeError("this is a readable stream")}end(){throw new TypeError("this is a readable stream")}[f](){s.open(this[S],"r",(O,N)=>this[d](O,N))}[d](O,N){O?this[v](O):(this[i]=N,this.emit("open",N),this[y]())}[h](){return Buffer.allocUnsafe(Math.min(this[b],this[D]))}[y](){if(!this[P]){this[P]=!0;const O=this[h]();if(O.length===0)return process.nextTick(()=>this[p](null,0,O));s.read(this[i],O,0,O.length,null,(N,z,ee)=>this[p](N,z,ee))}}[p](O,N,z){this[P]=!1,O?this[v](O):this[m](N,z)&&this[y]()}[n](){if(this[a]&&typeof this[i]=="number"){const O=this[i];this[i]=null,s.close(O,N=>N?this.emit("error",N):this.emit("close"))}}[v](O){this[P]=!0,this[n](),this.emit("error",O)}[m](O,N){let z=!1;return this[D]-=O,O>0&&(z=super.write(O<N.length?N.slice(0,O):N)),(O===0||this[D]<=0)&&(z=!1,this[n](),super.end()),z}emit(O,N){switch(O){case"prefinish":case"finish":break;case"drain":typeof this[i]=="number"&&this[y]();break;case"error":return this[T]?void 0:(this[T]=!0,super.emit(O,N));default:return super.emit(O,N)}}}class k extends I{[f](){let O=!0;try{this[d](null,s.openSync(this[S],"r")),O=!1}finally{O&&this[n]()}}[y](){let O=!0;try{if(!this[P]){this[P]=!0;do{const N=this[h](),z=N.length===0?0:s.readSync(this[i],N,0,N.length,null);if(!this[m](z,N))break}while(!0);this[P]=!1}O=!1}finally{O&&this[n]()}}[n](){if(this[a]&&typeof this[i]=="number"){const O=this[i];this[i]=null,s.closeSync(O),this.emit("close")}}}class U extends t{constructor(O,N){N=N||{},super(N),this.readable=!1,this.writable=!0,this[T]=!1,this[$]=!1,this[r]=!1,this[R]=!1,this[w]=[],this[S]=O,this[i]=typeof N.fd=="number"?N.fd:null,this[E]=N.mode===void 0?438:N.mode,this[_]=typeof N.start=="number"?N.start:null,this[a]=typeof N.autoClose=="boolean"?N.autoClose:!0;const z=this[_]!==null?"r+":"w";this[L]=N.flags===void 0,this[u]=this[L]?z:N.flags,this[i]===null&&this[f]()}emit(O,N){if(O==="error"){if(this[T])return;this[T]=!0}return super.emit(O,N)}get fd(){return this[i]}get path(){return this[S]}[v](O){this[n](),this[$]=!0,this.emit("error",O)}[f](){s.open(this[S],this[u],this[E],(O,N)=>this[d](O,N))}[d](O,N){this[L]&&this[u]==="r+"&&O&&O.code==="ENOENT"?(this[u]="w",this[f]()):O?this[v](O):(this[i]=N,this.emit("open",N),this[l]())}end(O,N){return O&&this.write(O,N),this[r]=!0,!this[$]&&!this[w].length&&typeof this[i]=="number"&&this[g](null,0),this}write(O,N){return typeof O=="string"&&(O=Buffer.from(O,N)),this[r]?(this.emit("error",new Error("write() after end()")),!1):this[i]===null||this[$]||this[w].length?(this[w].push(O),this[R]=!0,!1):(this[$]=!0,this[q](O),!0)}[q](O){s.write(this[i],O,0,O.length,this[_],(N,z)=>this[g](N,z))}[g](O,N){O?this[v](O):(this[_]!==null&&(this[_]+=N),this[w].length?this[l]():(this[$]=!1,this[r]&&!this[o]?(this[o]=!0,this[n](),this.emit("finish")):this[R]&&(this[R]=!1,this.emit("drain"))))}[l](){if(this[w].length===0)this[r]&&this[g](null,0);else if(this[w].length===1)this[q](this[w].pop());else{const O=this[w];this[w]=[],c(this[i],O,this[_],(N,z)=>this[g](N,z))}}[n](){if(this[a]&&typeof this[i]=="number"){const O=this[i];this[i]=null,s.close(O,N=>N?this.emit("error",N):this.emit("close"))}}}class V extends U{[f](){let O;if(this[L]&&this[u]==="r+")try{O=s.openSync(this[S],this[u],this[E])}catch(N){if(N.code==="ENOENT")return this[u]="w",this[f]();throw N}else O=s.openSync(this[S],this[u],this[E]);this[d](null,O)}[n](){if(this[a]&&typeof this[i]=="number"){const O=this[i];this[i]=null,s.closeSync(O),this.emit("close")}}[q](O){let N=!0;try{this[g](null,s.writeSync(this[i],O,0,O.length,this[_])),N=!1}finally{if(N)try{this[n]()}catch{}}}}return Ge.ReadStream=I,Ge.ReadStreamSync=k,Ge.WriteStream=U,Ge.WriteStreamSync=V,Ge}var Ht={exports:{}},Ff=Oe();const by=Ff.mkdirp,Ay=Object.freeze(Object.defineProperty({__proto__:null,default:by,sync:Ff.mkdirpSync},Symbol.toStringTag,{value:"Module"})),Py=Jf(Ay);var ws,jl;function Ty(){if(jl)return ws;jl=1;const e=me,t=ce,s=e.lchown?"lchown":"chown",c=e.lchownSync?"lchownSync":"chownSync",a=e.lchown&&!process.version.match(/v1[1-9]+\./)&&!process.version.match(/v10\.[6-9]/),n=(p,g,f)=>{try{return e[c](p,g,f)}catch(S){if(S.code!=="ENOENT")throw S}},r=(p,g,f)=>{try{return e.chownSync(p,g,f)}catch(S){if(S.code!=="ENOENT")throw S}},i=a?(p,g,f,S)=>_=>{!_||_.code!=="EISDIR"?S(_):e.chown(p,g,f,S)}:(p,g,f,S)=>S,o=a?(p,g,f)=>{try{return n(p,g,f)}catch(S){if(S.code!=="EISDIR")throw S;r(p,g,f)}}:(p,g,f)=>n(p,g,f),u=process.version;let l=(p,g,f)=>e.readdir(p,g,f),m=(p,g)=>e.readdirSync(p,g);/^v4\./.test(u)&&(l=(p,g,f)=>e.readdir(p,f));const h=(p,g,f,S)=>{e[s](p,g,f,i(p,g,f,_=>{S(_&&_.code!=="ENOENT"?_:null)}))},E=(p,g,f,S,_)=>{if(typeof g=="string")return e.lstat(t.resolve(p,g),(w,y)=>{if(w)return _(w.code!=="ENOENT"?w:null);y.name=g,E(p,y,f,S,_)});if(g.isDirectory())R(t.resolve(p,g.name),f,S,w=>{if(w)return _(w);const y=t.resolve(p,g.name);h(y,f,S,_)});else{const w=t.resolve(p,g.name);h(w,f,S,_)}},R=(p,g,f,S)=>{l(p,{withFileTypes:!0},(_,w)=>{if(_){if(_.code==="ENOENT")return S();if(_.code!=="ENOTDIR"&&_.code!=="ENOTSUP")return S(_)}if(_||!w.length)return h(p,g,f,S);let y=w.length,b=null;const P=D=>{if(!b){if(D)return S(b=D);if(--y===0)return h(p,g,f,S)}};w.forEach(D=>E(p,D,g,f,P))})},v=(p,g,f,S)=>{if(typeof g=="string")try{const _=e.lstatSync(t.resolve(p,g));_.name=g,g=_}catch(_){if(_.code==="ENOENT")return;throw _}g.isDirectory()&&d(t.resolve(p,g.name),f,S),o(t.resolve(p,g.name),f,S)},d=(p,g,f)=>{let S;try{S=m(p,{withFileTypes:!0})}catch(_){if(_.code==="ENOENT")return;if(_.code==="ENOTDIR"||_.code==="ENOTSUP")return o(p,g,f);throw _}return S&&S.length&&S.forEach(_=>v(p,_,g,f)),o(p,g,f)};return ws=R,R.sync=d,ws}var Hl;function Iy(){if(Hl)return Ht.exports;Hl=1;const e=Py,t=me,s=ce,c=Ty(),a=Js();class n extends Error{constructor(R,v){super("Cannot extract through symbolic link"),this.path=v,this.symlink=R}get name(){return"SylinkError"}}class r extends Error{constructor(R,v){super(v+": Cannot cd into '"+R+"'"),this.path=R,this.code=v}get name(){return"CwdError"}}const i=(E,R)=>E.get(a(R)),o=(E,R,v)=>E.set(a(R),v),u=(E,R)=>{t.stat(E,(v,d)=>{(v||!d.isDirectory())&&(v=new r(E,v&&v.code||"ENOTDIR")),R(v)})};Ht.exports=(E,R,v)=>{E=a(E);const d=R.umask,p=R.mode|448,g=(p&d)!==0,f=R.uid,S=R.gid,_=typeof f=="number"&&typeof S=="number"&&(f!==R.processUid||S!==R.processGid),w=R.preserve,y=R.unlink,b=R.cache,P=a(R.cwd),D=($,L)=>{$?v($):(o(b,E,!0),L&&_?c(L,f,S,T=>D(T)):g?t.chmod(E,p,v):v())};if(b&&i(b,E)===!0)return D();if(E===P)return u(E,D);if(w)return e(E,{mode:p}).then($=>D(null,$),D);const q=a(s.relative(P,E)).split("/");l(P,q,p,b,y,P,null,D)};const l=(E,R,v,d,p,g,f,S)=>{if(!R.length)return S(null,f);const _=R.shift(),w=a(s.resolve(E+"/"+_));if(i(d,w))return l(w,R,v,d,p,g,f,S);t.mkdir(w,v,m(w,R,v,d,p,g,f,S))},m=(E,R,v,d,p,g,f,S)=>_=>{_?t.lstat(E,(w,y)=>{if(w)w.path=w.path&&a(w.path),S(w);else if(y.isDirectory())l(E,R,v,d,p,g,f,S);else if(p)t.unlink(E,b=>{if(b)return S(b);t.mkdir(E,v,m(E,R,v,d,p,g,f,S))});else{if(y.isSymbolicLink())return S(new n(E,E+"/"+R.join("/")));S(_)}}):(f=f||E,l(E,R,v,d,p,g,f,S))},h=E=>{let R=!1,v="ENOTDIR";try{R=t.statSync(E).isDirectory()}catch(d){v=d.code}finally{if(!R)throw new r(E,v)}};return Ht.exports.sync=(E,R)=>{E=a(E);const v=R.umask,d=R.mode|448,p=(d&v)!==0,g=R.uid,f=R.gid,S=typeof g=="number"&&typeof f=="number"&&(g!==R.processUid||f!==R.processGid),_=R.preserve,w=R.unlink,y=R.cache,b=a(R.cwd),P=$=>{o(y,E,!0),$&&S&&c.sync($,g,f),p&&t.chmodSync(E,d)};if(y&&i(y,E)===!0)return P();if(E===b)return h(b),P();if(_)return P(e.sync(E,d));const x=a(s.relative(b,E)).split("/");let q=null;for(let $=x.shift(),L=b;$&&(L+="/"+$);$=x.shift())if(L=a(s.resolve(L)),!i(y,L))try{t.mkdirSync(L,d),q=q||L,o(y,L,!0)}catch{const I=t.lstatSync(L);if(I.isDirectory()){o(y,L,!0);continue}else if(w){t.unlinkSync(L),t.mkdirSync(L,d),q=q||L,o(y,L,!0);continue}else if(I.isSymbolicLink())return new n(L,L+"/"+x.join("/"))}return P(q)},Ht.exports}var Os,Ul;function Ny(){if(Ul)return Os;Ul=1;const e=["|","<",">","?",":"],t=e.map(a=>String.fromCharCode(61440+a.charCodeAt(0))),s=new Map(e.map((a,n)=>[a,t[n]])),c=new Map(t.map((a,n)=>[a,e[n]]));return Os={encode:a=>e.reduce((n,r)=>n.split(r).join(s.get(r)),a),decode:a=>t.reduce((n,r)=>n.split(r).join(c.get(r)),a)},Os}var bs,Gl;function qf(){if(Gl)return bs;Gl=1;const e=Object.create(null),{hasOwnProperty:t}=Object.prototype;return bs=s=>(t.call(e,s)||(e[s]=s.normalize("NFD")),e[s]),bs}var As,Wl;function Qs(){return Wl||(Wl=1,As=e=>{let t=e.length-1,s=-1;for(;t>-1&&e.charAt(t)==="/";)s=t,t--;return s===-1?e:e.slice(0,s)}),As}var Ps,Vl;function $y(){if(Vl)return Ps;Vl=1;const e=ut,t=qf(),s=Qs(),{join:c}=ce,n=(process.env.TESTING_TAR_FAKE_PLATFORM||process.platform)==="win32";return Ps=()=>{const r=new Map,i=new Map,o=v=>v.split("/").slice(0,-1).reduce((p,g)=>(p.length&&(g=c(p[p.length-1],g)),p.push(g||"/"),p),[]),u=new Set,l=v=>{const d=i.get(v);if(!d)throw new Error("function does not have any path reservations");return{paths:d.paths.map(p=>r.get(p)),dirs:[...d.dirs].map(p=>r.get(p))}},m=v=>{const{paths:d,dirs:p}=l(v);return d.every(g=>g[0]===v)&&p.every(g=>g[0]instanceof Set&&g[0].has(v))},h=v=>u.has(v)||!m(v)?!1:(u.add(v),v(()=>E(v)),!0),E=v=>{if(!u.has(v))return!1;const{paths:d,dirs:p}=i.get(v),g=new Set;return d.forEach(f=>{const S=r.get(f);e.equal(S[0],v),S.length===1?r.delete(f):(S.shift(),typeof S[0]=="function"?g.add(S[0]):S[0].forEach(_=>g.add(_)))}),p.forEach(f=>{const S=r.get(f);e(S[0]instanceof Set),S[0].size===1&&S.length===1?r.delete(f):S[0].size===1?(S.shift(),g.add(S[0])):S[0].delete(v)}),u.delete(v),g.forEach(f=>h(f)),!0};return{check:m,reserve:(v,d)=>{v=n?["win32 parallelization disabled"]:v.map(g=>s(c(t(g))).toLowerCase());const p=new Set(v.map(g=>o(g)).reduce((g,f)=>g.concat(f)));return i.set(d,{dirs:p,paths:v}),v.forEach(g=>{const f=r.get(g);f?f.push(d):r.set(g,[d])}),p.forEach(g=>{const f=r.get(g);f?f[f.length-1]instanceof Set?f[f.length-1].add(d):f.push(new Set([d])):r.set(g,[new Set([d])])}),h(d)}}},Ps}var Ts,zl;function Cy(){if(zl)return Ts;zl=1;const{isAbsolute:e,parse:t}=ce.win32;return Ts=s=>{let c="",a=t(s);for(;e(s)||a.root;){const n=s.charAt(0)==="/"&&s.slice(0,4)!=="//?/"?"/":a.root;s=s.slice(n.length),c+=n,a=t(s)}return[c,s]},Ts}var Is,Yl;function Ly(){if(Yl)return Is;Yl=1;const t=(process.env.__FAKE_PLATFORM__||process.platform)==="win32",s=$e.__FAKE_TESTING_FS__||me,{O_CREAT:c,O_TRUNC:a,O_WRONLY:n,UV_FS_O_FILEMAP:r=0}=s.constants,i=t&&!!r,o=512*1024,u=r|a|c|n;return Is=i?l=>l<o?u:"w":()=>"w",Is}var Ns,Kl;function Dy(){if(Kl)return Ns;Kl=1;const e=ut,t=Oy(),s=me,c=xf(),a=ce,n=Iy(),r=Ny(),i=$y(),o=Cy(),u=Js(),l=Qs(),m=qf(),h=Symbol("onEntry"),E=Symbol("checkFs"),R=Symbol("checkFs2"),v=Symbol("pruneCache"),d=Symbol("isReusable"),p=Symbol("makeFs"),g=Symbol("file"),f=Symbol("directory"),S=Symbol("link"),_=Symbol("symlink"),w=Symbol("hardlink"),y=Symbol("unsupported"),b=Symbol("checkPath"),P=Symbol("mkdir"),D=Symbol("onError"),x=Symbol("pending"),q=Symbol("pend"),$=Symbol("unpend"),L=Symbol("ended"),T=Symbol("maybeClose"),I=Symbol("skip"),k=Symbol("doChown"),U=Symbol("uid"),V=Symbol("gid"),j=Symbol("checkedCwd"),O=nf,N=Ly(),ee=(process.env.TESTING_TAR_FAKE_PLATFORM||process.platform)==="win32",M=1024,C=(Z,A)=>{if(!ee)return s.unlink(Z,A);const X=Z+".DELETE."+O.randomBytes(16).toString("hex");s.rename(Z,X,Q=>{if(Q)return A(Q);s.unlink(X,A)})},H=Z=>{if(!ee)return s.unlinkSync(Z);const A=Z+".DELETE."+O.randomBytes(16).toString("hex");s.renameSync(Z,A),s.unlinkSync(A)},G=(Z,A,X)=>Z===Z>>>0?Z:A===A>>>0?A:X,F=Z=>l(u(m(Z))).toLowerCase(),B=(Z,A)=>{A=F(A);for(const X of Z.keys()){const Q=F(X);(Q===A||Q.indexOf(A+"/")===0)&&Z.delete(X)}},Y=Z=>{for(const A of Z.keys())Z.delete(A)};class J extends t{constructor(A){if(A||(A={}),A.ondone=X=>{this[L]=!0,this[T]()},super(A),this[j]=!1,this.reservations=i(),this.transform=typeof A.transform=="function"?A.transform:null,this.writable=!0,this.readable=!1,this[x]=0,this[L]=!1,this.dirCache=A.dirCache||new Map,typeof A.uid=="number"||typeof A.gid=="number"){if(typeof A.uid!="number"||typeof A.gid!="number")throw new TypeError("cannot set owner without number uid and gid");if(A.preserveOwner)throw new TypeError("cannot preserve owner in archive and also set owner explicitly");this.uid=A.uid,this.gid=A.gid,this.setOwner=!0}else this.uid=null,this.gid=null,this.setOwner=!1;A.preserveOwner===void 0&&typeof A.uid!="number"?this.preserveOwner=process.getuid&&process.getuid()===0:this.preserveOwner=!!A.preserveOwner,this.processUid=(this.preserveOwner||this.setOwner)&&process.getuid?process.getuid():null,this.processGid=(this.preserveOwner||this.setOwner)&&process.getgid?process.getgid():null,this.maxDepth=typeof A.maxDepth=="number"?A.maxDepth:M,this.forceChown=A.forceChown===!0,this.win32=!!A.win32||ee,this.newer=!!A.newer,this.keep=!!A.keep,this.noMtime=!!A.noMtime,this.preservePaths=!!A.preservePaths,this.unlink=!!A.unlink,this.cwd=u(a.resolve(A.cwd||process.cwd())),this.strip=+A.strip||0,this.processUmask=A.noChmod?0:process.umask(),this.umask=typeof A.umask=="number"?A.umask:this.processUmask,this.dmode=A.dmode||511&~this.umask,this.fmode=A.fmode||438&~this.umask,this.on("entry",X=>this[h](X))}warn(A,X,Q={}){return(A==="TAR_BAD_ARCHIVE"||A==="TAR_ABORT")&&(Q.recoverable=!1),super.warn(A,X,Q)}[T](){this[L]&&this[x]===0&&(this.emit("prefinish"),this.emit("finish"),this.emit("end"))}[b](A){const X=u(A.path),Q=X.split("/");if(this.strip){if(Q.length<this.strip)return!1;if(A.type==="Link"){const W=u(A.linkpath).split("/");if(W.length>=this.strip)A.linkpath=W.slice(this.strip).join("/");else return!1}Q.splice(0,this.strip),A.path=Q.join("/")}if(isFinite(this.maxDepth)&&Q.length>this.maxDepth)return this.warn("TAR_ENTRY_ERROR","path excessively deep",{entry:A,path:X,depth:Q.length,maxDepth:this.maxDepth}),!1;if(!this.preservePaths){if(Q.includes("..")||ee&&/^[a-z]:\.\.$/i.test(Q[0]))return this.warn("TAR_ENTRY_ERROR","path contains '..'",{entry:A,path:X}),!1;const[W,ne]=o(X);W&&(A.path=ne,this.warn("TAR_ENTRY_INFO",`stripping ${W} from absolute path`,{entry:A,path:X}))}if(a.isAbsolute(A.path)?A.absolute=u(a.resolve(A.path)):A.absolute=u(a.resolve(this.cwd,A.path)),!this.preservePaths&&A.absolute.indexOf(this.cwd+"/")!==0&&A.absolute!==this.cwd)return this.warn("TAR_ENTRY_ERROR","path escaped extraction target",{entry:A,path:u(A.path),resolvedPath:A.absolute,cwd:this.cwd}),!1;if(A.absolute===this.cwd&&A.type!=="Directory"&&A.type!=="GNUDumpDir")return!1;if(this.win32){const{root:W}=a.win32.parse(A.absolute);A.absolute=W+r.encode(A.absolute.slice(W.length));const{root:ne}=a.win32.parse(A.path);A.path=ne+r.encode(A.path.slice(ne.length))}return!0}[h](A){if(!this[b](A))return A.resume();switch(e.equal(typeof A.absolute,"string"),A.type){case"Directory":case"GNUDumpDir":A.mode&&(A.mode=A.mode|448);case"File":case"OldFile":case"ContiguousFile":case"Link":case"SymbolicLink":return this[E](A);case"CharacterDevice":case"BlockDevice":case"FIFO":default:return this[y](A)}}[D](A,X){A.name==="CwdError"?this.emit("error",A):(this.warn("TAR_ENTRY_ERROR",A,{entry:X}),this[$](),X.resume())}[P](A,X,Q){n(u(A),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:X,noChmod:this.noChmod},Q)}[k](A){return this.forceChown||this.preserveOwner&&(typeof A.uid=="number"&&A.uid!==this.processUid||typeof A.gid=="number"&&A.gid!==this.processGid)||typeof this.uid=="number"&&this.uid!==this.processUid||typeof this.gid=="number"&&this.gid!==this.processGid}[U](A){return G(this.uid,A.uid,this.processUid)}[V](A){return G(this.gid,A.gid,this.processGid)}[g](A,X){const Q=A.mode&4095||this.fmode,W=new c.WriteStream(A.absolute,{flags:N(A.size),mode:Q,autoClose:!1});W.on("error",ie=>{W.fd&&s.close(W.fd,()=>{}),W.write=()=>!0,this[D](ie,A),X()});let ne=1;const K=ie=>{if(ie){W.fd&&s.close(W.fd,()=>{}),this[D](ie,A),X();return}--ne===0&&s.close(W.fd,ue=>{ue?this[D](ue,A):this[$](),X()})};W.on("finish",ie=>{const ue=A.absolute,le=W.fd;if(A.mtime&&!this.noMtime){ne++;const he=A.atime||new Date,ge=A.mtime;s.futimes(le,he,ge,Je=>Je?s.utimes(ue,he,ge,Qt=>K(Qt&&Je)):K())}if(this[k](A)){ne++;const he=this[U](A),ge=this[V](A);s.fchown(le,he,ge,Je=>Je?s.chown(ue,he,ge,Qt=>K(Qt&&Je)):K())}K()});const te=this.transform&&this.transform(A)||A;te!==A&&(te.on("error",ie=>{this[D](ie,A),X()}),A.pipe(te)),te.pipe(W)}[f](A,X){const Q=A.mode&4095||this.dmode;this[P](A.absolute,Q,W=>{if(W){this[D](W,A),X();return}let ne=1;const K=te=>{--ne===0&&(X(),this[$](),A.resume())};A.mtime&&!this.noMtime&&(ne++,s.utimes(A.absolute,A.atime||new Date,A.mtime,K)),this[k](A)&&(ne++,s.chown(A.absolute,this[U](A),this[V](A),K)),K()})}[y](A){A.unsupported=!0,this.warn("TAR_ENTRY_UNSUPPORTED",`unsupported entry type: ${A.type}`,{entry:A}),A.resume()}[_](A,X){this[S](A,A.linkpath,"symlink",X)}[w](A,X){const Q=u(a.resolve(this.cwd,A.linkpath));this[S](A,Q,"link",X)}[q](){this[x]++}[$](){this[x]--,this[T]()}[I](A){this[$](),A.resume()}[d](A,X){return A.type==="File"&&!this.unlink&&X.isFile()&&X.nlink<=1&&!ee}[E](A){this[q]();const X=[A.path];A.linkpath&&X.push(A.linkpath),this.reservations.reserve(X,Q=>this[R](A,Q))}[v](A){A.type==="SymbolicLink"?Y(this.dirCache):A.type!=="Directory"&&B(this.dirCache,A.absolute)}[R](A,X){this[v](A);const Q=te=>{this[v](A),X(te)},W=()=>{this[P](this.cwd,this.dmode,te=>{if(te){this[D](te,A),Q();return}this[j]=!0,ne()})},ne=()=>{if(A.absolute!==this.cwd){const te=u(a.dirname(A.absolute));if(te!==this.cwd)return this[P](te,this.dmode,ie=>{if(ie){this[D](ie,A),Q();return}K()})}K()},K=()=>{s.lstat(A.absolute,(te,ie)=>{if(ie&&(this.keep||this.newer&&ie.mtime>A.mtime)){this[I](A),Q();return}if(te||this[d](A,ie))return this[p](null,A,Q);if(ie.isDirectory()){if(A.type==="Directory"){const ue=!this.noChmod&&A.mode&&(ie.mode&4095)!==A.mode,le=he=>this[p](he,A,Q);return ue?s.chmod(A.absolute,A.mode,le):le()}if(A.absolute!==this.cwd)return s.rmdir(A.absolute,ue=>this[p](ue,A,Q))}if(A.absolute===this.cwd)return this[p](null,A,Q);C(A.absolute,ue=>this[p](ue,A,Q))})};this[j]?ne():W()}[p](A,X,Q){if(A){this[D](A,X),Q();return}switch(X.type){case"File":case"OldFile":case"ContiguousFile":return this[g](X,Q);case"Link":return this[w](X,Q);case"SymbolicLink":return this[_](X,Q);case"Directory":case"GNUDumpDir":return this[f](X,Q)}}[S](A,X,Q,W){s[Q](X,A.absolute,ne=>{ne?this[D](ne,A):(this[$](),A.resume()),W()})}}const re=Z=>{try{return[null,Z()]}catch(A){return[A,null]}};class se extends J{[p](A,X){return super[p](A,X,()=>{})}[E](A){if(this[v](A),!this[j]){const ne=this[P](this.cwd,this.dmode);if(ne)return this[D](ne,A);this[j]=!0}if(A.absolute!==this.cwd){const ne=u(a.dirname(A.absolute));if(ne!==this.cwd){const K=this[P](ne,this.dmode);if(K)return this[D](K,A)}}const[X,Q]=re(()=>s.lstatSync(A.absolute));if(Q&&(this.keep||this.newer&&Q.mtime>A.mtime))return this[I](A);if(X||this[d](A,Q))return this[p](null,A);if(Q.isDirectory()){if(A.type==="Directory"){const K=!this.noChmod&&A.mode&&(Q.mode&4095)!==A.mode,[te]=K?re(()=>{s.chmodSync(A.absolute,A.mode)}):[];return this[p](te,A)}const[ne]=re(()=>s.rmdirSync(A.absolute));this[p](ne,A)}const[W]=A.absolute===this.cwd?[]:re(()=>H(A.absolute));this[p](W,A)}[g](A,X){const Q=A.mode&4095||this.fmode,W=te=>{let ie;try{s.closeSync(ne)}catch(ue){ie=ue}(te||ie)&&this[D](te||ie,A),X()};let ne;try{ne=s.openSync(A.absolute,N(A.size),Q)}catch(te){return W(te)}const K=this.transform&&this.transform(A)||A;K!==A&&(K.on("error",te=>this[D](te,A)),A.pipe(K)),K.on("data",te=>{try{s.writeSync(ne,te,0,te.length)}catch(ie){W(ie)}}),K.on("end",te=>{let ie=null;if(A.mtime&&!this.noMtime){const ue=A.atime||new Date,le=A.mtime;try{s.futimesSync(ne,ue,le)}catch(he){try{s.utimesSync(A.absolute,ue,le)}catch{ie=he}}}if(this[k](A)){const ue=this[U](A),le=this[V](A);try{s.fchownSync(ne,ue,le)}catch(he){try{s.chownSync(A.absolute,ue,le)}catch{ie=ie||he}}}W(ie)})}[f](A,X){const Q=A.mode&4095||this.dmode,W=this[P](A.absolute,Q);if(W){this[D](W,A),X();return}if(A.mtime&&!this.noMtime)try{s.utimesSync(A.absolute,A.atime||new Date,A.mtime)}catch{}if(this[k](A))try{s.chownSync(A.absolute,this[U](A),this[V](A))}catch{}X(),A.resume()}[P](A,X){try{return n.sync(u(A),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:X})}catch(Q){return Q}}[S](A,X,Q,W){try{s[Q+"Sync"](X,A.absolute),W(),A.resume()}catch(ne){return this[D](ne,A)}}}return J.Sync=se,Ns=J,Ns}var $s,Xl;function xy(){if(Xl)return $s;Xl=1;const e=dy(),t=Dy(),s=me,c=xf(),a=ce,n=Qs();$s=(m,h,E)=>{typeof m=="function"?(E=m,h=null,m={}):Array.isArray(m)&&(h=m,m={}),typeof h=="function"&&(E=h,h=null),h?h=Array.from(h):h=[];const R=e(m);if(R.sync&&typeof E=="function")throw new TypeError("callback not supported for sync tar functions");if(!R.file&&typeof E=="function")throw new TypeError("callback only supported with file option");return h.length&&r(R,h),R.file&&R.sync?i(R):R.file?o(R,E):R.sync?u(R):l(R)};const r=(m,h)=>{const E=new Map(h.map(d=>[n(d),!0])),R=m.filter,v=(d,p)=>{const g=p||a.parse(d).root||".",f=d===g?!1:E.has(d)?E.get(d):v(a.dirname(d),g);return E.set(d,f),f};m.filter=R?(d,p)=>R(d,p)&&v(n(d)):d=>v(n(d))},i=m=>{const h=new t.Sync(m),E=m.file,R=s.statSync(E),v=m.maxReadSize||16*1024*1024;new c.ReadStreamSync(E,{readSize:v,size:R.size}).pipe(h)},o=(m,h)=>{const E=new t(m),R=m.maxReadSize||16*1024*1024,v=m.file,d=new Promise((p,g)=>{E.on("error",g),E.on("close",p),s.stat(v,(f,S)=>{if(f)g(f);else{const _=new c.ReadStream(v,{readSize:R,size:S.size});_.on("error",g),_.pipe(E)}})});return h?d.then(h,h):d},u=m=>new t.Sync(m),l=m=>new t(m);return $s}var Fy=xy();const qy=Ie(Fy);async function Gt(e,t=3,s=1e3){for(let c=0;c!==t;c++)try{return await e()}catch(a){if(c===t-1)throw a;await My(s)}throw new Error("Retry failed")}function My(e){return new Promise(t=>{setTimeout(t,e)})}async function eo(e,t){try{const s=t.path??fe(Wf(),"cmake-ts",`${Math.random()}`,to(e)),c=to(s),a=Hf(s);oe.debug(`Downloading ${e} to ${s}`),await pe.ensureDir(a);const n=new hy.DownloaderHelper(e,a,{fileName:c,timeout:t.timeout??-1,override:!0,retry:{maxRetries:3,delay:1e3}}),r=new Promise((o,u)=>{n.on("error",l=>{u(l)}),n.on("end",()=>{o()})}),i={filePath:s,hash:void 0};return await Promise.all([n.start(),r]),i.hash=t.hashType!==void 0?await ky(s,t.hashType):void 0,i}catch(s){throw new Error(`Failed to download ${e}: ${s}`)}}async function ky(e,t){const s=await pe.readFile(e),c=nf.createHash(t);return c.update(s),c.digest("hex")}async function By(e,t={}){const{filePath:s}=await eo(e,t);try{return await pe.readFile(s,"utf8")}finally{await pe.remove(s).catch(c=>{oe.debug("Ignoring error removing temporary file",s,c)})}}async function jy(e,t){const{hash:s}=await eo(e,t);if(!Mf(s,t))throw new Error(`Checksum mismatch for download ${e}. Expected ${t.hashSum}, got ${s}`);return s}async function Hy(e,t){const{filePath:s,hash:c}=await eo(e,t);try{if(!Mf(c,t))throw new Error(`Checksum mismatch for download ${e}. Expected ${t.hashSum}, got ${c}`);return await Gt(()=>qy({file:s,...t.extractOptions})),c}finally{(t.removeAfterExtract??!0)&&await pe.remove(s).catch(a=>{oe.debug("Ignoring error removing temporary file",s,a)})}}function Mf(e,t){return t.hashType===void 0||t.hashSum===void 0||t.hashSum===e}function Zl(e,t,s){const c=e.find(a=>a.getPath===s);return!!(c&&c.sum===t)}class Uy{constructor(t){this.config=t}_abi=null;internalPath(){return fe(cp,".cmake-ts",this.config.runtime,this.config.os,this.config.arch,`v${this.config.runtimeVersion}`)}externalPath(){return We(this.config).externalPath}winLibs(){return We(this.config).winLibs.map(t=>fe(this.internalPath(),t.dir,t.name))}headerOnly(){return We(this.config).headerOnly}abi(){return this._abi}async checkDownloaded(){let t=!1,s=!0,c=await Ne(this.internalPath());return c.isDirectory()||(t=!1),this.headerOnly()?(c=await Ne(fe(this.internalPath(),"include/node/node.h")),t=c.isFile()):(c=await Ne(fe(this.internalPath(),"src/node.h")),c.isFile()&&(c=await Ne(fe(this.internalPath(),"deps/v8/include/v8.h")),t=c.isFile())),this.config.os==="win32"&&(s=(await Promise.all(this.winLibs().map(r=>Ne(r)))).every(r=>r.isFile())),t&&s}async determineABI(){const t=await ay("*/node_version.h",{cwd:fe(this.internalPath(),"include"),absolute:!0,onlyFiles:!0,braceExpansion:!1}),s=t.length;if(s===0)return Promise.reject(new Error(`couldn't find include/*/node_version.h in ${this.internalPath()}. Make sure you install the dependencies for building the package.`));if(s!==1)return Promise.reject(new Error(`more than one node_version.h was found in ${this.internalPath()}.`));const c=t[0];let a;try{a=await pe.readFile(c,"utf8")}catch(i){if(i instanceof Error)return Promise.reject(i);throw i}const n=a.match(/#define\s+NODE_MODULE_VERSION\s+(\d+)/);if(!n)return Promise.reject(new Error("Failed to find NODE_MODULE_VERSION macro"));const r=Number.parseInt(n[1],10);return Number.isNaN(r)?Promise.reject(new Error("Invalid version specified by NODE_MODULE_VERSION macro")):(this._abi=r,this.config.abi=r,this.config.libc=$f(this.config.os),Promise.resolve())}async ensureDownloaded(){await this.checkDownloaded()||await this.download()}async download(){await pe.ensureDir(this.internalPath());const t=await this.downloadHashSums();await this.downloadTar(t),await this.downloadLibs(t)}async downloadHashSums(){if(this.config.runtime==="node"||this.config.runtime==="iojs"){const t=jt(this.externalPath(),"SHASUMS256.txt");return(await By(t)).split(`
`).map(c=>{const a=c.split(/\s+/);return{getPath:a[1],sum:a[0]}}).filter(c=>c.getPath&&c.sum)}return null}async downloadTar(t){const s=We(this.config).tarPath,c=jt(this.externalPath(),s),a=await Hy(c,{hashType:t?"sha256":void 0,extractOptions:{cwd:this.internalPath(),strip:1,filter:n=>{if(n===this.internalPath())return!0;const r=Uf(n);return r!==""&&r.toLowerCase()===".h"}}});if(t&&!Zl(t,a,s))throw new Error("Checksum mismatch")}async downloadLibs(t){if(this.config.os!=="win32")return;const s=We(this.config);await Promise.all(s.winLibs.map(c=>this.downloadLib(c,t)))}async downloadLib(t,s){const c=t.dir?jt(t.dir,t.name):t.name,a=jt(this.externalPath(),c);await pe.ensureDir(fe(this.internalPath(),t.dir));const n=await jy(a,{path:fe(this.internalPath(),c),hashType:s?"sha256":void 0});if(s&&!Zl(s,n,c))throw new Error("Checksum mismatch")}}async function mg(e){if(e.command.type==="error")return oe.error("The given options are invalid"),null;if(e.command.type==="none")return[];if(e.help)return[];const t=Fe(fe(process.cwd(),"package.json")),s=await Wm(t);if(s instanceof Error)return oe.error(s),null;const c=await jm(e,s);if(c===null)return oe.error("No configs to build"),null;for(const a of c)try{await Gy(a,e)}catch(n){return oe.error("Error building config",a.name,n),null}return c}async function Gy(e,t){oe.debug("config",JSON.stringify(e,null,2)),e.targetDirectory=Fe(fe(e.packageDirectory,e.targetDirectory)),oe.debug("running in",e.packageDirectory,"command",t),oe.debug("> Setting up staging directory... "),e.stagingDirectory=Fe(fe(e.packageDirectory,e.stagingDirectory)),await pe.pathExists(e.stagingDirectory)&&await Gt(()=>pe.remove(e.stagingDirectory)),await pe.ensureDir(e.stagingDirectory);const c=new Uy(e);oe.debug("> Distribution File Download... "),await c.ensureDownloaded(),oe.debug("> Determining ABI... "),await c.determineABI(),oe.debug("> Building directories... ");const a=fe(e.os,e.arch,e.runtime,`${e.libc}-${c.abi()}-${e.buildType}`,e.addonSubdirectory),n=Fe(fe(e.stagingDirectory,a)),r=Fe(fe(e.targetDirectory,a));i_(e);const i=new Sp(e,c),[o,u]=await i.configureCommand(),[l,m]=i.buildCommand(n);oe.info(Wy(e,c)),oe.debug(`> Configure: ${o} ${u.map(p=>`"${p}"`).join(" ")} in ${n}`),await pe.ensureDir(n),await zu(o,u,n),oe.debug(`> Build ${e.generatorBinary} ${m.map(p=>`"${p}"`).join(" ")} in ${n}`),await zu(l,m,n),oe.debug(`> Copying ${e.projectName}.node to ${r}`);const h=fe(r,`${e.projectName}.node`),E=e.generatorToUse.includes("Visual Studio")?fe(n,e.buildType,`${e.projectName}.node`):fe(n,`${e.projectName}.node`);await pe.ensureDir(r),await Gt(()=>pe.copy(E,h)),oe.debug("Adding the built config to the manifest file...");const R=fe(e.targetDirectory,"manifest.json");let v={};if(await pe.pathExists(R)){const p=await pe.readFile(R,"utf-8");v=JSON.parse(p)}v[Vy(e,e.packageDirectory)]=Jl(e.targetDirectory,h);const d=JSON.stringify(v,null,2);await Gt(()=>pe.writeFile(R,d))}function Wy(e,t){return`${e.name} ${e.os} ${e.arch} ${e.libc} ${e.runtime} ${e.runtimeVersion} ABI ${t.abi()}
${e.generatorToUse} ${e.generatorFlags?.join(" ")??""} ${e.buildType} ${e.toolchainFile!==void 0?`toolchain ${e.toolchainFile}`:""}
  ${e.CMakeOptions.join(" ")}`}function Vy(e,t){return JSON.stringify(e,(s,c)=>typeof c=="string"&&c.startsWith(t)?Jl(t,c):c)}class zy{buildDir;manifest;constructor(t){this.buildDir=t;const s=ce.resolve(t,"manifest.json");if(!me.existsSync(s))throw new Error(`Manifest file not found at ${s}`);try{oe.debug(`Reading and parsing manifest file at ${s}`);const c=me.readFileSync(s,"utf-8");this.manifest=JSON.parse(c)}catch(c){throw new Error(`Failed to read and parse the manifest file at ${s}: ${Wt(c)}`)}}findCompatibleConfigs(t){const s=this.getConfigKeys(),c=[];for(const a of s)try{const n=this.getConfig(a);if(n.os!==t.os||n.arch!==t.arch||n.libc!==t.libc){oe.debug(`Config ${a} is not compatible with the current runtime. Skipping...`);continue}const r=this.getAddonPath(a);c.push([n,ce.resolve(this.buildDir,r)])}catch(n){oe.warn(`Failed to parse config ${a}: ${Wt(n)}`)}if(c.length===0)throw new Error(`No compatible zeromq.js addon found for ${t.os} ${t.arch} ${t.libc}. The candidates were:
${s.join(`
`)}`);return c.sort(([a,n],[r,i])=>(r.abi??0)-(a.abi??0)),c}getConfigKeys(){return Object.keys(this.manifest)}getConfig(t){return JSON.parse(t)}getAddonPath(t){return this.manifest[t]}}function Yy(){return{os:process.platform,arch:process.arch,libc:$f(process.platform)}}function _g(e){let t;try{const s=Yy(),a=new zy(e).findCompatibleConfigs(s),n=typeof require=="function"?require:Zf(import.meta.url);for(const[r,i]of a)try{oe.debug(`Loading addon at ${i}`),t=n(i);break}catch(o){oe.warn(`Failed to load addon at ${i}: ${Wt(o)}
Trying others...`)}}catch(s){throw new Error(`Failed to load zeromq.js addon.node: ${Wt(s)}`)}if(t===void 0)throw new Error("No compatible zeromq.js addon found");return t}export{mg as build,Gy as buildConfig,Wt as errorString,_g as loadAddon,oe as logger};
//# sourceMappingURL=lib.mjs.map
